function hm(a,n){for(var s=0;s<n.length;s++){const i=n[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(i,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function Dl(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function fm(a){if(Object.prototype.hasOwnProperty.call(a,"__esModule"))return a;var n=a.default;if(typeof n=="function"){var s=function i(){return this instanceof i?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};s.prototype=n.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(a).forEach(function(i){var l=Object.getOwnPropertyDescriptor(a,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return a[i]}})}),s}var ul={exports:{}},Ms={},cl={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function pm(){if(Td)return Ae;Td=1;var a=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.iterator;function R(g){return g===null||typeof g!="object"?null:(g=j&&g[j]||g["@@iterator"],typeof g=="function"?g:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,U={};function M(g,S,B){this.props=g,this.context=S,this.refs=U,this.updater=B||I}M.prototype.isReactComponent={},M.prototype.setState=function(g,S){if(typeof g!="object"&&typeof g!="function"&&g!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,g,S,"setState")},M.prototype.forceUpdate=function(g){this.updater.enqueueForceUpdate(this,g,"forceUpdate")};function te(){}te.prototype=M.prototype;function le(g,S,B){this.props=g,this.context=S,this.refs=U,this.updater=B||I}var H=le.prototype=new te;H.constructor=le,W(H,M.prototype),H.isPureReactComponent=!0;var oe=Array.isArray,ge=Object.prototype.hasOwnProperty,J={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function Pe(g,S,B){var D,ne={},Z=null,ie=null;if(S!=null)for(D in S.ref!==void 0&&(ie=S.ref),S.key!==void 0&&(Z=""+S.key),S)ge.call(S,D)&&!ue.hasOwnProperty(D)&&(ne[D]=S[D]);var X=arguments.length-2;if(X===1)ne.children=B;else if(1<X){for(var ae=Array(X),xe=0;xe<X;xe++)ae[xe]=arguments[xe+2];ne.children=ae}if(g&&g.defaultProps)for(D in X=g.defaultProps,X)ne[D]===void 0&&(ne[D]=X[D]);return{$$typeof:a,type:g,key:Z,ref:ie,props:ne,_owner:J.current}}function qe(g,S){return{$$typeof:a,type:g.type,key:S,ref:g.ref,props:g.props,_owner:g._owner}}function Ze(g){return typeof g=="object"&&g!==null&&g.$$typeof===a}function gt(g){var S={"=":"=0",":":"=2"};return"$"+g.replace(/[=:]/g,function(B){return S[B]})}var lt=/\/+/g;function He(g,S){return typeof g=="object"&&g!==null&&g.key!=null?gt(""+g.key):S.toString(36)}function K(g,S,B,D,ne){var Z=typeof g;(Z==="undefined"||Z==="boolean")&&(g=null);var ie=!1;if(g===null)ie=!0;else switch(Z){case"string":case"number":ie=!0;break;case"object":switch(g.$$typeof){case a:case n:ie=!0}}if(ie)return ie=g,ne=ne(ie),g=D===""?"."+He(ie,0):D,oe(ne)?(B="",g!=null&&(B=g.replace(lt,"$&/")+"/"),K(ne,S,B,"",function(xe){return xe})):ne!=null&&(Ze(ne)&&(ne=qe(ne,B+(!ne.key||ie&&ie.key===ne.key?"":(""+ne.key).replace(lt,"$&/")+"/")+g)),S.push(ne)),1;if(ie=0,D=D===""?".":D+":",oe(g))for(var X=0;X<g.length;X++){Z=g[X];var ae=D+He(Z,X);ie+=K(Z,S,B,ae,ne)}else if(ae=R(g),typeof ae=="function")for(g=ae.call(g),X=0;!(Z=g.next()).done;)Z=Z.value,ae=D+He(Z,X++),ie+=K(Z,S,B,ae,ne);else if(Z==="object")throw S=String(g),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.");return ie}function Q(g,S,B){if(g==null)return g;var D=[],ne=0;return K(g,D,"","",function(Z){return S.call(B,Z,ne++)}),D}function L(g){if(g._status===-1){var S=g._result;S=S(),S.then(function(B){(g._status===0||g._status===-1)&&(g._status=1,g._result=B)},function(B){(g._status===0||g._status===-1)&&(g._status=2,g._result=B)}),g._status===-1&&(g._status=0,g._result=S)}if(g._status===1)return g._result.default;throw g._result}var w={current:null},m={transition:null},b={ReactCurrentDispatcher:w,ReactCurrentBatchConfig:m,ReactCurrentOwner:J};function _(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:Q,forEach:function(g,S,B){Q(g,function(){S.apply(this,arguments)},B)},count:function(g){var S=0;return Q(g,function(){S++}),S},toArray:function(g){return Q(g,function(S){return S})||[]},only:function(g){if(!Ze(g))throw Error("React.Children.only expected to receive a single React element child.");return g}},Ae.Component=M,Ae.Fragment=s,Ae.Profiler=l,Ae.PureComponent=le,Ae.StrictMode=i,Ae.Suspense=v,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b,Ae.act=_,Ae.cloneElement=function(g,S,B){if(g==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+g+".");var D=W({},g.props),ne=g.key,Z=g.ref,ie=g._owner;if(S!=null){if(S.ref!==void 0&&(Z=S.ref,ie=J.current),S.key!==void 0&&(ne=""+S.key),g.type&&g.type.defaultProps)var X=g.type.defaultProps;for(ae in S)ge.call(S,ae)&&!ue.hasOwnProperty(ae)&&(D[ae]=S[ae]===void 0&&X!==void 0?X[ae]:S[ae])}var ae=arguments.length-2;if(ae===1)D.children=B;else if(1<ae){X=Array(ae);for(var xe=0;xe<ae;xe++)X[xe]=arguments[xe+2];D.children=X}return{$$typeof:a,type:g.type,key:ne,ref:Z,props:D,_owner:ie}},Ae.createContext=function(g){return g={$$typeof:f,_currentValue:g,_currentValue2:g,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},g.Provider={$$typeof:c,_context:g},g.Consumer=g},Ae.createElement=Pe,Ae.createFactory=function(g){var S=Pe.bind(null,g);return S.type=g,S},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(g){return{$$typeof:p,render:g}},Ae.isValidElement=Ze,Ae.lazy=function(g){return{$$typeof:k,_payload:{_status:-1,_result:g},_init:L}},Ae.memo=function(g,S){return{$$typeof:x,type:g,compare:S===void 0?null:S}},Ae.startTransition=function(g){var S=m.transition;m.transition={};try{g()}finally{m.transition=S}},Ae.unstable_act=_,Ae.useCallback=function(g,S){return w.current.useCallback(g,S)},Ae.useContext=function(g){return w.current.useContext(g)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(g){return w.current.useDeferredValue(g)},Ae.useEffect=function(g,S){return w.current.useEffect(g,S)},Ae.useId=function(){return w.current.useId()},Ae.useImperativeHandle=function(g,S,B){return w.current.useImperativeHandle(g,S,B)},Ae.useInsertionEffect=function(g,S){return w.current.useInsertionEffect(g,S)},Ae.useLayoutEffect=function(g,S){return w.current.useLayoutEffect(g,S)},Ae.useMemo=function(g,S){return w.current.useMemo(g,S)},Ae.useReducer=function(g,S,B){return w.current.useReducer(g,S,B)},Ae.useRef=function(g){return w.current.useRef(g)},Ae.useState=function(g){return w.current.useState(g)},Ae.useSyncExternalStore=function(g,S,B){return w.current.useSyncExternalStore(g,S,B)},Ae.useTransition=function(){return w.current.useTransition()},Ae.version="18.3.1",Ae}var Ad;function Ul(){return Ad||(Ad=1,cl.exports=pm()),cl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function mm(){if(Ld)return Ms;Ld=1;var a=Ul(),n=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,v,x){var k,j={},R=null,I=null;x!==void 0&&(R=""+x),v.key!==void 0&&(R=""+v.key),v.ref!==void 0&&(I=v.ref);for(k in v)i.call(v,k)&&!c.hasOwnProperty(k)&&(j[k]=v[k]);if(p&&p.defaultProps)for(k in v=p.defaultProps,v)j[k]===void 0&&(j[k]=v[k]);return{$$typeof:n,type:p,key:R,ref:I,props:j,_owner:l.current}}return Ms.Fragment=s,Ms.jsx=f,Ms.jsxs=f,Ms}var Md;function gm(){return Md||(Md=1,ul.exports=mm()),ul.exports}var d=gm(),q=Ul();const Eh=Dl(q),vm=hm({__proto__:null,default:Eh},[q]);var ii={},dl={exports:{}},At={},hl={exports:{}},fl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function ym(){return $d||($d=1,function(a){function n(m,b){var _=m.length;m.push(b);e:for(;0<_;){var g=_-1>>>1,S=m[g];if(0<l(S,b))m[g]=b,m[_]=S,_=g;else break e}}function s(m){return m.length===0?null:m[0]}function i(m){if(m.length===0)return null;var b=m[0],_=m.pop();if(_!==b){m[0]=_;e:for(var g=0,S=m.length,B=S>>>1;g<B;){var D=2*(g+1)-1,ne=m[D],Z=D+1,ie=m[Z];if(0>l(ne,_))Z<S&&0>l(ie,ne)?(m[g]=ie,m[Z]=_,g=Z):(m[g]=ne,m[D]=_,g=D);else if(Z<S&&0>l(ie,_))m[g]=ie,m[Z]=_,g=Z;else break e}}return b}function l(m,b){var _=m.sortIndex-b.sortIndex;return _!==0?_:m.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();a.unstable_now=function(){return f.now()-p}}var v=[],x=[],k=1,j=null,R=3,I=!1,W=!1,U=!1,M=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(m){for(var b=s(x);b!==null;){if(b.callback===null)i(x);else if(b.startTime<=m)i(x),b.sortIndex=b.expirationTime,n(v,b);else break;b=s(x)}}function oe(m){if(U=!1,H(m),!W)if(s(v)!==null)W=!0,L(ge);else{var b=s(x);b!==null&&w(oe,b.startTime-m)}}function ge(m,b){W=!1,U&&(U=!1,te(Pe),Pe=-1),I=!0;var _=R;try{for(H(b),j=s(v);j!==null&&(!(j.expirationTime>b)||m&&!gt());){var g=j.callback;if(typeof g=="function"){j.callback=null,R=j.priorityLevel;var S=g(j.expirationTime<=b);b=a.unstable_now(),typeof S=="function"?j.callback=S:j===s(v)&&i(v),H(b)}else i(v);j=s(v)}if(j!==null)var B=!0;else{var D=s(x);D!==null&&w(oe,D.startTime-b),B=!1}return B}finally{j=null,R=_,I=!1}}var J=!1,ue=null,Pe=-1,qe=5,Ze=-1;function gt(){return!(a.unstable_now()-Ze<qe)}function lt(){if(ue!==null){var m=a.unstable_now();Ze=m;var b=!0;try{b=ue(!0,m)}finally{b?He():(J=!1,ue=null)}}else J=!1}var He;if(typeof le=="function")He=function(){le(lt)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Q=K.port2;K.port1.onmessage=lt,He=function(){Q.postMessage(null)}}else He=function(){M(lt,0)};function L(m){ue=m,J||(J=!0,He())}function w(m,b){Pe=M(function(){m(a.unstable_now())},b)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(m){m.callback=null},a.unstable_continueExecution=function(){W||I||(W=!0,L(ge))},a.unstable_forceFrameRate=function(m){0>m||125<m?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):qe=0<m?Math.floor(1e3/m):5},a.unstable_getCurrentPriorityLevel=function(){return R},a.unstable_getFirstCallbackNode=function(){return s(v)},a.unstable_next=function(m){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var _=R;R=b;try{return m()}finally{R=_}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(m,b){switch(m){case 1:case 2:case 3:case 4:case 5:break;default:m=3}var _=R;R=m;try{return b()}finally{R=_}},a.unstable_scheduleCallback=function(m,b,_){var g=a.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?g+_:g):_=g,m){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=_+S,m={id:k++,callback:b,priorityLevel:m,startTime:_,expirationTime:S,sortIndex:-1},_>g?(m.sortIndex=_,n(x,m),s(v)===null&&m===s(x)&&(U?(te(Pe),Pe=-1):U=!0,w(oe,_-g))):(m.sortIndex=S,n(v,m),W||I||(W=!0,L(ge))),m},a.unstable_shouldYield=gt,a.unstable_wrapCallback=function(m){var b=R;return function(){var _=R;R=b;try{return m.apply(this,arguments)}finally{R=_}}}}(fl)),fl}var Id;function wm(){return Id||(Id=1,hl.exports=ym()),hl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dd;function xm(){if(Dd)return At;Dd=1;var a=Ul(),n=wm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,x=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k={},j={};function R(e){return v.call(j,e)?!0:v.call(k,e)?!1:x.test(e)?j[e]=!0:(k[e]=!0,!1)}function I(e,t,r,o){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W(e,t,r,o){if(t===null||typeof t>"u"||I(e,t,r,o))return!0;if(o)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function U(e,t,r,o,u,h,y){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=y}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){M[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];M[t]=new U(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){M[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){M[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){M[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){M[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){M[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){M[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){M[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function le(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(te,le);M[t]=new U(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(te,le);M[t]=new U(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(te,le);M[t]=new U(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){M[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),M.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){M[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,r,o){var u=M.hasOwnProperty(t)?M[t]:null;(u!==null?u.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W(t,r,u,o)&&(r=null),o||u===null?R(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):u.mustUseProperty?e[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,o=u.attributeNamespace,r===null?e.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,o?e.setAttributeNS(o,t,r):e.setAttribute(t,r))))}var oe=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),J=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),Pe=Symbol.for("react.strict_mode"),qe=Symbol.for("react.profiler"),Ze=Symbol.for("react.provider"),gt=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),m=Symbol.iterator;function b(e){return e===null||typeof e!="object"?null:(e=m&&e[m]||e["@@iterator"],typeof e=="function"?e:null)}var _=Object.assign,g;function S(e){if(g===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);g=t&&t[1]||""}return`
`+g+e}var B=!1;function D(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch($){var o=$}Reflect.construct(e,[],t)}else{try{t.call()}catch($){o=$}e.call(t.prototype)}else{try{throw Error()}catch($){o=$}e()}}catch($){if($&&o&&typeof $.stack=="string"){for(var u=$.stack.split(`
`),h=o.stack.split(`
`),y=u.length-1,C=h.length-1;1<=y&&0<=C&&u[y]!==h[C];)C--;for(;1<=y&&0<=C;y--,C--)if(u[y]!==h[C]){if(y!==1||C!==1)do if(y--,C--,0>C||u[y]!==h[C]){var N=`
`+u[y].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=y&&0<=C);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?S(e):""}function ne(e){switch(e.tag){case 5:return S(e.type);case 16:return S("Lazy");case 13:return S("Suspense");case 19:return S("SuspenseList");case 0:case 2:case 15:return e=D(e.type,!1),e;case 11:return e=D(e.type.render,!1),e;case 1:return e=D(e.type,!0),e;default:return""}}function Z(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case J:return"Portal";case qe:return"Profiler";case Pe:return"StrictMode";case He:return"Suspense";case K:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gt:return(e.displayName||"Context")+".Consumer";case Ze:return(e._context.displayName||"Context")+".Provider";case lt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Z(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return Z(e(t))}catch{}}return null}function ie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===Pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xe(e){var t=ae(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){o=""+y,h.call(this,y)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function be(e){e._valueTracker||(e._valueTracker=xe(e))}function P(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),o="";return e&&(o=ae(e)?e.checked?"true":"false":e.value),e=o,e!==r?(t.setValue(e),!0):!1}function z(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function T(e,t){var r=t.checked;return _({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function F(e,t){var r=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;r=X(t.value!=null?t.value:r),e._wrapperState={initialChecked:o,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function he(e,t){G(e,t);var r=X(t.value),o=t.type;if(r!=null)o==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ce(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,X(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Se(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ce(e,t,r){(t!=="number"||z(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Te=Array.isArray;function V(e,t,r,o){if(e=e.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=t.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+X(r),t=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function fe(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return _({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ee(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(s(92));if(Te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:X(r)}}function Le(e,t){var r=X(t.value),o=X(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),o!=null&&(e.defaultValue=""+o)}function $e(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Re(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ve,De=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,o,u){MSApp.execUnsafeLocalFunction(function(){return e(t,r,o,u)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ve=ve||document.createElement("div"),ve.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ye(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nt=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(e){nt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),We[t]=We[e]})});function et(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||We.hasOwnProperty(e)&&We[e]?(""+t).trim():t+"px"}function or(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=r.indexOf("--")===0,u=et(r,t[r],o);r==="float"&&(r="cssFloat"),o?e.setProperty(r,u):e[r]=u}}var Hr=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jt(e,t){if(t){if(Hr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function bi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ki=null;function ji(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,dn=null,hn=null;function Jl(e){if(e=xs(e)){if(typeof Si!="function")throw Error(s(280));var t=e.stateNode;t&&(t=_o(t),Si(e.stateNode,e.type,t))}}function Gl(e){dn?hn?hn.push(e):hn=[e]:dn=e}function Zl(){if(dn){var e=dn,t=hn;if(hn=dn=null,Jl(e),t)for(e=0;e<t.length;e++)Jl(t[e])}}function Yl(e,t){return e(t)}function Xl(){}var Ci=!1;function eu(e,t,r){if(Ci)return e(t,r);Ci=!0;try{return Yl(e,t,r)}finally{Ci=!1,(dn!==null||hn!==null)&&(Xl(),Zl())}}function Xn(e,t){var r=e.stateNode;if(r===null)return null;var o=_o(r);if(o===null)return null;r=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,t,typeof r));return r}var Ni=!1;if(p)try{var es={};Object.defineProperty(es,"passive",{get:function(){Ni=!0}}),window.addEventListener("test",es,es),window.removeEventListener("test",es,es)}catch{Ni=!1}function yf(e,t,r,o,u,h,y,C,N){var $=Array.prototype.slice.call(arguments,3);try{t.apply(r,$)}catch(ee){this.onError(ee)}}var ts=!1,Ys=null,Xs=!1,Ei=null,wf={onError:function(e){ts=!0,Ys=e}};function xf(e,t,r,o,u,h,y,C,N){ts=!1,Ys=null,yf.apply(wf,arguments)}function _f(e,t,r,o,u,h,y,C,N){if(xf.apply(this,arguments),ts){if(ts){var $=Ys;ts=!1,Ys=null}else throw Error(s(198));Xs||(Xs=!0,Ei=$)}}function Wr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ru(e){if(Wr(e)!==e)throw Error(s(188))}function bf(e){var t=e.alternate;if(!t){if(t=Wr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var r=e,o=t;;){var u=r.return;if(u===null)break;var h=u.alternate;if(h===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===r)return ru(u),e;if(h===o)return ru(u),t;h=h.sibling}throw Error(s(188))}if(r.return!==o.return)r=u,o=h;else{for(var y=!1,C=u.child;C;){if(C===r){y=!0,r=u,o=h;break}if(C===o){y=!0,o=u,r=h;break}C=C.sibling}if(!y){for(C=h.child;C;){if(C===r){y=!0,r=h,o=u;break}if(C===o){y=!0,o=h,r=u;break}C=C.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:t}function nu(e){return e=bf(e),e!==null?su(e):null}function su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=su(e);if(t!==null)return t;e=e.sibling}return null}var ou=n.unstable_scheduleCallback,iu=n.unstable_cancelCallback,kf=n.unstable_shouldYield,jf=n.unstable_requestPaint,st=n.unstable_now,Sf=n.unstable_getCurrentPriorityLevel,Ri=n.unstable_ImmediatePriority,au=n.unstable_UserBlockingPriority,eo=n.unstable_NormalPriority,Cf=n.unstable_LowPriority,lu=n.unstable_IdlePriority,to=null,er=null;function Nf(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(to,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Pf,Ef=Math.log,Rf=Math.LN2;function Pf(e){return e>>>=0,e===0?32:31-(Ef(e)/Rf|0)|0}var ro=64,no=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function so(e,t){var r=e.pendingLanes;if(r===0)return 0;var o=0,u=e.suspendedLanes,h=e.pingedLanes,y=r&268435455;if(y!==0){var C=y&~u;C!==0?o=rs(C):(h&=y,h!==0&&(o=rs(h)))}else y=r&~u,y!==0?o=rs(y):h!==0&&(o=rs(h));if(o===0)return 0;if(t!==0&&t!==o&&(t&u)===0&&(u=o&-o,h=t&-t,u>=h||u===16&&(h&4194240)!==0))return t;if((o&4)!==0&&(o|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)r=31-Wt(t),u=1<<r,o|=e[r],t&=~u;return o}function Of(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tf(e,t){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes;0<h;){var y=31-Wt(h),C=1<<y,N=u[y];N===-1?((C&r)===0||(C&o)!==0)&&(u[y]=Of(C,t)):N<=t&&(e.expiredLanes|=C),h&=~C}}function Pi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uu(){var e=ro;return ro<<=1,(ro&4194240)===0&&(ro=64),e}function Oi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=r}function Af(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<r;){var u=31-Wt(r),h=1<<u;t[u]=0,o[u]=-1,e[u]=-1,r&=~h}}function Ti(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var o=31-Wt(r),u=1<<o;u&t|e[o]&t&&(e[o]|=t),r&=~u}}var Fe=0;function cu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var du,Ai,hu,fu,pu,Li=!1,oo=[],gr=null,vr=null,yr=null,ss=new Map,os=new Map,wr=[],Lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":ss.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function is(e,t,r,o,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[u]},t!==null&&(t=xs(t),t!==null&&Ai(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Mf(e,t,r,o,u){switch(t){case"focusin":return gr=is(gr,e,t,r,o,u),!0;case"dragenter":return vr=is(vr,e,t,r,o,u),!0;case"mouseover":return yr=is(yr,e,t,r,o,u),!0;case"pointerover":var h=u.pointerId;return ss.set(h,is(ss.get(h)||null,e,t,r,o,u)),!0;case"gotpointercapture":return h=u.pointerId,os.set(h,is(os.get(h)||null,e,t,r,o,u)),!0}return!1}function gu(e){var t=Vr(e.target);if(t!==null){var r=Wr(t);if(r!==null){if(t=r.tag,t===13){if(t=tu(r),t!==null){e.blockedOn=t,pu(e.priority,function(){hu(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$i(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);ki=o,r.target.dispatchEvent(o),ki=null}else return t=xs(r),t!==null&&Ai(t),e.blockedOn=r,!1;t.shift()}return!0}function vu(e,t,r){io(e)&&r.delete(t)}function $f(){Li=!1,gr!==null&&io(gr)&&(gr=null),vr!==null&&io(vr)&&(vr=null),yr!==null&&io(yr)&&(yr=null),ss.forEach(vu),os.forEach(vu)}function as(e,t){e.blockedOn===t&&(e.blockedOn=null,Li||(Li=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$f)))}function ls(e){function t(u){return as(u,e)}if(0<oo.length){as(oo[0],e);for(var r=1;r<oo.length;r++){var o=oo[r];o.blockedOn===e&&(o.blockedOn=null)}}for(gr!==null&&as(gr,e),vr!==null&&as(vr,e),yr!==null&&as(yr,e),ss.forEach(t),os.forEach(t),r=0;r<wr.length;r++)o=wr[r],o.blockedOn===e&&(o.blockedOn=null);for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)gu(r),r.blockedOn===null&&wr.shift()}var fn=oe.ReactCurrentBatchConfig,ao=!0;function If(e,t,r,o){var u=Fe,h=fn.transition;fn.transition=null;try{Fe=1,Mi(e,t,r,o)}finally{Fe=u,fn.transition=h}}function Df(e,t,r,o){var u=Fe,h=fn.transition;fn.transition=null;try{Fe=4,Mi(e,t,r,o)}finally{Fe=u,fn.transition=h}}function Mi(e,t,r,o){if(ao){var u=$i(e,t,r,o);if(u===null)Xi(e,t,o,lo,r),mu(e,o);else if(Mf(u,e,t,r,o))o.stopPropagation();else if(mu(e,o),t&4&&-1<Lf.indexOf(e)){for(;u!==null;){var h=xs(u);if(h!==null&&du(h),h=$i(e,t,r,o),h===null&&Xi(e,t,o,lo,r),h===u)break;u=h}u!==null&&o.stopPropagation()}else Xi(e,t,o,null,r)}}var lo=null;function $i(e,t,r,o){if(lo=null,e=ji(o),e=Vr(e),e!==null)if(t=Wr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return lo=e,null}function yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sf()){case Ri:return 1;case au:return 4;case eo:case Cf:return 16;case lu:return 536870912;default:return 16}default:return 16}}var xr=null,Ii=null,uo=null;function wu(){if(uo)return uo;var e,t=Ii,r=t.length,o,u="value"in xr?xr.value:xr.textContent,h=u.length;for(e=0;e<r&&t[e]===u[e];e++);var y=r-e;for(o=1;o<=y&&t[r-o]===u[h-o];o++);return uo=u.slice(e,1<o?1-o:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ho(){return!0}function xu(){return!1}function Mt(e){function t(r,o,u,h,y){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(r=e[C],this[C]=r?r(h):h[C]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?ho:xu,this.isPropagationStopped=xu,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ho)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ho)},persist:function(){},isPersistent:ho}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Mt(pn),us=_({},pn,{view:0,detail:0}),Uf=Mt(us),Ui,zi,cs,fo=_({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Ui=e.screenX-cs.screenX,zi=e.screenY-cs.screenY):zi=Ui=0,cs=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),_u=Mt(fo),zf=_({},fo,{dataTransfer:0}),Bf=Mt(zf),Ff=_({},us,{relatedTarget:0}),Bi=Mt(Ff),qf=_({},pn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=Mt(qf),Wf=_({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vf=Mt(Wf),Kf=_({},pn,{data:0}),bu=Mt(Kf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gf[e])?!!t[e]:!1}function Fi(){return Zf}var Yf=_({},us,{key:function(e){if(e.key){var t=Qf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fi,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xf=Mt(Yf),ep=_({},fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=Mt(ep),tp=_({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fi}),rp=Mt(tp),np=_({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=Mt(np),op=_({},fo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ip=Mt(op),ap=[9,13,27,32],qi=p&&"CompositionEvent"in window,ds=null;p&&"documentMode"in document&&(ds=document.documentMode);var lp=p&&"TextEvent"in window&&!ds,ju=p&&(!qi||ds&&8<ds&&11>=ds),Su=" ",Cu=!1;function Nu(e,t){switch(e){case"keyup":return ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mn=!1;function up(e,t){switch(e){case"compositionend":return Eu(t);case"keypress":return t.which!==32?null:(Cu=!0,Su);case"textInput":return e=t.data,e===Su&&Cu?null:e;default:return null}}function cp(e,t){if(mn)return e==="compositionend"||!qi&&Nu(e,t)?(e=wu(),uo=Ii=xr=null,mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ju&&t.locale!=="ko"?null:t.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dp[e.type]:t==="textarea"}function Pu(e,t,r,o){Gl(o),t=yo(t,"onChange"),0<t.length&&(r=new Di("onChange","change",null,r,o),e.push({event:r,listeners:t}))}var hs=null,fs=null;function hp(e){Qu(e,0)}function po(e){var t=xn(e);if(P(t))return e}function fp(e,t){if(e==="change")return t}var Ou=!1;if(p){var Hi;if(p){var Wi="oninput"in document;if(!Wi){var Tu=document.createElement("div");Tu.setAttribute("oninput","return;"),Wi=typeof Tu.oninput=="function"}Hi=Wi}else Hi=!1;Ou=Hi&&(!document.documentMode||9<document.documentMode)}function Au(){hs&&(hs.detachEvent("onpropertychange",Lu),fs=hs=null)}function Lu(e){if(e.propertyName==="value"&&po(fs)){var t=[];Pu(t,fs,e,ji(e)),eu(hp,t)}}function pp(e,t,r){e==="focusin"?(Au(),hs=t,fs=r,hs.attachEvent("onpropertychange",Lu)):e==="focusout"&&Au()}function mp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return po(fs)}function gp(e,t){if(e==="click")return po(t)}function vp(e,t){if(e==="input"||e==="change")return po(t)}function yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:yp;function ps(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!v.call(t,u)||!Vt(e[u],t[u]))return!1}return!0}function Mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var r=Mu(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=t&&o>=t)return{node:r,offset:t-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mu(r)}}function Iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Du(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=z(e.document)}return t}function Vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Du(),r=e.focusedElem,o=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Iu(r.ownerDocument.documentElement,r)){if(o!==null&&Vi(r)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var u=r.textContent.length,h=Math.min(o.start,u);o=o.end===void 0?h:Math.min(o.end,u),!e.extend&&h>o&&(u=o,o=h,h=u),u=$u(r,h);var y=$u(r,o);u&&y&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),e.removeAllRanges(),h>o?(e.addRange(t),e.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xp=p&&"documentMode"in document&&11>=document.documentMode,gn=null,Ki=null,ms=null,Qi=!1;function Uu(e,t,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qi||gn==null||gn!==z(o)||(o=gn,"selectionStart"in o&&Vi(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ms&&ps(ms,o)||(ms=o,o=yo(Ki,"onSelect"),0<o.length&&(t=new Di("onSelect","select",null,t,r),e.push({event:t,listeners:o}),t.target=gn)))}function mo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vn={animationend:mo("Animation","AnimationEnd"),animationiteration:mo("Animation","AnimationIteration"),animationstart:mo("Animation","AnimationStart"),transitionend:mo("Transition","TransitionEnd")},Ji={},zu={};p&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function go(e){if(Ji[e])return Ji[e];if(!vn[e])return e;var t=vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in zu)return Ji[e]=t[r];return e}var Bu=go("animationend"),Fu=go("animationiteration"),qu=go("animationstart"),Hu=go("transitionend"),Wu=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Wu.set(e,t),c(t,[e])}for(var Gi=0;Gi<Vu.length;Gi++){var Zi=Vu[Gi],_p=Zi.toLowerCase(),bp=Zi[0].toUpperCase()+Zi.slice(1);_r(_p,"on"+bp)}_r(Bu,"onAnimationEnd"),_r(Fu,"onAnimationIteration"),_r(qu,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Hu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kp=new Set("cancel close invalid load scroll toggle".split(" ").concat(gs));function Ku(e,t,r){var o=e.type||"unknown-event";e.currentTarget=r,_f(o,t,void 0,e),e.currentTarget=null}function Qu(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var h=void 0;if(t)for(var y=o.length-1;0<=y;y--){var C=o[y],N=C.instance,$=C.currentTarget;if(C=C.listener,N!==h&&u.isPropagationStopped())break e;Ku(u,C,$),h=N}else for(y=0;y<o.length;y++){if(C=o[y],N=C.instance,$=C.currentTarget,C=C.listener,N!==h&&u.isPropagationStopped())break e;Ku(u,C,$),h=N}}}if(Xs)throw e=Ei,Xs=!1,Ei=null,e}function Qe(e,t){var r=t[oa];r===void 0&&(r=t[oa]=new Set);var o=e+"__bubble";r.has(o)||(Ju(t,e,2,!1),r.add(o))}function Yi(e,t,r){var o=0;t&&(o|=4),Ju(r,e,o,t)}var vo="_reactListening"+Math.random().toString(36).slice(2);function vs(e){if(!e[vo]){e[vo]=!0,i.forEach(function(r){r!=="selectionchange"&&(kp.has(r)||Yi(r,!1,e),Yi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vo]||(t[vo]=!0,Yi("selectionchange",!1,t))}}function Ju(e,t,r,o){switch(yu(t)){case 1:var u=If;break;case 4:u=Df;break;default:u=Mi}r=u.bind(null,t,r,e),u=void 0,!Ni||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,r,{capture:!0,passive:u}):e.addEventListener(t,r,!0):u!==void 0?e.addEventListener(t,r,{passive:u}):e.addEventListener(t,r,!1)}function Xi(e,t,r,o,u){var h=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var C=o.stateNode.containerInfo;if(C===u||C.nodeType===8&&C.parentNode===u)break;if(y===4)for(y=o.return;y!==null;){var N=y.tag;if((N===3||N===4)&&(N=y.stateNode.containerInfo,N===u||N.nodeType===8&&N.parentNode===u))return;y=y.return}for(;C!==null;){if(y=Vr(C),y===null)return;if(N=y.tag,N===5||N===6){o=h=y;continue e}C=C.parentNode}}o=o.return}eu(function(){var $=h,ee=ji(r),re=[];e:{var Y=Wu.get(e);if(Y!==void 0){var ce=Di,pe=e;switch(e){case"keypress":if(co(r)===0)break e;case"keydown":case"keyup":ce=Xf;break;case"focusin":pe="focus",ce=Bi;break;case"focusout":pe="blur",ce=Bi;break;case"beforeblur":case"afterblur":ce=Bi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=rp;break;case Bu:case Fu:case qu:ce=Hf;break;case Hu:ce=sp;break;case"scroll":ce=Uf;break;case"wheel":ce=ip;break;case"copy":case"cut":case"paste":ce=Vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=ku}var me=(t&4)!==0,ot=!me&&e==="scroll",O=me?Y!==null?Y+"Capture":null:Y;me=[];for(var E=$,A;E!==null;){A=E;var se=A.stateNode;if(A.tag===5&&se!==null&&(A=se,O!==null&&(se=Xn(E,O),se!=null&&me.push(ys(E,se,A)))),ot)break;E=E.return}0<me.length&&(Y=new ce(Y,pe,null,r,ee),re.push({event:Y,listeners:me}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",ce=e==="mouseout"||e==="pointerout",Y&&r!==ki&&(pe=r.relatedTarget||r.fromElement)&&(Vr(pe)||pe[ir]))break e;if((ce||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,ce?(pe=r.relatedTarget||r.toElement,ce=$,pe=pe?Vr(pe):null,pe!==null&&(ot=Wr(pe),pe!==ot||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=$),ce!==pe)){if(me=_u,se="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(me=ku,se="onPointerLeave",O="onPointerEnter",E="pointer"),ot=ce==null?Y:xn(ce),A=pe==null?Y:xn(pe),Y=new me(se,E+"leave",ce,r,ee),Y.target=ot,Y.relatedTarget=A,se=null,Vr(ee)===$&&(me=new me(O,E+"enter",pe,r,ee),me.target=A,me.relatedTarget=ot,se=me),ot=se,ce&&pe)t:{for(me=ce,O=pe,E=0,A=me;A;A=yn(A))E++;for(A=0,se=O;se;se=yn(se))A++;for(;0<E-A;)me=yn(me),E--;for(;0<A-E;)O=yn(O),A--;for(;E--;){if(me===O||O!==null&&me===O.alternate)break t;me=yn(me),O=yn(O)}me=null}else me=null;ce!==null&&Gu(re,Y,ce,me,!1),pe!==null&&ot!==null&&Gu(re,ot,pe,me,!0)}}e:{if(Y=$?xn($):window,ce=Y.nodeName&&Y.nodeName.toLowerCase(),ce==="select"||ce==="input"&&Y.type==="file")var we=fp;else if(Ru(Y))if(Ou)we=vp;else{we=mp;var ke=pp}else(ce=Y.nodeName)&&ce.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(we=gp);if(we&&(we=we(e,$))){Pu(re,we,r,ee);break e}ke&&ke(e,Y,$),e==="focusout"&&(ke=Y._wrapperState)&&ke.controlled&&Y.type==="number"&&Ce(Y,"number",Y.value)}switch(ke=$?xn($):window,e){case"focusin":(Ru(ke)||ke.contentEditable==="true")&&(gn=ke,Ki=$,ms=null);break;case"focusout":ms=Ki=gn=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,Uu(re,r,ee);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":Uu(re,r,ee)}var je;if(qi)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else mn?Nu(e,r)&&(Ne="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ne="onCompositionStart");Ne&&(ju&&r.locale!=="ko"&&(mn||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&mn&&(je=wu()):(xr=ee,Ii="value"in xr?xr.value:xr.textContent,mn=!0)),ke=yo($,Ne),0<ke.length&&(Ne=new bu(Ne,e,null,r,ee),re.push({event:Ne,listeners:ke}),je?Ne.data=je:(je=Eu(r),je!==null&&(Ne.data=je)))),(je=lp?up(e,r):cp(e,r))&&($=yo($,"onBeforeInput"),0<$.length&&(ee=new bu("onBeforeInput","beforeinput",null,r,ee),re.push({event:ee,listeners:$}),ee.data=je))}Qu(re,t)})}function ys(e,t,r){return{instance:e,listener:t,currentTarget:r}}function yo(e,t){for(var r=t+"Capture",o=[];e!==null;){var u=e,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Xn(e,r),h!=null&&o.unshift(ys(e,h,u)),h=Xn(e,t),h!=null&&o.push(ys(e,h,u))),e=e.return}return o}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,r,o,u){for(var h=t._reactName,y=[];r!==null&&r!==o;){var C=r,N=C.alternate,$=C.stateNode;if(N!==null&&N===o)break;C.tag===5&&$!==null&&(C=$,u?(N=Xn(r,h),N!=null&&y.unshift(ys(r,N,C))):u||(N=Xn(r,h),N!=null&&y.push(ys(r,N,C)))),r=r.return}y.length!==0&&e.push({event:t,listeners:y})}var jp=/\r\n?/g,Sp=/\u0000|\uFFFD/g;function Zu(e){return(typeof e=="string"?e:""+e).replace(jp,`
`).replace(Sp,"")}function wo(e,t,r){if(t=Zu(t),Zu(e)!==t&&r)throw Error(s(425))}function xo(){}var ea=null,ta=null;function ra(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var na=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,Yu=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof Yu<"u"?function(e){return Yu.resolve(null).then(e).catch(Ep)}:na;function Ep(e){setTimeout(function(){throw e})}function sa(e,t){var r=t,o=0;do{var u=r.nextSibling;if(e.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(o===0){e.removeChild(u),ls(t);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=u}while(r);ls(t)}function br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),tr="__reactFiber$"+wn,ws="__reactProps$"+wn,ir="__reactContainer$"+wn,oa="__reactEvents$"+wn,Rp="__reactListeners$"+wn,Pp="__reactHandles$"+wn;function Vr(e){var t=e[tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ir]||r[tr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Xu(e);e!==null;){if(r=e[tr])return r;e=Xu(e)}return t}e=r,r=e.parentNode}return null}function xs(e){return e=e[tr]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function _o(e){return e[ws]||null}var ia=[],_n=-1;function kr(e){return{current:e}}function Je(e){0>_n||(e.current=ia[_n],ia[_n]=null,_n--)}function Ve(e,t){_n++,ia[_n]=e.current,e.current=t}var jr={},xt=kr(jr),Et=kr(!1),Kr=jr;function bn(e,t){var r=e.type.contextTypes;if(!r)return jr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in r)u[h]=t[h];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Rt(e){return e=e.childContextTypes,e!=null}function bo(){Je(Et),Je(xt)}function ec(e,t,r){if(xt.current!==jr)throw Error(s(168));Ve(xt,t),Ve(Et,r)}function tc(e,t,r){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return r;o=o.getChildContext();for(var u in o)if(!(u in t))throw Error(s(108,ie(e)||"Unknown",u));return _({},r,o)}function ko(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jr,Kr=xt.current,Ve(xt,e),Ve(Et,Et.current),!0}function rc(e,t,r){var o=e.stateNode;if(!o)throw Error(s(169));r?(e=tc(e,t,Kr),o.__reactInternalMemoizedMergedChildContext=e,Je(Et),Je(xt),Ve(xt,e)):Je(Et),Ve(Et,r)}var ar=null,jo=!1,aa=!1;function nc(e){ar===null?ar=[e]:ar.push(e)}function Op(e){jo=!0,nc(e)}function Sr(){if(!aa&&ar!==null){aa=!0;var e=0,t=Fe;try{var r=ar;for(Fe=1;e<r.length;e++){var o=r[e];do o=o(!0);while(o!==null)}ar=null,jo=!1}catch(u){throw ar!==null&&(ar=ar.slice(e+1)),ou(Ri,Sr),u}finally{Fe=t,aa=!1}}return null}var kn=[],jn=0,So=null,Co=0,Ut=[],zt=0,Qr=null,lr=1,ur="";function Jr(e,t){kn[jn++]=Co,kn[jn++]=So,So=e,Co=t}function sc(e,t,r){Ut[zt++]=lr,Ut[zt++]=ur,Ut[zt++]=Qr,Qr=e;var o=lr;e=ur;var u=32-Wt(o)-1;o&=~(1<<u),r+=1;var h=32-Wt(t)+u;if(30<h){var y=u-u%5;h=(o&(1<<y)-1).toString(32),o>>=y,u-=y,lr=1<<32-Wt(t)+u|r<<u|o,ur=h+e}else lr=1<<h|r<<u|o,ur=e}function la(e){e.return!==null&&(Jr(e,1),sc(e,1,0))}function ua(e){for(;e===So;)So=kn[--jn],kn[jn]=null,Co=kn[--jn],kn[jn]=null;for(;e===Qr;)Qr=Ut[--zt],Ut[zt]=null,ur=Ut[--zt],Ut[zt]=null,lr=Ut[--zt],Ut[zt]=null}var $t=null,It=null,Ge=!1,Kt=null;function oc(e,t){var r=Ht(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ic(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,$t=e,It=br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,$t=e,It=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qr!==null?{id:lr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ht(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,$t=e,It=null,!0):!1;default:return!1}}function ca(e){return(e.mode&1)!==0&&(e.flags&128)===0}function da(e){if(Ge){var t=It;if(t){var r=t;if(!ic(e,t)){if(ca(e))throw Error(s(418));t=br(r.nextSibling);var o=$t;t&&ic(e,t)?oc(o,r):(e.flags=e.flags&-4097|2,Ge=!1,$t=e)}}else{if(ca(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ge=!1,$t=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;$t=e}function No(e){if(e!==$t)return!1;if(!Ge)return ac(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ra(e.type,e.memoizedProps)),t&&(t=It)){if(ca(e))throw lc(),Error(s(418));for(;t;)oc(e,t),t=br(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){It=br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}It=null}}else It=$t?br(e.stateNode.nextSibling):null;return!0}function lc(){for(var e=It;e;)e=br(e.nextSibling)}function Sn(){It=$t=null,Ge=!1}function ha(e){Kt===null?Kt=[e]:Kt.push(e)}var Tp=oe.ReactCurrentBatchConfig;function _s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(s(309));var o=r.stateNode}if(!o)throw Error(s(147,e));var u=o,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(y){var C=u.refs;y===null?delete C[h]:C[h]=y},t._stringRef=h,t)}if(typeof e!="string")throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uc(e){var t=e._init;return t(e._payload)}function cc(e){function t(O,E){if(e){var A=O.deletions;A===null?(O.deletions=[E],O.flags|=16):A.push(E)}}function r(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function o(O,E){for(O=new Map;E!==null;)E.key!==null?O.set(E.key,E):O.set(E.index,E),E=E.sibling;return O}function u(O,E){return O=Ar(O,E),O.index=0,O.sibling=null,O}function h(O,E,A){return O.index=A,e?(A=O.alternate,A!==null?(A=A.index,A<E?(O.flags|=2,E):A):(O.flags|=2,E)):(O.flags|=1048576,E)}function y(O){return e&&O.alternate===null&&(O.flags|=2),O}function C(O,E,A,se){return E===null||E.tag!==6?(E=nl(A,O.mode,se),E.return=O,E):(E=u(E,A),E.return=O,E)}function N(O,E,A,se){var we=A.type;return we===ue?ee(O,E,A.props.children,se,A.key):E!==null&&(E.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&uc(we)===E.type)?(se=u(E,A.props),se.ref=_s(O,E,A),se.return=O,se):(se=Yo(A.type,A.key,A.props,null,O.mode,se),se.ref=_s(O,E,A),se.return=O,se)}function $(O,E,A,se){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=sl(A,O.mode,se),E.return=O,E):(E=u(E,A.children||[]),E.return=O,E)}function ee(O,E,A,se,we){return E===null||E.tag!==7?(E=nn(A,O.mode,se,we),E.return=O,E):(E=u(E,A),E.return=O,E)}function re(O,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=nl(""+E,O.mode,A),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ge:return A=Yo(E.type,E.key,E.props,null,O.mode,A),A.ref=_s(O,null,E),A.return=O,A;case J:return E=sl(E,O.mode,A),E.return=O,E;case L:var se=E._init;return re(O,se(E._payload),A)}if(Te(E)||b(E))return E=nn(E,O.mode,A,null),E.return=O,E;Eo(O,E)}return null}function Y(O,E,A,se){var we=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return we!==null?null:C(O,E,""+A,se);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ge:return A.key===we?N(O,E,A,se):null;case J:return A.key===we?$(O,E,A,se):null;case L:return we=A._init,Y(O,E,we(A._payload),se)}if(Te(A)||b(A))return we!==null?null:ee(O,E,A,se,null);Eo(O,A)}return null}function ce(O,E,A,se,we){if(typeof se=="string"&&se!==""||typeof se=="number")return O=O.get(A)||null,C(E,O,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ge:return O=O.get(se.key===null?A:se.key)||null,N(E,O,se,we);case J:return O=O.get(se.key===null?A:se.key)||null,$(E,O,se,we);case L:var ke=se._init;return ce(O,E,A,ke(se._payload),we)}if(Te(se)||b(se))return O=O.get(A)||null,ee(E,O,se,we,null);Eo(E,se)}return null}function pe(O,E,A,se){for(var we=null,ke=null,je=E,Ne=E=0,ft=null;je!==null&&Ne<A.length;Ne++){je.index>Ne?(ft=je,je=null):ft=je.sibling;var Be=Y(O,je,A[Ne],se);if(Be===null){je===null&&(je=ft);break}e&&je&&Be.alternate===null&&t(O,je),E=h(Be,E,Ne),ke===null?we=Be:ke.sibling=Be,ke=Be,je=ft}if(Ne===A.length)return r(O,je),Ge&&Jr(O,Ne),we;if(je===null){for(;Ne<A.length;Ne++)je=re(O,A[Ne],se),je!==null&&(E=h(je,E,Ne),ke===null?we=je:ke.sibling=je,ke=je);return Ge&&Jr(O,Ne),we}for(je=o(O,je);Ne<A.length;Ne++)ft=ce(je,O,Ne,A[Ne],se),ft!==null&&(e&&ft.alternate!==null&&je.delete(ft.key===null?Ne:ft.key),E=h(ft,E,Ne),ke===null?we=ft:ke.sibling=ft,ke=ft);return e&&je.forEach(function(Lr){return t(O,Lr)}),Ge&&Jr(O,Ne),we}function me(O,E,A,se){var we=b(A);if(typeof we!="function")throw Error(s(150));if(A=we.call(A),A==null)throw Error(s(151));for(var ke=we=null,je=E,Ne=E=0,ft=null,Be=A.next();je!==null&&!Be.done;Ne++,Be=A.next()){je.index>Ne?(ft=je,je=null):ft=je.sibling;var Lr=Y(O,je,Be.value,se);if(Lr===null){je===null&&(je=ft);break}e&&je&&Lr.alternate===null&&t(O,je),E=h(Lr,E,Ne),ke===null?we=Lr:ke.sibling=Lr,ke=Lr,je=ft}if(Be.done)return r(O,je),Ge&&Jr(O,Ne),we;if(je===null){for(;!Be.done;Ne++,Be=A.next())Be=re(O,Be.value,se),Be!==null&&(E=h(Be,E,Ne),ke===null?we=Be:ke.sibling=Be,ke=Be);return Ge&&Jr(O,Ne),we}for(je=o(O,je);!Be.done;Ne++,Be=A.next())Be=ce(je,O,Ne,Be.value,se),Be!==null&&(e&&Be.alternate!==null&&je.delete(Be.key===null?Ne:Be.key),E=h(Be,E,Ne),ke===null?we=Be:ke.sibling=Be,ke=Be);return e&&je.forEach(function(dm){return t(O,dm)}),Ge&&Jr(O,Ne),we}function ot(O,E,A,se){if(typeof A=="object"&&A!==null&&A.type===ue&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case ge:e:{for(var we=A.key,ke=E;ke!==null;){if(ke.key===we){if(we=A.type,we===ue){if(ke.tag===7){r(O,ke.sibling),E=u(ke,A.props.children),E.return=O,O=E;break e}}else if(ke.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===L&&uc(we)===ke.type){r(O,ke.sibling),E=u(ke,A.props),E.ref=_s(O,ke,A),E.return=O,O=E;break e}r(O,ke);break}else t(O,ke);ke=ke.sibling}A.type===ue?(E=nn(A.props.children,O.mode,se,A.key),E.return=O,O=E):(se=Yo(A.type,A.key,A.props,null,O.mode,se),se.ref=_s(O,E,A),se.return=O,O=se)}return y(O);case J:e:{for(ke=A.key;E!==null;){if(E.key===ke)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){r(O,E.sibling),E=u(E,A.children||[]),E.return=O,O=E;break e}else{r(O,E);break}else t(O,E);E=E.sibling}E=sl(A,O.mode,se),E.return=O,O=E}return y(O);case L:return ke=A._init,ot(O,E,ke(A._payload),se)}if(Te(A))return pe(O,E,A,se);if(b(A))return me(O,E,A,se);Eo(O,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(r(O,E.sibling),E=u(E,A),E.return=O,O=E):(r(O,E),E=nl(A,O.mode,se),E.return=O,O=E),y(O)):r(O,E)}return ot}var Cn=cc(!0),dc=cc(!1),Ro=kr(null),Po=null,Nn=null,fa=null;function pa(){fa=Nn=Po=null}function ma(e){var t=Ro.current;Je(Ro),e._currentValue=t}function ga(e,t,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===r)break;e=e.return}}function En(e,t){Po=e,fa=Nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pt=!0),e.firstContext=null)}function Bt(e){var t=e._currentValue;if(fa!==e)if(e={context:e,memoizedValue:t,next:null},Nn===null){if(Po===null)throw Error(s(308));Nn=e,Po.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Gr=null;function va(e){Gr===null?Gr=[e]:Gr.push(e)}function hc(e,t,r,o){var u=t.interleaved;return u===null?(r.next=r,va(t)):(r.next=u.next,u.next=r),t.interleaved=r,cr(e,o)}function cr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cr=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(e,t,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ue&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,cr(e,r)}return u=o.interleaved,u===null?(t.next=t,va(o)):(t.next=u.next,u.next=t),o.interleaved=t,cr(e,r)}function Oo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ti(e,r)}}function pc(e,t){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?u=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?u=h=t:h=h.next=t}else u=h=t;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:o.shared,effects:o.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function To(e,t,r,o){var u=e.updateQueue;Cr=!1;var h=u.firstBaseUpdate,y=u.lastBaseUpdate,C=u.shared.pending;if(C!==null){u.shared.pending=null;var N=C,$=N.next;N.next=null,y===null?h=$:y.next=$,y=N;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,C=ee.lastBaseUpdate,C!==y&&(C===null?ee.firstBaseUpdate=$:C.next=$,ee.lastBaseUpdate=N))}if(h!==null){var re=u.baseState;y=0,ee=$=N=null,C=h;do{var Y=C.lane,ce=C.eventTime;if((o&Y)===Y){ee!==null&&(ee=ee.next={eventTime:ce,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var pe=e,me=C;switch(Y=t,ce=r,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){re=pe.call(ce,re,Y);break e}re=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Y=typeof pe=="function"?pe.call(ce,re,Y):pe,Y==null)break e;re=_({},re,Y);break e;case 2:Cr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,Y=u.effects,Y===null?u.effects=[C]:Y.push(C))}else ce={eventTime:ce,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ee===null?($=ee=ce,N=re):ee=ee.next=ce,y|=Y;if(C=C.next,C===null){if(C=u.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,u.lastBaseUpdate=Y,u.shared.pending=null}}while(!0);if(ee===null&&(N=re),u.baseState=N,u.firstBaseUpdate=$,u.lastBaseUpdate=ee,t=u.shared.interleaved,t!==null){u=t;do y|=u.lane,u=u.next;while(u!==t)}else h===null&&(u.shared.lanes=0);Xr|=y,e.lanes=y,e.memoizedState=re}}function mc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],u=o.callback;if(u!==null){if(o.callback=null,o=r,typeof u!="function")throw Error(s(191,u));u.call(o)}}}var bs={},rr=kr(bs),ks=kr(bs),js=kr(bs);function Zr(e){if(e===bs)throw Error(s(174));return e}function wa(e,t){switch(Ve(js,t),Ve(ks,e),Ve(rr,bs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:_e(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=_e(t,e)}Je(rr),Ve(rr,t)}function Rn(){Je(rr),Je(ks),Je(js)}function gc(e){Zr(js.current);var t=Zr(rr.current),r=_e(t,e.type);t!==r&&(Ve(ks,e),Ve(rr,r))}function xa(e){ks.current===e&&(Je(rr),Je(ks))}var Ye=kr(0);function Ao(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _a=[];function ba(){for(var e=0;e<_a.length;e++)_a[e]._workInProgressVersionPrimary=null;_a.length=0}var Lo=oe.ReactCurrentDispatcher,ka=oe.ReactCurrentBatchConfig,Yr=0,Xe=null,ut=null,dt=null,Mo=!1,Ss=!1,Cs=0,Ap=0;function _t(){throw Error(s(321))}function ja(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function Sa(e,t,r,o,u,h){if(Yr=h,Xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Lo.current=e===null||e.memoizedState===null?Ip:Dp,e=r(o,u),Ss){h=0;do{if(Ss=!1,Cs=0,25<=h)throw Error(s(301));h+=1,dt=ut=null,t.updateQueue=null,Lo.current=Up,e=r(o,u)}while(Ss)}if(Lo.current=Do,t=ut!==null&&ut.next!==null,Yr=0,dt=ut=Xe=null,Mo=!1,t)throw Error(s(300));return e}function Ca(){var e=Cs!==0;return Cs=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Xe.memoizedState=dt=e:dt=dt.next=e,dt}function Ft(){if(ut===null){var e=Xe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=dt===null?Xe.memoizedState:dt.next;if(t!==null)dt=t,ut=e;else{if(e===null)throw Error(s(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},dt===null?Xe.memoizedState=dt=e:dt=dt.next=e}return dt}function Ns(e,t){return typeof t=="function"?t(e):t}function Na(e){var t=Ft(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=ut,u=o.baseQueue,h=r.pending;if(h!==null){if(u!==null){var y=u.next;u.next=h.next,h.next=y}o.baseQueue=u=h,r.pending=null}if(u!==null){h=u.next,o=o.baseState;var C=y=null,N=null,$=h;do{var ee=$.lane;if((Yr&ee)===ee)N!==null&&(N=N.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),o=$.hasEagerState?$.eagerState:e(o,$.action);else{var re={lane:ee,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};N===null?(C=N=re,y=o):N=N.next=re,Xe.lanes|=ee,Xr|=ee}$=$.next}while($!==null&&$!==h);N===null?y=o:N.next=C,Vt(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseState=y,t.baseQueue=N,r.lastRenderedState=o}if(e=r.interleaved,e!==null){u=e;do h=u.lane,Xe.lanes|=h,Xr|=h,u=u.next;while(u!==e)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ea(e){var t=Ft(),r=t.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,h=t.memoizedState;if(u!==null){r.pending=null;var y=u=u.next;do h=e(h,y.action),y=y.next;while(y!==u);Vt(h,t.memoizedState)||(Pt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,o]}function vc(){}function yc(e,t){var r=Xe,o=Ft(),u=t(),h=!Vt(o.memoizedState,u);if(h&&(o.memoizedState=u,Pt=!0),o=o.queue,Ra(_c.bind(null,r,o,e),[e]),o.getSnapshot!==t||h||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,Es(9,xc.bind(null,r,o,u,t),void 0,null),ht===null)throw Error(s(349));(Yr&30)!==0||wc(r,t,u)}return u}function wc(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function xc(e,t,r,o){t.value=r,t.getSnapshot=o,bc(t)&&kc(e)}function _c(e,t,r){return r(function(){bc(t)&&kc(e)})}function bc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vt(e,r)}catch{return!0}}function kc(e){var t=cr(e,1);t!==null&&Zt(t,e,1,-1)}function jc(e){var t=nr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,Xe,e),[t.memoizedState,e]}function Es(e,t,r,o){return e={tag:e,create:t,destroy:r,deps:o,next:null},t=Xe.updateQueue,t===null?(t={lastEffect:null,stores:null},Xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,t.lastEffect=e)),e}function Sc(){return Ft().memoizedState}function $o(e,t,r,o){var u=nr();Xe.flags|=e,u.memoizedState=Es(1|t,r,void 0,o===void 0?null:o)}function Io(e,t,r,o){var u=Ft();o=o===void 0?null:o;var h=void 0;if(ut!==null){var y=ut.memoizedState;if(h=y.destroy,o!==null&&ja(o,y.deps)){u.memoizedState=Es(t,r,h,o);return}}Xe.flags|=e,u.memoizedState=Es(1|t,r,h,o)}function Cc(e,t){return $o(8390656,8,e,t)}function Ra(e,t){return Io(2048,8,e,t)}function Nc(e,t){return Io(4,2,e,t)}function Ec(e,t){return Io(4,4,e,t)}function Rc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pc(e,t,r){return r=r!=null?r.concat([e]):null,Io(4,4,Rc.bind(null,t,e),r)}function Pa(){}function Oc(e,t){var r=Ft();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&ja(t,o[1])?o[0]:(r.memoizedState=[e,t],e)}function Tc(e,t){var r=Ft();t=t===void 0?null:t;var o=r.memoizedState;return o!==null&&t!==null&&ja(t,o[1])?o[0]:(e=e(),r.memoizedState=[e,t],e)}function Ac(e,t,r){return(Yr&21)===0?(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=r):(Vt(r,t)||(r=uu(),Xe.lanes|=r,Xr|=r,e.baseState=!0),t)}function Lp(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var o=ka.transition;ka.transition={};try{e(!1),t()}finally{Fe=r,ka.transition=o}}function Lc(){return Ft().memoizedState}function Mp(e,t,r){var o=Or(e);if(r={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null},Mc(e))$c(t,r);else if(r=hc(e,t,r,o),r!==null){var u=Ct();Zt(r,e,o,u),Ic(r,t,o)}}function $p(e,t,r){var o=Or(e),u={lane:o,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mc(e))$c(t,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var y=t.lastRenderedState,C=h(y,r);if(u.hasEagerState=!0,u.eagerState=C,Vt(C,y)){var N=t.interleaved;N===null?(u.next=u,va(t)):(u.next=N.next,N.next=u),t.interleaved=u;return}}catch{}finally{}r=hc(e,t,u,o),r!==null&&(u=Ct(),Zt(r,e,o,u),Ic(r,t,o))}}function Mc(e){var t=e.alternate;return e===Xe||t!==null&&t===Xe}function $c(e,t){Ss=Mo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ic(e,t,r){if((r&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,r|=o,t.lanes=r,Ti(e,r)}}var Do={readContext:Bt,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},Ip={readContext:Bt,useCallback:function(e,t){return nr().memoizedState=[e,t===void 0?null:t],e},useContext:Bt,useEffect:Cc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$o(4194308,4,Rc.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var r=nr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var o=nr();return t=r!==void 0?r(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=Mp.bind(null,Xe,e),[o.memoizedState,e]},useRef:function(e){var t=nr();return e={current:e},t.memoizedState=e},useState:jc,useDebugValue:Pa,useDeferredValue:function(e){return nr().memoizedState=e},useTransition:function(){var e=jc(!1),t=e[0];return e=Lp.bind(null,e[1]),nr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var o=Xe,u=nr();if(Ge){if(r===void 0)throw Error(s(407));r=r()}else{if(r=t(),ht===null)throw Error(s(349));(Yr&30)!==0||wc(o,t,r)}u.memoizedState=r;var h={value:r,getSnapshot:t};return u.queue=h,Cc(_c.bind(null,o,h,e),[e]),o.flags|=2048,Es(9,xc.bind(null,o,h,r,t),void 0,null),r},useId:function(){var e=nr(),t=ht.identifierPrefix;if(Ge){var r=ur,o=lr;r=(o&~(1<<32-Wt(o)-1)).toString(32)+r,t=":"+t+"R"+r,r=Cs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Ap++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dp={readContext:Bt,useCallback:Oc,useContext:Bt,useEffect:Ra,useImperativeHandle:Pc,useInsertionEffect:Nc,useLayoutEffect:Ec,useMemo:Tc,useReducer:Na,useRef:Sc,useState:function(){return Na(Ns)},useDebugValue:Pa,useDeferredValue:function(e){var t=Ft();return Ac(t,ut.memoizedState,e)},useTransition:function(){var e=Na(Ns)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Lc,unstable_isNewReconciler:!1},Up={readContext:Bt,useCallback:Oc,useContext:Bt,useEffect:Ra,useImperativeHandle:Pc,useInsertionEffect:Nc,useLayoutEffect:Ec,useMemo:Tc,useReducer:Ea,useRef:Sc,useState:function(){return Ea(Ns)},useDebugValue:Pa,useDeferredValue:function(e){var t=Ft();return ut===null?t.memoizedState=e:Ac(t,ut.memoizedState,e)},useTransition:function(){var e=Ea(Ns)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Lc,unstable_isNewReconciler:!1};function Qt(e,t){if(e&&e.defaultProps){t=_({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Oa(e,t,r,o){t=e.memoizedState,r=r(o,t),r=r==null?t:_({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Uo={isMounted:function(e){return(e=e._reactInternals)?Wr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var o=Ct(),u=Or(e),h=dr(o,u);h.payload=t,r!=null&&(h.callback=r),t=Nr(e,h,u),t!==null&&(Zt(t,e,u,o),Oo(t,e,u))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var o=Ct(),u=Or(e),h=dr(o,u);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=Nr(e,h,u),t!==null&&(Zt(t,e,u,o),Oo(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ct(),o=Or(e),u=dr(r,o);u.tag=2,t!=null&&(u.callback=t),t=Nr(e,u,o),t!==null&&(Zt(t,e,o,r),Oo(t,e,o))}};function Dc(e,t,r,o,u,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,h,y):t.prototype&&t.prototype.isPureReactComponent?!ps(r,o)||!ps(u,h):!0}function Uc(e,t,r){var o=!1,u=jr,h=t.contextType;return typeof h=="object"&&h!==null?h=Bt(h):(u=Rt(t)?Kr:xt.current,o=t.contextTypes,h=(o=o!=null)?bn(e,u):jr),t=new t(r,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=h),t}function zc(e,t,r,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,o),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ta(e,t,r,o){var u=e.stateNode;u.props=r,u.state=e.memoizedState,u.refs={},ya(e);var h=t.contextType;typeof h=="object"&&h!==null?u.context=Bt(h):(h=Rt(t)?Kr:xt.current,u.context=bn(e,h)),u.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Oa(e,t,h,r),u.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Uo.enqueueReplaceState(u,u.state,null),To(e,r,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Pn(e,t){try{var r="",o=t;do r+=ne(o),o=o.return;while(o);var u=r}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:u,digest:null}}function Aa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zp=typeof WeakMap=="function"?WeakMap:Map;function Bc(e,t,r){r=dr(-1,r),r.tag=3,r.payload={element:null};var o=t.value;return r.callback=function(){Vo||(Vo=!0,Ja=o),La(e,t)},r}function Fc(e,t,r){r=dr(-1,r),r.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=t.value;r.payload=function(){return o(u)},r.callback=function(){La(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){La(e,t),typeof o!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var y=t.stack;this.componentDidCatch(t.value,{componentStack:y!==null?y:""})}),r}function qc(e,t,r){var o=e.pingCache;if(o===null){o=e.pingCache=new zp;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(r)||(u.add(r),e=em.bind(null,e,t,r),t.then(e,e))}function Hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,r,o,u){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dr(-1,1),t.tag=2,Nr(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Bp=oe.ReactCurrentOwner,Pt=!1;function St(e,t,r,o){t.child=e===null?dc(t,null,r,o):Cn(t,e.child,r,o)}function Vc(e,t,r,o,u){r=r.render;var h=t.ref;return En(t,u),o=Sa(e,t,r,o,h,u),r=Ca(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,hr(e,t,u)):(Ge&&r&&la(t),t.flags|=1,St(e,t,o,u),t.child)}function Kc(e,t,r,o,u){if(e===null){var h=r.type;return typeof h=="function"&&!rl(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,Qc(e,t,h,o,u)):(e=Yo(r.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&u)===0){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(y,o)&&e.ref===t.ref)return hr(e,t,u)}return t.flags|=1,e=Ar(h,o),e.ref=t.ref,e.return=t,t.child=e}function Qc(e,t,r,o,u){if(e!==null){var h=e.memoizedProps;if(ps(h,o)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=o=h,(e.lanes&u)!==0)(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,hr(e,t,u)}return Ma(e,t,r,o,u)}function Jc(e,t,r){var o=t.pendingProps,u=o.children,h=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Tn,Dt),Dt|=r;else{if((r&1073741824)===0)return e=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(Tn,Dt),Dt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:r,Ve(Tn,Dt),Dt|=o}else h!==null?(o=h.baseLanes|r,t.memoizedState=null):o=r,Ve(Tn,Dt),Dt|=o;return St(e,t,u,r),t.child}function Gc(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ma(e,t,r,o,u){var h=Rt(r)?Kr:xt.current;return h=bn(t,h),En(t,u),r=Sa(e,t,r,o,h,u),o=Ca(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~u,hr(e,t,u)):(Ge&&o&&la(t),t.flags|=1,St(e,t,r,u),t.child)}function Zc(e,t,r,o,u){if(Rt(r)){var h=!0;ko(t)}else h=!1;if(En(t,u),t.stateNode===null)Bo(e,t),Uc(t,r,o),Ta(t,r,o,u),o=!0;else if(e===null){var y=t.stateNode,C=t.memoizedProps;y.props=C;var N=y.context,$=r.contextType;typeof $=="object"&&$!==null?$=Bt($):($=Rt(r)?Kr:xt.current,$=bn(t,$));var ee=r.getDerivedStateFromProps,re=typeof ee=="function"||typeof y.getSnapshotBeforeUpdate=="function";re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==o||N!==$)&&zc(t,y,o,$),Cr=!1;var Y=t.memoizedState;y.state=Y,To(t,o,y,u),N=t.memoizedState,C!==o||Y!==N||Et.current||Cr?(typeof ee=="function"&&(Oa(t,r,ee,o),N=t.memoizedState),(C=Cr||Dc(t,r,C,o,Y,N,$))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(t.flags|=4194308)):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=N),y.props=o,y.state=N,y.context=$,o=C):(typeof y.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{y=t.stateNode,fc(e,t),C=t.memoizedProps,$=t.type===t.elementType?C:Qt(t.type,C),y.props=$,re=t.pendingProps,Y=y.context,N=r.contextType,typeof N=="object"&&N!==null?N=Bt(N):(N=Rt(r)?Kr:xt.current,N=bn(t,N));var ce=r.getDerivedStateFromProps;(ee=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==re||Y!==N)&&zc(t,y,o,N),Cr=!1,Y=t.memoizedState,y.state=Y,To(t,o,y,u);var pe=t.memoizedState;C!==re||Y!==pe||Et.current||Cr?(typeof ce=="function"&&(Oa(t,r,ce,o),pe=t.memoizedState),($=Cr||Dc(t,r,$,o,Y,pe,N)||!1)?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(o,pe,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(o,pe,N)),typeof y.componentDidUpdate=="function"&&(t.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=pe),y.props=o,y.state=pe,y.context=N,o=$):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),o=!1)}return $a(e,t,r,o,h,u)}function $a(e,t,r,o,u,h){Gc(e,t);var y=(t.flags&128)!==0;if(!o&&!y)return u&&rc(t,r,!1),hr(e,t,h);o=t.stateNode,Bp.current=t;var C=y&&typeof r.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&y?(t.child=Cn(t,e.child,null,h),t.child=Cn(t,null,C,h)):St(e,t,C,h),t.memoizedState=o.state,u&&rc(t,r,!0),t.child}function Yc(e){var t=e.stateNode;t.pendingContext?ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ec(e,t.context,!1),wa(e,t.containerInfo)}function Xc(e,t,r,o,u){return Sn(),ha(u),t.flags|=256,St(e,t,r,o),t.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function ed(e,t,r){var o=t.pendingProps,u=Ye.current,h=!1,y=(t.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(u&2)!==0),C?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),Ve(Ye,u&1),e===null)return da(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(y=o.children,e=o.fallback,h?(o=t.mode,h=t.child,y={mode:"hidden",children:y},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=y):h=Xo(y,o,0,null),e=nn(e,o,r,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=Da(r),t.memoizedState=Ia,e):Ua(t,y));if(u=e.memoizedState,u!==null&&(C=u.dehydrated,C!==null))return Fp(e,t,y,o,C,u,r);if(h){h=o.fallback,y=t.mode,u=e.child,C=u.sibling;var N={mode:"hidden",children:o.children};return(y&1)===0&&t.child!==u?(o=t.child,o.childLanes=0,o.pendingProps=N,t.deletions=null):(o=Ar(u,N),o.subtreeFlags=u.subtreeFlags&14680064),C!==null?h=Ar(C,h):(h=nn(h,y,r,null),h.flags|=2),h.return=t,o.return=t,o.sibling=h,t.child=o,o=h,h=t.child,y=e.child.memoizedState,y=y===null?Da(r):{baseLanes:y.baseLanes|r,cachePool:null,transitions:y.transitions},h.memoizedState=y,h.childLanes=e.childLanes&~r,t.memoizedState=Ia,o}return h=e.child,e=h.sibling,o=Ar(h,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=r),o.return=t,o.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=o,t.memoizedState=null,o}function Ua(e,t){return t=Xo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zo(e,t,r,o){return o!==null&&ha(o),Cn(t,e.child,null,r),e=Ua(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fp(e,t,r,o,u,h,y){if(r)return t.flags&256?(t.flags&=-257,o=Aa(Error(s(422))),zo(e,t,y,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=o.fallback,u=t.mode,o=Xo({mode:"visible",children:o.children},u,0,null),h=nn(h,u,y,null),h.flags|=2,o.return=t,h.return=t,o.sibling=h,t.child=o,(t.mode&1)!==0&&Cn(t,e.child,null,y),t.child.memoizedState=Da(y),t.memoizedState=Ia,h);if((t.mode&1)===0)return zo(e,t,y,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var C=o.dgst;return o=C,h=Error(s(419)),o=Aa(h,o,void 0),zo(e,t,y,o)}if(C=(y&e.childLanes)!==0,Pt||C){if(o=ht,o!==null){switch(y&-y){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|y))!==0?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,cr(e,u),Zt(o,e,u,-1))}return tl(),o=Aa(Error(s(421))),zo(e,t,y,o)}return u.data==="$?"?(t.flags|=128,t.child=e.child,t=tm.bind(null,e),u._reactRetry=t,null):(e=h.treeContext,It=br(u.nextSibling),$t=t,Ge=!0,Kt=null,e!==null&&(Ut[zt++]=lr,Ut[zt++]=ur,Ut[zt++]=Qr,lr=e.id,ur=e.overflow,Qr=t),t=Ua(t,o.children),t.flags|=4096,t)}function td(e,t,r){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ga(e.return,t,r)}function za(e,t,r,o,u){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=r,h.tailMode=u)}function rd(e,t,r){var o=t.pendingProps,u=o.revealOrder,h=o.tail;if(St(e,t,o.children,r),o=Ye.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,r,t);else if(e.tag===19)td(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Ve(Ye,o),(t.mode&1)===0)t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)e=r.alternate,e!==null&&Ao(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),za(t,!1,u,r,h);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ao(e)===null){t.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}za(t,!0,r,null,h);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bo(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,r=Ar(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ar(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qp(e,t,r){switch(t.tag){case 3:Yc(t),Sn();break;case 5:gc(t);break;case 1:Rt(t.type)&&ko(t);break;case 4:wa(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,u=t.memoizedProps.value;Ve(Ro,o._currentValue),o._currentValue=u;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Ve(Ye,Ye.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?ed(e,t,r):(Ve(Ye,Ye.current&1),e=hr(e,t,r),e!==null?e.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(o=(r&t.childLanes)!==0,(e.flags&128)!==0){if(o)return rd(e,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ve(Ye,Ye.current),o)break;return null;case 22:case 23:return t.lanes=0,Jc(e,t,r)}return hr(e,t,r)}var nd,Ba,sd,od;nd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ba=function(){},sd=function(e,t,r,o){var u=e.memoizedProps;if(u!==o){e=t.stateNode,Zr(rr.current);var h=null;switch(r){case"input":u=T(e,u),o=T(e,o),h=[];break;case"select":u=_({},u,{value:void 0}),o=_({},o,{value:void 0}),h=[];break;case"textarea":u=fe(e,u),o=fe(e,o),h=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=xo)}jt(r,o);var y;r=null;for($ in u)if(!o.hasOwnProperty($)&&u.hasOwnProperty($)&&u[$]!=null)if($==="style"){var C=u[$];for(y in C)C.hasOwnProperty(y)&&(r||(r={}),r[y]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(l.hasOwnProperty($)?h||(h=[]):(h=h||[]).push($,null));for($ in o){var N=o[$];if(C=u!=null?u[$]:void 0,o.hasOwnProperty($)&&N!==C&&(N!=null||C!=null))if($==="style")if(C){for(y in C)!C.hasOwnProperty(y)||N&&N.hasOwnProperty(y)||(r||(r={}),r[y]="");for(y in N)N.hasOwnProperty(y)&&C[y]!==N[y]&&(r||(r={}),r[y]=N[y])}else r||(h||(h=[]),h.push($,r)),r=N;else $==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,C=C?C.__html:void 0,N!=null&&C!==N&&(h=h||[]).push($,N)):$==="children"?typeof N!="string"&&typeof N!="number"||(h=h||[]).push($,""+N):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(l.hasOwnProperty($)?(N!=null&&$==="onScroll"&&Qe("scroll",e),h||C===N||(h=[])):(h=h||[]).push($,N))}r&&(h=h||[]).push("style",r);var $=h;(t.updateQueue=$)&&(t.flags|=4)}},od=function(e,t,r,o){r!==o&&(t.flags|=4)};function Rs(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(t)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,t}function Hp(e,t,r){var o=t.pendingProps;switch(ua(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return Rt(t.type)&&bo(),bt(t),null;case 3:return o=t.stateNode,Rn(),Je(Et),Je(xt),ba(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(No(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Kt!==null&&(Ya(Kt),Kt=null))),Ba(e,t),bt(t),null;case 5:xa(t);var u=Zr(js.current);if(r=t.type,e!==null&&t.stateNode!=null)sd(e,t,r,o,u),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(s(166));return bt(t),null}if(e=Zr(rr.current),No(t)){o=t.stateNode,r=t.type;var h=t.memoizedProps;switch(o[tr]=t,o[ws]=h,e=(t.mode&1)!==0,r){case"dialog":Qe("cancel",o),Qe("close",o);break;case"iframe":case"object":case"embed":Qe("load",o);break;case"video":case"audio":for(u=0;u<gs.length;u++)Qe(gs[u],o);break;case"source":Qe("error",o);break;case"img":case"image":case"link":Qe("error",o),Qe("load",o);break;case"details":Qe("toggle",o);break;case"input":F(o,h),Qe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Qe("invalid",o);break;case"textarea":Ee(o,h),Qe("invalid",o)}jt(r,h),u=null;for(var y in h)if(h.hasOwnProperty(y)){var C=h[y];y==="children"?typeof C=="string"?o.textContent!==C&&(h.suppressHydrationWarning!==!0&&wo(o.textContent,C,e),u=["children",C]):typeof C=="number"&&o.textContent!==""+C&&(h.suppressHydrationWarning!==!0&&wo(o.textContent,C,e),u=["children",""+C]):l.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&Qe("scroll",o)}switch(r){case"input":be(o),Se(o,h,!0);break;case"textarea":be(o),$e(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=xo)}o=u,t.updateQueue=o,o!==null&&(t.flags|=4)}else{y=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Re(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=y.createElement(r,{is:o.is}):(e=y.createElement(r),r==="select"&&(y=e,o.multiple?y.multiple=!0:o.size&&(y.size=o.size))):e=y.createElementNS(e,r),e[tr]=t,e[ws]=o,nd(e,t,!1,!1),t.stateNode=e;e:{switch(y=bi(r,o),r){case"dialog":Qe("cancel",e),Qe("close",e),u=o;break;case"iframe":case"object":case"embed":Qe("load",e),u=o;break;case"video":case"audio":for(u=0;u<gs.length;u++)Qe(gs[u],e);u=o;break;case"source":Qe("error",e),u=o;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),u=o;break;case"details":Qe("toggle",e),u=o;break;case"input":F(e,o),u=T(e,o),Qe("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=_({},o,{value:void 0}),Qe("invalid",e);break;case"textarea":Ee(e,o),u=fe(e,o),Qe("invalid",e);break;default:u=o}jt(r,u),C=u;for(h in C)if(C.hasOwnProperty(h)){var N=C[h];h==="style"?or(e,N):h==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&De(e,N)):h==="children"?typeof N=="string"?(r!=="textarea"||N!=="")&&ye(e,N):typeof N=="number"&&ye(e,""+N):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?N!=null&&h==="onScroll"&&Qe("scroll",e):N!=null&&H(e,h,N,y))}switch(r){case"input":be(e),Se(e,o,!1);break;case"textarea":be(e),$e(e);break;case"option":o.value!=null&&e.setAttribute("value",""+X(o.value));break;case"select":e.multiple=!!o.multiple,h=o.value,h!=null?V(e,!!o.multiple,h,!1):o.defaultValue!=null&&V(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=xo)}switch(r){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return bt(t),null;case 6:if(e&&t.stateNode!=null)od(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(r=Zr(js.current),Zr(rr.current),No(t)){if(o=t.stateNode,r=t.memoizedProps,o[tr]=t,(h=o.nodeValue!==r)&&(e=$t,e!==null))switch(e.tag){case 3:wo(o.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wo(o.nodeValue,r,(e.mode&1)!==0)}h&&(t.flags|=4)}else o=(r.nodeType===9?r:r.ownerDocument).createTextNode(o),o[tr]=t,t.stateNode=o}return bt(t),null;case 13:if(Je(Ye),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&It!==null&&(t.mode&1)!==0&&(t.flags&128)===0)lc(),Sn(),t.flags|=98560,h=!1;else if(h=No(t),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[tr]=t}else Sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),h=!1}else Kt!==null&&(Ya(Kt),Kt=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?ct===0&&(ct=3):tl())),t.updateQueue!==null&&(t.flags|=4),bt(t),null);case 4:return Rn(),Ba(e,t),e===null&&vs(t.stateNode.containerInfo),bt(t),null;case 10:return ma(t.type._context),bt(t),null;case 17:return Rt(t.type)&&bo(),bt(t),null;case 19:if(Je(Ye),h=t.memoizedState,h===null)return bt(t),null;if(o=(t.flags&128)!==0,y=h.rendering,y===null)if(o)Rs(h,!1);else{if(ct!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(y=Ao(e),y!==null){for(t.flags|=128,Rs(h,!1),o=y.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=r,r=t.child;r!==null;)h=r,e=o,h.flags&=14680066,y=h.alternate,y===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=y.childLanes,h.lanes=y.lanes,h.child=y.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=y.memoizedProps,h.memoizedState=y.memoizedState,h.updateQueue=y.updateQueue,h.type=y.type,e=y.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(Ye,Ye.current&1|2),t.child}e=e.sibling}h.tail!==null&&st()>An&&(t.flags|=128,o=!0,Rs(h,!1),t.lanes=4194304)}else{if(!o)if(e=Ao(y),e!==null){if(t.flags|=128,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ge)return bt(t),null}else 2*st()-h.renderingStartTime>An&&r!==1073741824&&(t.flags|=128,o=!0,Rs(h,!1),t.lanes=4194304);h.isBackwards?(y.sibling=t.child,t.child=y):(r=h.last,r!==null?r.sibling=y:t.child=y,h.last=y)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=st(),t.sibling=null,r=Ye.current,Ve(Ye,o?r&1|2:r&1),t):(bt(t),null);case 22:case 23:return el(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Dt&1073741824)!==0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Wp(e,t){switch(ua(t),t.tag){case 1:return Rt(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Rn(),Je(Et),Je(xt),ba(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return xa(t),null;case 13:if(Je(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(Ye),null;case 4:return Rn(),null;case 10:return ma(t.type._context),null;case 22:case 23:return el(),null;case 24:return null;default:return null}}var Fo=!1,kt=!1,Vp=typeof WeakSet=="function"?WeakSet:Set,de=null;function On(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){tt(e,t,o)}else r.current=null}function Fa(e,t,r){try{r()}catch(o){tt(e,t,o)}}var id=!1;function Kp(e,t){if(ea=ao,e=Du(),Vi(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var y=0,C=-1,N=-1,$=0,ee=0,re=e,Y=null;t:for(;;){for(var ce;re!==r||u!==0&&re.nodeType!==3||(C=y+u),re!==h||o!==0&&re.nodeType!==3||(N=y+o),re.nodeType===3&&(y+=re.nodeValue.length),(ce=re.firstChild)!==null;)Y=re,re=ce;for(;;){if(re===e)break t;if(Y===r&&++$===u&&(C=y),Y===h&&++ee===o&&(N=y),(ce=re.nextSibling)!==null)break;re=Y,Y=re.parentNode}re=ce}r=C===-1||N===-1?null:{start:C,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(ta={focusedElem:e,selectionRange:r},ao=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var pe=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ot=pe.memoizedState,O=t.stateNode,E=O.getSnapshotBeforeUpdate(t.elementType===t.type?me:Qt(t.type,me),ot);O.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=t.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(se){tt(t,t.return,se)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return pe=id,id=!1,pe}function Ps(e,t,r){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var h=u.destroy;u.destroy=void 0,h!==void 0&&Fa(t,r,h)}u=u.next}while(u!==o)}}function qo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var o=r.create;r.destroy=o()}r=r.next}while(r!==t)}}function qa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ad(e){var t=e.alternate;t!==null&&(e.alternate=null,ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[ws],delete t[oa],delete t[Rp],delete t[Pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xo));else if(o!==4&&(e=e.child,e!==null))for(Ha(e,t,r),e=e.sibling;e!==null;)Ha(e,t,r),e=e.sibling}function Wa(e,t,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Wa(e,t,r),e=e.sibling;e!==null;)Wa(e,t,r),e=e.sibling}var vt=null,Jt=!1;function Er(e,t,r){for(r=r.child;r!==null;)cd(e,t,r),r=r.sibling}function cd(e,t,r){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(to,r)}catch{}switch(r.tag){case 5:kt||On(r,t);case 6:var o=vt,u=Jt;vt=null,Er(e,t,r),vt=o,Jt=u,vt!==null&&(Jt?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Jt?(e=vt,r=r.stateNode,e.nodeType===8?sa(e.parentNode,r):e.nodeType===1&&sa(e,r),ls(e)):sa(vt,r.stateNode));break;case 4:o=vt,u=Jt,vt=r.stateNode.containerInfo,Jt=!0,Er(e,t,r),vt=o,Jt=u;break;case 0:case 11:case 14:case 15:if(!kt&&(o=r.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var h=u,y=h.destroy;h=h.tag,y!==void 0&&((h&2)!==0||(h&4)!==0)&&Fa(r,t,y),u=u.next}while(u!==o)}Er(e,t,r);break;case 1:if(!kt&&(On(r,t),o=r.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=r.memoizedProps,o.state=r.memoizedState,o.componentWillUnmount()}catch(C){tt(r,t,C)}Er(e,t,r);break;case 21:Er(e,t,r);break;case 22:r.mode&1?(kt=(o=kt)||r.memoizedState!==null,Er(e,t,r),kt=o):Er(e,t,r);break;default:Er(e,t,r)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vp),t.forEach(function(o){var u=rm.bind(null,e,o);r.has(o)||(r.add(o),o.then(u,u))})}}function Gt(e,t){var r=t.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];try{var h=e,y=t,C=y;e:for(;C!==null;){switch(C.tag){case 5:vt=C.stateNode,Jt=!1;break e;case 3:vt=C.stateNode.containerInfo,Jt=!0;break e;case 4:vt=C.stateNode.containerInfo,Jt=!0;break e}C=C.return}if(vt===null)throw Error(s(160));cd(h,y,u),vt=null,Jt=!1;var N=u.alternate;N!==null&&(N.return=null),u.return=null}catch($){tt(u,t,$)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}function hd(e,t){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),sr(e),o&4){try{Ps(3,e,e.return),qo(3,e)}catch(me){tt(e,e.return,me)}try{Ps(5,e,e.return)}catch(me){tt(e,e.return,me)}}break;case 1:Gt(t,e),sr(e),o&512&&r!==null&&On(r,r.return);break;case 5:if(Gt(t,e),sr(e),o&512&&r!==null&&On(r,r.return),e.flags&32){var u=e.stateNode;try{ye(u,"")}catch(me){tt(e,e.return,me)}}if(o&4&&(u=e.stateNode,u!=null)){var h=e.memoizedProps,y=r!==null?r.memoizedProps:h,C=e.type,N=e.updateQueue;if(e.updateQueue=null,N!==null)try{C==="input"&&h.type==="radio"&&h.name!=null&&G(u,h),bi(C,y);var $=bi(C,h);for(y=0;y<N.length;y+=2){var ee=N[y],re=N[y+1];ee==="style"?or(u,re):ee==="dangerouslySetInnerHTML"?De(u,re):ee==="children"?ye(u,re):H(u,ee,re,$)}switch(C){case"input":he(u,h);break;case"textarea":Le(u,h);break;case"select":var Y=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var ce=h.value;ce!=null?V(u,!!h.multiple,ce,!1):Y!==!!h.multiple&&(h.defaultValue!=null?V(u,!!h.multiple,h.defaultValue,!0):V(u,!!h.multiple,h.multiple?[]:"",!1))}u[ws]=h}catch(me){tt(e,e.return,me)}}break;case 6:if(Gt(t,e),sr(e),o&4){if(e.stateNode===null)throw Error(s(162));u=e.stateNode,h=e.memoizedProps;try{u.nodeValue=h}catch(me){tt(e,e.return,me)}}break;case 3:if(Gt(t,e),sr(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(me){tt(e,e.return,me)}break;case 4:Gt(t,e),sr(e);break;case 13:Gt(t,e),sr(e),u=e.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Qa=st())),o&4&&dd(e);break;case 22:if(ee=r!==null&&r.memoizedState!==null,e.mode&1?(kt=($=kt)||ee,Gt(t,e),kt=$):Gt(t,e),sr(e),o&8192){if($=e.memoizedState!==null,(e.stateNode.isHidden=$)&&!ee&&(e.mode&1)!==0)for(de=e,ee=e.child;ee!==null;){for(re=de=ee;de!==null;){switch(Y=de,ce=Y.child,Y.tag){case 0:case 11:case 14:case 15:Ps(4,Y,Y.return);break;case 1:On(Y,Y.return);var pe=Y.stateNode;if(typeof pe.componentWillUnmount=="function"){o=Y,r=Y.return;try{t=o,pe.props=t.memoizedProps,pe.state=t.memoizedState,pe.componentWillUnmount()}catch(me){tt(o,r,me)}}break;case 5:On(Y,Y.return);break;case 22:if(Y.memoizedState!==null){md(re);continue}}ce!==null?(ce.return=Y,de=ce):md(re)}ee=ee.sibling}e:for(ee=null,re=e;;){if(re.tag===5){if(ee===null){ee=re;try{u=re.stateNode,$?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(C=re.stateNode,N=re.memoizedProps.style,y=N!=null&&N.hasOwnProperty("display")?N.display:null,C.style.display=et("display",y))}catch(me){tt(e,e.return,me)}}}else if(re.tag===6){if(ee===null)try{re.stateNode.nodeValue=$?"":re.memoizedProps}catch(me){tt(e,e.return,me)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===e)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===e)break e;for(;re.sibling===null;){if(re.return===null||re.return===e)break e;ee===re&&(ee=null),re=re.return}ee===re&&(ee=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Gt(t,e),sr(e),o&4&&dd(e);break;case 21:break;default:Gt(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(ld(r)){var o=r;break e}r=r.return}throw Error(s(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(ye(u,""),o.flags&=-33);var h=ud(e);Wa(e,h,u);break;case 3:case 4:var y=o.stateNode.containerInfo,C=ud(e);Ha(e,C,y);break;default:throw Error(s(161))}}catch(N){tt(e,e.return,N)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qp(e,t,r){de=e,fd(e)}function fd(e,t,r){for(var o=(e.mode&1)!==0;de!==null;){var u=de,h=u.child;if(u.tag===22&&o){var y=u.memoizedState!==null||Fo;if(!y){var C=u.alternate,N=C!==null&&C.memoizedState!==null||kt;C=Fo;var $=kt;if(Fo=y,(kt=N)&&!$)for(de=u;de!==null;)y=de,N=y.child,y.tag===22&&y.memoizedState!==null?gd(u):N!==null?(N.return=y,de=N):gd(u);for(;h!==null;)de=h,fd(h),h=h.sibling;de=u,Fo=C,kt=$}pd(e)}else(u.subtreeFlags&8772)!==0&&h!==null?(h.return=u,de=h):pd(e)}}function pd(e){for(;de!==null;){var t=de;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:kt||qo(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!kt)if(r===null)o.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Qt(t.type,r.memoizedProps);o.componentDidUpdate(u,r.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&mc(t,h,o);break;case 3:var y=t.updateQueue;if(y!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}mc(t,y,r)}break;case 5:var C=t.stateNode;if(r===null&&t.flags&4){r=C;var N=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&r.focus();break;case"img":N.src&&(r.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var $=t.alternate;if($!==null){var ee=$.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&ls(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}kt||t.flags&512&&qa(t)}catch(Y){tt(t,t.return,Y)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function md(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function gd(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{qo(4,t)}catch(N){tt(t,r,N)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var u=t.return;try{o.componentDidMount()}catch(N){tt(t,u,N)}}var h=t.return;try{qa(t)}catch(N){tt(t,h,N)}break;case 5:var y=t.return;try{qa(t)}catch(N){tt(t,y,N)}}}catch(N){tt(t,t.return,N)}if(t===e){de=null;break}var C=t.sibling;if(C!==null){C.return=t.return,de=C;break}de=t.return}}var Jp=Math.ceil,Ho=oe.ReactCurrentDispatcher,Va=oe.ReactCurrentOwner,qt=oe.ReactCurrentBatchConfig,Ue=0,ht=null,it=null,yt=0,Dt=0,Tn=kr(0),ct=0,Os=null,Xr=0,Wo=0,Ka=0,Ts=null,Ot=null,Qa=0,An=1/0,fr=null,Vo=!1,Ja=null,Rr=null,Ko=!1,Pr=null,Qo=0,As=0,Ga=null,Jo=-1,Go=0;function Ct(){return(Ue&6)!==0?st():Jo!==-1?Jo:Jo=st()}function Or(e){return(e.mode&1)===0?1:(Ue&2)!==0&&yt!==0?yt&-yt:Tp.transition!==null?(Go===0&&(Go=uu()),Go):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:yu(e.type)),e)}function Zt(e,t,r,o){if(50<As)throw As=0,Ga=null,Error(s(185));ns(e,r,o),((Ue&2)===0||e!==ht)&&(e===ht&&((Ue&2)===0&&(Wo|=r),ct===4&&Tr(e,yt)),Tt(e,o),r===1&&Ue===0&&(t.mode&1)===0&&(An=st()+500,jo&&Sr()))}function Tt(e,t){var r=e.callbackNode;Tf(e,t);var o=so(e,e===ht?yt:0);if(o===0)r!==null&&iu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(r!=null&&iu(r),t===1)e.tag===0?Op(yd.bind(null,e)):nc(yd.bind(null,e)),Np(function(){(Ue&6)===0&&Sr()}),r=null;else{switch(cu(o)){case 1:r=Ri;break;case 4:r=au;break;case 16:r=eo;break;case 536870912:r=lu;break;default:r=eo}r=Cd(r,vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vd(e,t){if(Jo=-1,Go=0,(Ue&6)!==0)throw Error(s(327));var r=e.callbackNode;if(Ln()&&e.callbackNode!==r)return null;var o=so(e,e===ht?yt:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Zo(e,o);else{t=o;var u=Ue;Ue|=2;var h=xd();(ht!==e||yt!==t)&&(fr=null,An=st()+500,tn(e,t));do try{Yp();break}catch(C){wd(e,C)}while(!0);pa(),Ho.current=h,Ue=u,it!==null?t=0:(ht=null,yt=0,t=ct)}if(t!==0){if(t===2&&(u=Pi(e),u!==0&&(o=u,t=Za(e,u))),t===1)throw r=Os,tn(e,0),Tr(e,o),Tt(e,st()),r;if(t===6)Tr(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Gp(u)&&(t=Zo(e,o),t===2&&(h=Pi(e),h!==0&&(o=h,t=Za(e,h))),t===1))throw r=Os,tn(e,0),Tr(e,o),Tt(e,st()),r;switch(e.finishedWork=u,e.finishedLanes=o,t){case 0:case 1:throw Error(s(345));case 2:rn(e,Ot,fr);break;case 3:if(Tr(e,o),(o&130023424)===o&&(t=Qa+500-st(),10<t)){if(so(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){Ct(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=na(rn.bind(null,e,Ot,fr),t);break}rn(e,Ot,fr);break;case 4:if(Tr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,u=-1;0<o;){var y=31-Wt(o);h=1<<y,y=t[y],y>u&&(u=y),o&=~h}if(o=u,o=st()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Jp(o/1960))-o,10<o){e.timeoutHandle=na(rn.bind(null,e,Ot,fr),o);break}rn(e,Ot,fr);break;case 5:rn(e,Ot,fr);break;default:throw Error(s(329))}}}return Tt(e,st()),e.callbackNode===r?vd.bind(null,e):null}function Za(e,t){var r=Ts;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=Ot,Ot=r,t!==null&&Ya(t)),e}function Ya(e){Ot===null?Ot=e:Ot.push.apply(Ot,e)}function Gp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var o=0;o<r.length;o++){var u=r[o],h=u.getSnapshot;u=u.value;try{if(!Vt(h(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tr(e,t){for(t&=~Ka,t&=~Wo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),o=1<<r;e[r]=-1,t&=~o}}function yd(e){if((Ue&6)!==0)throw Error(s(327));Ln();var t=so(e,0);if((t&1)===0)return Tt(e,st()),null;var r=Zo(e,t);if(e.tag!==0&&r===2){var o=Pi(e);o!==0&&(t=o,r=Za(e,o))}if(r===1)throw r=Os,tn(e,0),Tr(e,t),Tt(e,st()),r;if(r===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rn(e,Ot,fr),Tt(e,st()),null}function Xa(e,t){var r=Ue;Ue|=1;try{return e(t)}finally{Ue=r,Ue===0&&(An=st()+500,jo&&Sr())}}function en(e){Pr!==null&&Pr.tag===0&&(Ue&6)===0&&Ln();var t=Ue;Ue|=1;var r=qt.transition,o=Fe;try{if(qt.transition=null,Fe=1,e)return e()}finally{Fe=o,qt.transition=r,Ue=t,(Ue&6)===0&&Sr()}}function el(){Dt=Tn.current,Je(Tn)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Cp(r)),it!==null)for(r=it.return;r!==null;){var o=r;switch(ua(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&bo();break;case 3:Rn(),Je(Et),Je(xt),ba();break;case 5:xa(o);break;case 4:Rn();break;case 13:Je(Ye);break;case 19:Je(Ye);break;case 10:ma(o.type._context);break;case 22:case 23:el()}r=r.return}if(ht=e,it=e=Ar(e.current,null),yt=Dt=t,ct=0,Os=null,Ka=Wo=Xr=0,Ot=Ts=null,Gr!==null){for(t=0;t<Gr.length;t++)if(r=Gr[t],o=r.interleaved,o!==null){r.interleaved=null;var u=o.next,h=r.pending;if(h!==null){var y=h.next;h.next=u,o.next=y}r.pending=o}Gr=null}return e}function wd(e,t){do{var r=it;try{if(pa(),Lo.current=Do,Mo){for(var o=Xe.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Mo=!1}if(Yr=0,dt=ut=Xe=null,Ss=!1,Cs=0,Va.current=null,r===null||r.return===null){ct=1,Os=t,it=null;break}e:{var h=e,y=r.return,C=r,N=t;if(t=yt,C.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var $=N,ee=C,re=ee.tag;if((ee.mode&1)===0&&(re===0||re===11||re===15)){var Y=ee.alternate;Y?(ee.updateQueue=Y.updateQueue,ee.memoizedState=Y.memoizedState,ee.lanes=Y.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ce=Hc(y);if(ce!==null){ce.flags&=-257,Wc(ce,y,C,h,t),ce.mode&1&&qc(h,$,t),t=ce,N=$;var pe=t.updateQueue;if(pe===null){var me=new Set;me.add(N),t.updateQueue=me}else pe.add(N);break e}else{if((t&1)===0){qc(h,$,t),tl();break e}N=Error(s(426))}}else if(Ge&&C.mode&1){var ot=Hc(y);if(ot!==null){(ot.flags&65536)===0&&(ot.flags|=256),Wc(ot,y,C,h,t),ha(Pn(N,C));break e}}h=N=Pn(N,C),ct!==4&&(ct=2),Ts===null?Ts=[h]:Ts.push(h),h=y;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var O=Bc(h,N,t);pc(h,O);break e;case 1:C=N;var E=h.type,A=h.stateNode;if((h.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Rr===null||!Rr.has(A)))){h.flags|=65536,t&=-t,h.lanes|=t;var se=Fc(h,C,t);pc(h,se);break e}}h=h.return}while(h!==null)}bd(r)}catch(we){t=we,it===r&&r!==null&&(it=r=r.return);continue}break}while(!0)}function xd(){var e=Ho.current;return Ho.current=Do,e===null?Do:e}function tl(){(ct===0||ct===3||ct===2)&&(ct=4),ht===null||(Xr&268435455)===0&&(Wo&268435455)===0||Tr(ht,yt)}function Zo(e,t){var r=Ue;Ue|=2;var o=xd();(ht!==e||yt!==t)&&(fr=null,tn(e,t));do try{Zp();break}catch(u){wd(e,u)}while(!0);if(pa(),Ue=r,Ho.current=o,it!==null)throw Error(s(261));return ht=null,yt=0,ct}function Zp(){for(;it!==null;)_d(it)}function Yp(){for(;it!==null&&!kf();)_d(it)}function _d(e){var t=Sd(e.alternate,e,Dt);e.memoizedProps=e.pendingProps,t===null?bd(e):it=t,Va.current=null}function bd(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=Hp(r,t,Dt),r!==null){it=r;return}}else{if(r=Wp(r,t),r!==null){r.flags&=32767,it=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,it=null;return}}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);ct===0&&(ct=5)}function rn(e,t,r){var o=Fe,u=qt.transition;try{qt.transition=null,Fe=1,Xp(e,t,r,o)}finally{qt.transition=u,Fe=o}return null}function Xp(e,t,r,o){do Ln();while(Pr!==null);if((Ue&6)!==0)throw Error(s(327));r=e.finishedWork;var u=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(Af(e,h),e===ht&&(it=ht=null,yt=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Ko||(Ko=!0,Cd(eo,function(){return Ln(),null})),h=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||h){h=qt.transition,qt.transition=null;var y=Fe;Fe=1;var C=Ue;Ue|=4,Va.current=null,Kp(e,r),hd(r,e),wp(ta),ao=!!ea,ta=ea=null,e.current=r,Qp(r),jf(),Ue=C,Fe=y,qt.transition=h}else e.current=r;if(Ko&&(Ko=!1,Pr=e,Qo=u),h=e.pendingLanes,h===0&&(Rr=null),Nf(r.stateNode),Tt(e,st()),t!==null)for(o=e.onRecoverableError,r=0;r<t.length;r++)u=t[r],o(u.value,{componentStack:u.stack,digest:u.digest});if(Vo)throw Vo=!1,e=Ja,Ja=null,e;return(Qo&1)!==0&&e.tag!==0&&Ln(),h=e.pendingLanes,(h&1)!==0?e===Ga?As++:(As=0,Ga=e):As=0,Sr(),null}function Ln(){if(Pr!==null){var e=cu(Qo),t=qt.transition,r=Fe;try{if(qt.transition=null,Fe=16>e?16:e,Pr===null)var o=!1;else{if(e=Pr,Pr=null,Qo=0,(Ue&6)!==0)throw Error(s(331));var u=Ue;for(Ue|=4,de=e.current;de!==null;){var h=de,y=h.child;if((de.flags&16)!==0){var C=h.deletions;if(C!==null){for(var N=0;N<C.length;N++){var $=C[N];for(de=$;de!==null;){var ee=de;switch(ee.tag){case 0:case 11:case 15:Ps(8,ee,h)}var re=ee.child;if(re!==null)re.return=ee,de=re;else for(;de!==null;){ee=de;var Y=ee.sibling,ce=ee.return;if(ad(ee),ee===$){de=null;break}if(Y!==null){Y.return=ce,de=Y;break}de=ce}}}var pe=h.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ot=me.sibling;me.sibling=null,me=ot}while(me!==null)}}de=h}}if((h.subtreeFlags&2064)!==0&&y!==null)y.return=h,de=y;else e:for(;de!==null;){if(h=de,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Ps(9,h,h.return)}var O=h.sibling;if(O!==null){O.return=h.return,de=O;break e}de=h.return}}var E=e.current;for(de=E;de!==null;){y=de;var A=y.child;if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,de=A;else e:for(y=E;de!==null;){if(C=de,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:qo(9,C)}}catch(we){tt(C,C.return,we)}if(C===y){de=null;break e}var se=C.sibling;if(se!==null){se.return=C.return,de=se;break e}de=C.return}}if(Ue=u,Sr(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(to,e)}catch{}o=!0}return o}finally{Fe=r,qt.transition=t}}return!1}function kd(e,t,r){t=Pn(r,t),t=Bc(e,t,1),e=Nr(e,t,1),t=Ct(),e!==null&&(ns(e,1,t),Tt(e,t))}function tt(e,t,r){if(e.tag===3)kd(e,e,r);else for(;t!==null;){if(t.tag===3){kd(t,e,r);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rr===null||!Rr.has(o))){e=Pn(r,e),e=Fc(t,e,1),t=Nr(t,e,1),e=Ct(),t!==null&&(ns(t,1,e),Tt(t,e));break}}t=t.return}}function em(e,t,r){var o=e.pingCache;o!==null&&o.delete(t),t=Ct(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(yt&r)===r&&(ct===4||ct===3&&(yt&130023424)===yt&&500>st()-Qa?tn(e,0):Ka|=r),Tt(e,t)}function jd(e,t){t===0&&((e.mode&1)===0?t=1:(t=no,no<<=1,(no&130023424)===0&&(no=4194304)));var r=Ct();e=cr(e,t),e!==null&&(ns(e,t,r),Tt(e,r))}function tm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),jd(e,r)}function rm(e,t){var r=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(s(314))}o!==null&&o.delete(t),jd(e,r)}var Sd;Sd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Pt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return Pt=!1,qp(e,t,r);Pt=(e.flags&131072)!==0}else Pt=!1,Ge&&(t.flags&1048576)!==0&&sc(t,Co,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;Bo(e,t),e=t.pendingProps;var u=bn(t,xt.current);En(t,r),u=Sa(null,t,o,e,u,r);var h=Ca();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(o)?(h=!0,ko(t)):h=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,ya(t),u.updater=Uo,t.stateNode=u,u._reactInternals=t,Ta(t,o,e,r),t=$a(null,t,o,!0,h,r)):(t.tag=0,Ge&&h&&la(t),St(null,t,u,r),t=t.child),t;case 16:o=t.elementType;e:{switch(Bo(e,t),e=t.pendingProps,u=o._init,o=u(o._payload),t.type=o,u=t.tag=sm(o),e=Qt(o,e),u){case 0:t=Ma(null,t,o,e,r);break e;case 1:t=Zc(null,t,o,e,r);break e;case 11:t=Vc(null,t,o,e,r);break e;case 14:t=Kc(null,t,o,Qt(o.type,e),r);break e}throw Error(s(306,o,""))}return t;case 0:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Qt(o,u),Ma(e,t,o,u,r);case 1:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Qt(o,u),Zc(e,t,o,u,r);case 3:e:{if(Yc(t),e===null)throw Error(s(387));o=t.pendingProps,h=t.memoizedState,u=h.element,fc(e,t),To(t,o,null,r);var y=t.memoizedState;if(o=y.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){u=Pn(Error(s(423)),t),t=Xc(e,t,o,r,u);break e}else if(o!==u){u=Pn(Error(s(424)),t),t=Xc(e,t,o,r,u);break e}else for(It=br(t.stateNode.containerInfo.firstChild),$t=t,Ge=!0,Kt=null,r=dc(t,null,o,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Sn(),o===u){t=hr(e,t,r);break e}St(e,t,o,r)}t=t.child}return t;case 5:return gc(t),e===null&&da(t),o=t.type,u=t.pendingProps,h=e!==null?e.memoizedProps:null,y=u.children,ra(o,u)?y=null:h!==null&&ra(o,h)&&(t.flags|=32),Gc(e,t),St(e,t,y,r),t.child;case 6:return e===null&&da(t),null;case 13:return ed(e,t,r);case 4:return wa(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Cn(t,null,o,r):St(e,t,o,r),t.child;case 11:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Qt(o,u),Vc(e,t,o,u,r);case 7:return St(e,t,t.pendingProps,r),t.child;case 8:return St(e,t,t.pendingProps.children,r),t.child;case 12:return St(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(o=t.type._context,u=t.pendingProps,h=t.memoizedProps,y=u.value,Ve(Ro,o._currentValue),o._currentValue=y,h!==null)if(Vt(h.value,y)){if(h.children===u.children&&!Et.current){t=hr(e,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var C=h.dependencies;if(C!==null){y=h.child;for(var N=C.firstContext;N!==null;){if(N.context===o){if(h.tag===1){N=dr(-1,r&-r),N.tag=2;var $=h.updateQueue;if($!==null){$=$.shared;var ee=$.pending;ee===null?N.next=N:(N.next=ee.next,ee.next=N),$.pending=N}}h.lanes|=r,N=h.alternate,N!==null&&(N.lanes|=r),ga(h.return,r,t),C.lanes|=r;break}N=N.next}}else if(h.tag===10)y=h.type===t.type?null:h.child;else if(h.tag===18){if(y=h.return,y===null)throw Error(s(341));y.lanes|=r,C=y.alternate,C!==null&&(C.lanes|=r),ga(y,r,t),y=h.sibling}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}St(e,t,u.children,r),t=t.child}return t;case 9:return u=t.type,o=t.pendingProps.children,En(t,r),u=Bt(u),o=o(u),t.flags|=1,St(e,t,o,r),t.child;case 14:return o=t.type,u=Qt(o,t.pendingProps),u=Qt(o.type,u),Kc(e,t,o,u,r);case 15:return Qc(e,t,t.type,t.pendingProps,r);case 17:return o=t.type,u=t.pendingProps,u=t.elementType===o?u:Qt(o,u),Bo(e,t),t.tag=1,Rt(o)?(e=!0,ko(t)):e=!1,En(t,r),Uc(t,o,u),Ta(t,o,u,r),$a(null,t,o,!0,e,r);case 19:return rd(e,t,r);case 22:return Jc(e,t,r)}throw Error(s(156,t.tag))};function Cd(e,t){return ou(e,t)}function nm(e,t,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,r,o){return new nm(e,t,r,o)}function rl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sm(e){if(typeof e=="function")return rl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lt)return 11;if(e===Q)return 14}return 2}function Ar(e,t){var r=e.alternate;return r===null?(r=Ht(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yo(e,t,r,o,u,h){var y=2;if(o=e,typeof e=="function")rl(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case ue:return nn(r.children,u,h,t);case Pe:y=8,u|=8;break;case qe:return e=Ht(12,r,t,u|2),e.elementType=qe,e.lanes=h,e;case He:return e=Ht(13,r,t,u),e.elementType=He,e.lanes=h,e;case K:return e=Ht(19,r,t,u),e.elementType=K,e.lanes=h,e;case w:return Xo(r,u,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ze:y=10;break e;case gt:y=9;break e;case lt:y=11;break e;case Q:y=14;break e;case L:y=16,o=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Ht(y,r,t,u),t.elementType=e,t.type=o,t.lanes=h,t}function nn(e,t,r,o){return e=Ht(7,e,o,t),e.lanes=r,e}function Xo(e,t,r,o){return e=Ht(22,e,o,t),e.elementType=w,e.lanes=r,e.stateNode={isHidden:!1},e}function nl(e,t,r){return e=Ht(6,e,null,t),e.lanes=r,e}function sl(e,t,r){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function om(e,t,r,o,u){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ol(e,t,r,o,u,h,y,C,N){return e=new om(e,t,r,C,N),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Ht(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:o,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(h),e}function im(e,t,r){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:o==null?null:""+o,children:e,containerInfo:t,implementation:r}}function Nd(e){if(!e)return jr;e=e._reactInternals;e:{if(Wr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var r=e.type;if(Rt(r))return tc(e,r,t)}return t}function Ed(e,t,r,o,u,h,y,C,N){return e=ol(r,o,!0,e,u,h,y,C,N),e.context=Nd(null),r=e.current,o=Ct(),u=Or(r),h=dr(o,u),h.callback=t??null,Nr(r,h,u),e.current.lanes=u,ns(e,u,o),Tt(e,o),e}function ei(e,t,r,o){var u=t.current,h=Ct(),y=Or(u);return r=Nd(r),t.context===null?t.context=r:t.pendingContext=r,t=dr(h,y),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Nr(u,t,y),e!==null&&(Zt(e,u,y,h),Oo(e,u,y)),y}function ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function il(e,t){Rd(e,t),(e=e.alternate)&&Rd(e,t)}function am(){return null}var Pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function al(e){this._internalRoot=e}ri.prototype.render=al.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));ei(e,t,null,null)},ri.prototype.unmount=al.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;en(function(){ei(null,e,null,null)}),t[ir]=null}};function ri(e){this._internalRoot=e}ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=fu();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wr.length&&t!==0&&t<wr[r].priority;r++);wr.splice(r,0,e),r===0&&gu(e)}};function ll(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ni(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Od(){}function lm(e,t,r,o,u){if(u){if(typeof o=="function"){var h=o;o=function(){var $=ti(y);h.call($)}}var y=Ed(t,o,e,0,null,!1,!1,"",Od);return e._reactRootContainer=y,e[ir]=y.current,vs(e.nodeType===8?e.parentNode:e),en(),y}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var C=o;o=function(){var $=ti(N);C.call($)}}var N=ol(e,0,!1,null,null,!1,!1,"",Od);return e._reactRootContainer=N,e[ir]=N.current,vs(e.nodeType===8?e.parentNode:e),en(function(){ei(t,N,r,o)}),N}function si(e,t,r,o,u){var h=r._reactRootContainer;if(h){var y=h;if(typeof u=="function"){var C=u;u=function(){var N=ti(y);C.call(N)}}ei(t,y,e,u)}else y=lm(r,t,e,u,o);return ti(y)}du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=rs(t.pendingLanes);r!==0&&(Ti(t,r|1),Tt(t,st()),(Ue&6)===0&&(An=st()+500,Sr()))}break;case 13:en(function(){var o=cr(e,1);if(o!==null){var u=Ct();Zt(o,e,1,u)}}),il(e,1)}},Ai=function(e){if(e.tag===13){var t=cr(e,134217728);if(t!==null){var r=Ct();Zt(t,e,134217728,r)}il(e,134217728)}},hu=function(e){if(e.tag===13){var t=Or(e),r=cr(e,t);if(r!==null){var o=Ct();Zt(r,e,t,o)}il(e,t)}},fu=function(){return Fe},pu=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}},Si=function(e,t,r){switch(t){case"input":if(he(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var o=r[t];if(o!==e&&o.form===e.form){var u=_o(o);if(!u)throw Error(s(90));P(o),he(o,u)}}}break;case"textarea":Le(e,r);break;case"select":t=r.value,t!=null&&V(e,!!r.multiple,t,!1)}},Yl=Xa,Xl=en;var um={usingClientEntryPoint:!1,Events:[xs,xn,_o,Gl,Zl,Xa]},Ls={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cm={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nu(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||am,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oi.isDisabled&&oi.supportsFiber)try{to=oi.inject(cm),er=oi}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=um,At.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ll(t))throw Error(s(200));return im(e,t,null,r)},At.createRoot=function(e,t){if(!ll(e))throw Error(s(299));var r=!1,o="",u=Pd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ol(e,1,!1,null,null,r,!1,o,u),e[ir]=t.current,vs(e.nodeType===8?e.parentNode:e),new al(t)},At.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nu(t),e=e===null?null:e.stateNode,e},At.flushSync=function(e){return en(e)},At.hydrate=function(e,t,r){if(!ni(t))throw Error(s(200));return si(null,e,t,!0,r)},At.hydrateRoot=function(e,t,r){if(!ll(e))throw Error(s(405));var o=r!=null&&r.hydratedSources||null,u=!1,h="",y=Pd;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),t=Ed(t,null,e,1,r??null,u,!1,h,y),e[ir]=t.current,vs(e),o)for(e=0;e<o.length;e++)r=o[e],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new ri(t)},At.render=function(e,t,r){if(!ni(t))throw Error(s(200));return si(null,e,t,!1,r)},At.unmountComponentAtNode=function(e){if(!ni(e))throw Error(s(40));return e._reactRootContainer?(en(function(){si(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1},At.unstable_batchedUpdates=Xa,At.unstable_renderSubtreeIntoContainer=function(e,t,r,o){if(!ni(r))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return si(e,t,r,!1,o)},At.version="18.3.1-next-f1338f8080-20240426",At}var Ud;function Rh(){if(Ud)return dl.exports;Ud=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),dl.exports=xm(),dl.exports}var zd;function _m(){if(zd)return ii;zd=1;var a=Rh();return ii.createRoot=a.createRoot,ii.hydrateRoot=a.hydrateRoot,ii}var bm=_m();Rh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hs(){return Hs=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])}return a},Hs.apply(this,arguments)}var Ur;(function(a){a.Pop="POP",a.Push="PUSH",a.Replace="REPLACE"})(Ur||(Ur={}));const Bd="popstate";function km(a){a===void 0&&(a={});function n(i,l){let{pathname:c,search:f,hash:p}=i.location;return _l("",{pathname:c,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:mi(l)}return Sm(n,s,null,a)}function at(a,n){if(a===!1||a===null||typeof a>"u")throw new Error(n)}function Ph(a,n){if(!a){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function jm(){return Math.random().toString(36).substr(2,8)}function Fd(a,n){return{usr:a.state,key:a.key,idx:n}}function _l(a,n,s,i){return s===void 0&&(s=null),Hs({pathname:typeof a=="string"?a:a.pathname,search:"",hash:""},typeof n=="string"?Gn(n):n,{state:s,key:n&&n.key||i||jm()})}function mi(a){let{pathname:n="/",search:s="",hash:i=""}=a;return s&&s!=="?"&&(n+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function Gn(a){let n={};if(a){let s=a.indexOf("#");s>=0&&(n.hash=a.substr(s),a=a.substr(0,s));let i=a.indexOf("?");i>=0&&(n.search=a.substr(i),a=a.substr(0,i)),a&&(n.pathname=a)}return n}function Sm(a,n,s,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:c=!1}=i,f=l.history,p=Ur.Pop,v=null,x=k();x==null&&(x=0,f.replaceState(Hs({},f.state,{idx:x}),""));function k(){return(f.state||{idx:null}).idx}function j(){p=Ur.Pop;let M=k(),te=M==null?null:M-x;x=M,v&&v({action:p,location:U.location,delta:te})}function R(M,te){p=Ur.Push;let le=_l(U.location,M,te);x=k()+1;let H=Fd(le,x),oe=U.createHref(le);try{f.pushState(H,"",oe)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(oe)}c&&v&&v({action:p,location:U.location,delta:1})}function I(M,te){p=Ur.Replace;let le=_l(U.location,M,te);x=k();let H=Fd(le,x),oe=U.createHref(le);f.replaceState(H,"",oe),c&&v&&v({action:p,location:U.location,delta:0})}function W(M){let te=l.location.origin!=="null"?l.location.origin:l.location.href,le=typeof M=="string"?M:mi(M);return le=le.replace(/ $/,"%20"),at(te,"No window.location.(origin|href) available to create URL for href: "+le),new URL(le,te)}let U={get action(){return p},get location(){return a(l,f)},listen(M){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Bd,j),v=M,()=>{l.removeEventListener(Bd,j),v=null}},createHref(M){return n(l,M)},createURL:W,encodeLocation(M){let te=W(M);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:R,replace:I,go(M){return f.go(M)}};return U}var qd;(function(a){a.data="data",a.deferred="deferred",a.redirect="redirect",a.error="error"})(qd||(qd={}));function Cm(a,n,s){return s===void 0&&(s="/"),Nm(a,n,s)}function Nm(a,n,s,i){let l=typeof n=="string"?Gn(n):n,c=zl(l.pathname||"/",s);if(c==null)return null;let f=Oh(a);Em(f);let p=null;for(let v=0;p==null&&v<f.length;++v){let x=zm(c);p=Im(f[v],x)}return p}function Oh(a,n,s,i){n===void 0&&(n=[]),s===void 0&&(s=[]),i===void 0&&(i="");let l=(c,f,p)=>{let v={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};v.relativePath.startsWith("/")&&(at(v.relativePath.startsWith(i),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(i.length));let x=Br([i,v.relativePath]),k=s.concat(v);c.children&&c.children.length>0&&(at(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Oh(c.children,n,k,x)),!(c.path==null&&!c.index)&&n.push({path:x,score:Mm(x,c.index),routesMeta:k})};return a.forEach((c,f)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))l(c,f);else for(let v of Th(c.path))l(c,f,v)}),n}function Th(a){let n=a.split("/");if(n.length===0)return[];let[s,...i]=n,l=s.endsWith("?"),c=s.replace(/\?$/,"");if(i.length===0)return l?[c,""]:[c];let f=Th(i.join("/")),p=[];return p.push(...f.map(v=>v===""?c:[c,v].join("/"))),l&&p.push(...f),p.map(v=>a.startsWith("/")&&v===""?"/":v)}function Em(a){a.sort((n,s)=>n.score!==s.score?s.score-n.score:$m(n.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}const Rm=/^:[\w-]+$/,Pm=3,Om=2,Tm=1,Am=10,Lm=-2,Hd=a=>a==="*";function Mm(a,n){let s=a.split("/"),i=s.length;return s.some(Hd)&&(i+=Lm),n&&(i+=Om),s.filter(l=>!Hd(l)).reduce((l,c)=>l+(Rm.test(c)?Pm:c===""?Tm:Am),i)}function $m(a,n){return a.length===n.length&&a.slice(0,-1).every((i,l)=>i===n[l])?a[a.length-1]-n[n.length-1]:0}function Im(a,n,s){let{routesMeta:i}=a,l={},c="/",f=[];for(let p=0;p<i.length;++p){let v=i[p],x=p===i.length-1,k=c==="/"?n:n.slice(c.length)||"/",j=Dm({path:v.relativePath,caseSensitive:v.caseSensitive,end:x},k),R=v.route;if(!j)return null;Object.assign(l,j.params),f.push({params:l,pathname:Br([c,j.pathname]),pathnameBase:Hm(Br([c,j.pathnameBase])),route:R}),j.pathnameBase!=="/"&&(c=Br([c,j.pathnameBase]))}return f}function Dm(a,n){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[s,i]=Um(a.path,a.caseSensitive,a.end),l=n.match(s);if(!l)return null;let c=l[0],f=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((x,k,j)=>{let{paramName:R,isOptional:I}=k;if(R==="*"){let U=p[j]||"";f=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const W=p[j];return I&&!W?x[R]=void 0:x[R]=(W||"").replace(/%2F/g,"/"),x},{}),pathname:c,pathnameBase:f,pattern:a}}function Um(a,n,s){n===void 0&&(n=!1),s===void 0&&(s=!0),Ph(a==="*"||!a.endsWith("*")||a.endsWith("/*"),'Route path "'+a+'" will be treated as if it were '+('"'+a.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+a.replace(/\*$/,"/*")+'".'));let i=[],l="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,v)=>(i.push({paramName:p,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(i.push({paramName:"*"}),l+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":a!==""&&a!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,n?void 0:"i"),i]}function zm(a){try{return a.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Ph(!1,'The URL path "'+a+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),a}}function zl(a,n){if(n==="/")return a;if(!a.toLowerCase().startsWith(n.toLowerCase()))return null;let s=n.endsWith("/")?n.length-1:n.length,i=a.charAt(s);return i&&i!=="/"?null:a.slice(s)||"/"}function Bm(a,n){n===void 0&&(n="/");let{pathname:s,search:i="",hash:l=""}=typeof a=="string"?Gn(a):a;return{pathname:s?s.startsWith("/")?s:Fm(s,n):n,search:Wm(i),hash:Vm(l)}}function Fm(a,n){let s=n.replace(/\/+$/,"").split("/");return a.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function pl(a,n,s,i){return"Cannot include a '"+a+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qm(a){return a.filter((n,s)=>s===0||n.route.path&&n.route.path.length>0)}function Ah(a,n){let s=qm(a);return n?s.map((i,l)=>l===s.length-1?i.pathname:i.pathnameBase):s.map(i=>i.pathnameBase)}function Lh(a,n,s,i){i===void 0&&(i=!1);let l;typeof a=="string"?l=Gn(a):(l=Hs({},a),at(!l.pathname||!l.pathname.includes("?"),pl("?","pathname","search",l)),at(!l.pathname||!l.pathname.includes("#"),pl("#","pathname","hash",l)),at(!l.search||!l.search.includes("#"),pl("#","search","hash",l)));let c=a===""||l.pathname==="",f=c?"/":l.pathname,p;if(f==null)p=s;else{let j=n.length-1;if(!i&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),j-=1;l.pathname=R.join("/")}p=j>=0?n[j]:"/"}let v=Bm(l,p),x=f&&f!=="/"&&f.endsWith("/"),k=(c||f===".")&&s.endsWith("/");return!v.pathname.endsWith("/")&&(x||k)&&(v.pathname+="/"),v}const Br=a=>a.join("/").replace(/\/\/+/g,"/"),Hm=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),Wm=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,Vm=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function Km(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}const Mh=["post","put","patch","delete"];new Set(Mh);const Qm=["get",...Mh];new Set(Qm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ws(){return Ws=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])}return a},Ws.apply(this,arguments)}const Bl=q.createContext(null),Jm=q.createContext(null),un=q.createContext(null),xi=q.createContext(null),Fr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),$h=q.createContext(null);function Gm(a,n){let{relative:s}=n===void 0?{}:n;Qs()||at(!1);let{basename:i,navigator:l}=q.useContext(un),{hash:c,pathname:f,search:p}=Uh(a,{relative:s}),v=f;return i!=="/"&&(v=f==="/"?i:Br([i,f])),l.createHref({pathname:v,search:p,hash:c})}function Qs(){return q.useContext(xi)!=null}function Zn(){return Qs()||at(!1),q.useContext(xi).location}function Ih(a){q.useContext(un).static||q.useLayoutEffect(a)}function Js(){let{isDataRoute:a}=q.useContext(Fr);return a?u0():Zm()}function Zm(){Qs()||at(!1);let a=q.useContext(Bl),{basename:n,future:s,navigator:i}=q.useContext(un),{matches:l}=q.useContext(Fr),{pathname:c}=Zn(),f=JSON.stringify(Ah(l,s.v7_relativeSplatPath)),p=q.useRef(!1);return Ih(()=>{p.current=!0}),q.useCallback(function(x,k){if(k===void 0&&(k={}),!p.current)return;if(typeof x=="number"){i.go(x);return}let j=Lh(x,JSON.parse(f),c,k.relative==="path");a==null&&n!=="/"&&(j.pathname=j.pathname==="/"?n:Br([n,j.pathname])),(k.replace?i.replace:i.push)(j,k.state,k)},[n,i,f,c,a])}function Dh(){let{matches:a}=q.useContext(Fr),n=a[a.length-1];return n?n.params:{}}function Uh(a,n){let{relative:s}=n===void 0?{}:n,{future:i}=q.useContext(un),{matches:l}=q.useContext(Fr),{pathname:c}=Zn(),f=JSON.stringify(Ah(l,i.v7_relativeSplatPath));return q.useMemo(()=>Lh(a,JSON.parse(f),c,s==="path"),[a,f,c,s])}function Ym(a,n){return Xm(a,n)}function Xm(a,n,s,i){Qs()||at(!1);let{navigator:l}=q.useContext(un),{matches:c}=q.useContext(Fr),f=c[c.length-1],p=f?f.params:{};f&&f.pathname;let v=f?f.pathnameBase:"/";f&&f.route;let x=Zn(),k;if(n){var j;let M=typeof n=="string"?Gn(n):n;v==="/"||(j=M.pathname)!=null&&j.startsWith(v)||at(!1),k=M}else k=x;let R=k.pathname||"/",I=R;if(v!=="/"){let M=v.replace(/^\//,"").split("/");I="/"+R.replace(/^\//,"").split("/").slice(M.length).join("/")}let W=Cm(a,{pathname:I}),U=s0(W&&W.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Br([v,l.encodeLocation?l.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:Br([v,l.encodeLocation?l.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,s,i);return n&&U?q.createElement(xi.Provider,{value:{location:Ws({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:Ur.Pop}},U):U}function e0(){let a=l0(),n=Km(a)?a.status+" "+a.statusText:a instanceof Error?a.message:JSON.stringify(a),s=a instanceof Error?a.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},n),s?q.createElement("pre",{style:l},s):null,null)}const t0=q.createElement(e0,null);class r0 extends q.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,s){return s.location!==n.location||s.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:s.error,location:s.location,revalidation:n.revalidation||s.revalidation}}componentDidCatch(n,s){console.error("React Router caught the following error during render",n,s)}render(){return this.state.error!==void 0?q.createElement(Fr.Provider,{value:this.props.routeContext},q.createElement($h.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n0(a){let{routeContext:n,match:s,children:i}=a,l=q.useContext(Bl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),q.createElement(Fr.Provider,{value:n},i)}function s0(a,n,s,i){var l;if(n===void 0&&(n=[]),s===void 0&&(s=null),i===void 0&&(i=null),a==null){var c;if(!s)return null;if(s.errors)a=s.matches;else if((c=i)!=null&&c.v7_partialHydration&&n.length===0&&!s.initialized&&s.matches.length>0)a=s.matches;else return null}let f=a,p=(l=s)==null?void 0:l.errors;if(p!=null){let k=f.findIndex(j=>j.route.id&&(p==null?void 0:p[j.route.id])!==void 0);k>=0||at(!1),f=f.slice(0,Math.min(f.length,k+1))}let v=!1,x=-1;if(s&&i&&i.v7_partialHydration)for(let k=0;k<f.length;k++){let j=f[k];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(x=k),j.route.id){let{loaderData:R,errors:I}=s,W=j.route.loader&&R[j.route.id]===void 0&&(!I||I[j.route.id]===void 0);if(j.route.lazy||W){v=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}return f.reduceRight((k,j,R)=>{let I,W=!1,U=null,M=null;s&&(I=p&&j.route.id?p[j.route.id]:void 0,U=j.route.errorElement||t0,v&&(x<0&&R===0?(c0("route-fallback"),W=!0,M=null):x===R&&(W=!0,M=j.route.hydrateFallbackElement||null)));let te=n.concat(f.slice(0,R+1)),le=()=>{let H;return I?H=U:W?H=M:j.route.Component?H=q.createElement(j.route.Component,null):j.route.element?H=j.route.element:H=k,q.createElement(n0,{match:j,routeContext:{outlet:k,matches:te,isDataRoute:s!=null},children:H})};return s&&(j.route.ErrorBoundary||j.route.errorElement||R===0)?q.createElement(r0,{location:s.location,revalidation:s.revalidation,component:U,error:I,children:le(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):le()},null)}var zh=function(a){return a.UseBlocker="useBlocker",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a}(zh||{}),Bh=function(a){return a.UseBlocker="useBlocker",a.UseLoaderData="useLoaderData",a.UseActionData="useActionData",a.UseRouteError="useRouteError",a.UseNavigation="useNavigation",a.UseRouteLoaderData="useRouteLoaderData",a.UseMatches="useMatches",a.UseRevalidator="useRevalidator",a.UseNavigateStable="useNavigate",a.UseRouteId="useRouteId",a}(Bh||{});function o0(a){let n=q.useContext(Bl);return n||at(!1),n}function i0(a){let n=q.useContext(Jm);return n||at(!1),n}function a0(a){let n=q.useContext(Fr);return n||at(!1),n}function Fh(a){let n=a0(),s=n.matches[n.matches.length-1];return s.route.id||at(!1),s.route.id}function l0(){var a;let n=q.useContext($h),s=i0(),i=Fh();return n!==void 0?n:(a=s.errors)==null?void 0:a[i]}function u0(){let{router:a}=o0(zh.UseNavigateStable),n=Fh(Bh.UseNavigateStable),s=q.useRef(!1);return Ih(()=>{s.current=!0}),q.useCallback(function(l,c){c===void 0&&(c={}),s.current&&(typeof l=="number"?a.navigate(l):a.navigate(l,Ws({fromRouteId:n},c)))},[a,n])}const Wd={};function c0(a,n,s){Wd[a]||(Wd[a]=!0)}function d0(a,n){a==null||a.v7_startTransition,a==null||a.v7_relativeSplatPath}function Ds(a){at(!1)}function h0(a){let{basename:n="/",children:s=null,location:i,navigationType:l=Ur.Pop,navigator:c,static:f=!1,future:p}=a;Qs()&&at(!1);let v=n.replace(/^\/*/,"/"),x=q.useMemo(()=>({basename:v,navigator:c,static:f,future:Ws({v7_relativeSplatPath:!1},p)}),[v,p,c,f]);typeof i=="string"&&(i=Gn(i));let{pathname:k="/",search:j="",hash:R="",state:I=null,key:W="default"}=i,U=q.useMemo(()=>{let M=zl(k,v);return M==null?null:{location:{pathname:M,search:j,hash:R,state:I,key:W},navigationType:l}},[v,k,j,R,I,W,l]);return U==null?null:q.createElement(un.Provider,{value:x},q.createElement(xi.Provider,{children:s,value:U}))}function f0(a){let{children:n,location:s}=a;return Ym(bl(n),s)}new Promise(()=>{});function bl(a,n){n===void 0&&(n=[]);let s=[];return q.Children.forEach(a,(i,l)=>{if(!q.isValidElement(i))return;let c=[...n,l];if(i.type===q.Fragment){s.push.apply(s,bl(i.props.children,c));return}i.type!==Ds&&at(!1),!i.props.index||!i.props.children||at(!1);let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=bl(i.props.children,c)),s.push(f)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])}return a},kl.apply(this,arguments)}function p0(a,n){if(a==null)return{};var s={},i=Object.keys(a),l,c;for(c=0;c<i.length;c++)l=i[c],!(n.indexOf(l)>=0)&&(s[l]=a[l]);return s}function m0(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function g0(a,n){return a.button===0&&(!n||n==="_self")&&!m0(a)}const v0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y0="6";try{window.__reactRouterVersion=y0}catch{}const w0="startTransition",Vd=vm[w0];function x0(a){let{basename:n,children:s,future:i,window:l}=a,c=q.useRef();c.current==null&&(c.current=km({window:l,v5Compat:!0}));let f=c.current,[p,v]=q.useState({action:f.action,location:f.location}),{v7_startTransition:x}=i||{},k=q.useCallback(j=>{x&&Vd?Vd(()=>v(j)):v(j)},[v,x]);return q.useLayoutEffect(()=>f.listen(k),[f,k]),q.useEffect(()=>d0(i),[i]),q.createElement(h0,{basename:n,children:s,location:p.location,navigationType:p.action,navigator:f,future:i})}const _0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,k0=q.forwardRef(function(n,s){let{onClick:i,relative:l,reloadDocument:c,replace:f,state:p,target:v,to:x,preventScrollReset:k,viewTransition:j}=n,R=p0(n,v0),{basename:I}=q.useContext(un),W,U=!1;if(typeof x=="string"&&b0.test(x)&&(W=x,_0))try{let H=new URL(window.location.href),oe=x.startsWith("//")?new URL(H.protocol+x):new URL(x),ge=zl(oe.pathname,I);oe.origin===H.origin&&ge!=null?x=ge+oe.search+oe.hash:U=!0}catch{}let M=Gm(x,{relative:l}),te=j0(x,{replace:f,state:p,target:v,preventScrollReset:k,relative:l,viewTransition:j});function le(H){i&&i(H),H.defaultPrevented||te(H)}return q.createElement("a",kl({},R,{href:W||M,onClick:U||c?i:le,ref:s,target:v}))});var Kd;(function(a){a.UseScrollRestoration="useScrollRestoration",a.UseSubmit="useSubmit",a.UseSubmitFetcher="useSubmitFetcher",a.UseFetcher="useFetcher",a.useViewTransitionState="useViewTransitionState"})(Kd||(Kd={}));var Qd;(function(a){a.UseFetcher="useFetcher",a.UseFetchers="useFetchers",a.UseScrollRestoration="useScrollRestoration"})(Qd||(Qd={}));function j0(a,n){let{target:s,replace:i,state:l,preventScrollReset:c,relative:f,viewTransition:p}=n===void 0?{}:n,v=Js(),x=Zn(),k=Uh(a,{relative:f});return q.useCallback(j=>{if(g0(j,s)){j.preventDefault();let R=i!==void 0?i:mi(x)===mi(k);v(a,{replace:R,state:l,preventScrollReset:c,relative:f,viewTransition:p})}},[x,v,k,i,l,s,a,c,f,p])}var S0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const C0=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),N0=(a,n)=>{const s=q.forwardRef(({color:i="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:f,children:p,...v},x)=>q.createElement("svg",{ref:x,...S0,width:l,height:l,stroke:i,strokeWidth:f?Number(c)*24/Number(l):c,className:`lucide lucide-${C0(a)}`,...v},[...n.map(([k,j])=>q.createElement(k,j)),...(Array.isArray(p)?p:[p])||[]]));return s.displayName=`${a}`,s};var ze=N0;const E0=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),R0=ze("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),P0=ze("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),O0=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),$r=ze("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Fl=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),T0=ze("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),jl=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),zr=ze("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),A0=ze("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v0",key:"aigmz7"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v2",key:"1n6bmn"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2v0a2 2 0 0 0-2 2v8",key:"a9iiix"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),Sl=ze("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Cl=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Jd=ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),qh=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),L0=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),gi=ze("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),M0=ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),Hh=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),$0=ze("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),Gd=ze("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),I0=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),D0=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),zs=ze("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),U0=ze("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),Nl=ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Zd=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Yd=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),vi=ze("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Vn=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Kn=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),z0=ze("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Vs=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Qn=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),B0="modulepreload",F0=function(a){return"/"+a},Xd={},Gs=function(n,s,i){let l=Promise.resolve();if(s&&s.length>0){let f=function(x){return Promise.all(x.map(k=>Promise.resolve(k).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),v=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=f(s.map(x=>{if(x=F0(x),x in Xd)return;Xd[x]=!0;const k=x.endsWith(".css"),j=k?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${j}`))return;const R=document.createElement("link");if(R.rel=k?"stylesheet":B0,k||(R.as="script"),R.crossOrigin="",R.href=x,v&&R.setAttribute("nonce",v),document.head.appendChild(R),k)return new Promise((I,W)=>{R.addEventListener("load",I),R.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(f){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=f,window.dispatchEvent(p),!p.defaultPrevented)throw f}return l.then(f=>{for(const p of f||[])p.status==="rejected"&&c(p.reason);return n().catch(c)})},q0=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Yn);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)};class ql extends Error{constructor(n,s="FunctionsError",i){super(n),this.name=s,this.context=i}}class H0 extends ql{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class W0 extends ql{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class V0 extends ql{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var El;(function(a){a.Any="any",a.ApNortheast1="ap-northeast-1",a.ApNortheast2="ap-northeast-2",a.ApSouth1="ap-south-1",a.ApSoutheast1="ap-southeast-1",a.ApSoutheast2="ap-southeast-2",a.CaCentral1="ca-central-1",a.EuCentral1="eu-central-1",a.EuWest1="eu-west-1",a.EuWest2="eu-west-2",a.EuWest3="eu-west-3",a.SaEast1="sa-east-1",a.UsEast1="us-east-1",a.UsWest1="us-west-1",a.UsWest2="us-west-2"})(El||(El={}));var K0=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};class Q0{constructor(n,{headers:s={},customFetch:i,region:l=El.Any}={}){this.url=n,this.headers=s,this.region=l,this.fetch=q0(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,s={}){var i;return K0(this,void 0,void 0,function*(){try{const{headers:l,method:c,body:f}=s;let p={},{region:v}=s;v||(v=this.region),v&&v!=="any"&&(p["x-region"]=v);let x;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=f):typeof f=="string"?(p["Content-Type"]="text/plain",x=f):typeof FormData<"u"&&f instanceof FormData?x=f:(p["Content-Type"]="application/json",x=JSON.stringify(f)));const k=yield this.fetch(`${this.url}/${n}`,{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:x}).catch(W=>{throw new H0(W)}),j=k.headers.get("x-relay-error");if(j&&j==="true")throw new W0(k);if(!k.ok)throw new V0(k);let R=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),I;return R==="application/json"?I=yield k.json():R==="application/octet-stream"?I=yield k.blob():R==="text/event-stream"?I=k:R==="multipart/form-data"?I=yield k.formData():I=yield k.text(),{data:I,error:null}}catch(l){return{data:null,error:l}}})}}var pt={},Mn={},$n={},In={},Dn={},Un={},J0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Jn=J0();const G0=Jn.fetch,Wh=Jn.fetch.bind(Jn),Vh=Jn.Headers,Z0=Jn.Request,Y0=Jn.Response,Yn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vh,Request:Z0,Response:Y0,default:Wh,fetch:G0},Symbol.toStringTag,{value:"Module"})),X0=fm(Yn);var ai={},eh;function Kh(){if(eh)return ai;eh=1,Object.defineProperty(ai,"__esModule",{value:!0});class a extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ai.default=a,ai}var th;function Qh(){if(th)return Un;th=1;var a=Un&&Un.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Un,"__esModule",{value:!0});const n=a(X0),s=a(Kh());class i{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=n.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=Object.assign({},this.headers),this.headers[c]=f,this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let v=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async x=>{var k,j,R;let I=null,W=null,U=null,M=x.status,te=x.statusText;if(x.ok){if(this.method!=="HEAD"){const ge=await x.text();ge===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?W=ge:W=JSON.parse(ge))}const H=(k=this.headers.Prefer)===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),oe=(j=x.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");H&&oe&&oe.length>1&&(U=parseInt(oe[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(W)&&(W.length>1?(I={code:"PGRST116",details:`Results contain ${W.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},W=null,U=null,M=406,te="Not Acceptable"):W.length===1?W=W[0]:W=null)}else{const H=await x.text();try{I=JSON.parse(H),Array.isArray(I)&&x.status===404&&(W=[],I=null,M=200,te="OK")}catch{x.status===404&&H===""?(M=204,te="No Content"):I={message:H}}if(I&&this.isMaybeSingle&&(!((R=I==null?void 0:I.details)===null||R===void 0)&&R.includes("0 rows"))&&(I=null,M=200,te="OK"),I&&this.shouldThrowOnError)throw new s.default(I)}return{error:I,data:W,count:U,status:M,statusText:te}});return this.shouldThrowOnError||(v=v.catch(x=>{var k,j,R;return{error:{message:`${(k=x==null?void 0:x.name)!==null&&k!==void 0?k:"FetchError"}: ${x==null?void 0:x.message}`,details:`${(j=x==null?void 0:x.stack)!==null&&j!==void 0?j:""}`,hint:"",code:`${(R=x==null?void 0:x.code)!==null&&R!==void 0?R:""}`},data:null,count:null,status:0,statusText:""}})),v.then(c,f)}returns(){return this}overrideTypes(){return this}}return Un.default=i,Un}var rh;function Jh(){if(rh)return Dn;rh=1;var a=Dn&&Dn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Dn,"__esModule",{value:!0});const n=a(Qh());class s extends n.default{select(l){let c=!1;const f=(l??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join("");return this.url.searchParams.set("select",f),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:c=!0,nullsFirst:f,foreignTable:p,referencedTable:v=p}={}){const x=v?`${v}.order`:"order",k=this.url.searchParams.get(x);return this.url.searchParams.set(x,`${k?`${k},`:""}${l}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:c,referencedTable:f=c}={}){const p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,c,{foreignTable:f,referencedTable:p=f}={}){const v=typeof p>"u"?"offset":`${p}.offset`,x=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(v,`${l}`),this.url.searchParams.set(x,`${c-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:c=!1,settings:f=!1,buffers:p=!1,wal:v=!1,format:x="text"}={}){var k;const j=[l?"analyze":null,c?"verbose":null,f?"settings":null,p?"buffers":null,v?"wal":null].filter(Boolean).join("|"),R=(k=this.headers.Accept)!==null&&k!==void 0?k:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${x}; for="${R}"; options=${j};`,x==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Dn.default=s,Dn}var nh;function Hl(){if(nh)return In;nh=1;var a=In&&In.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(In,"__esModule",{value:!0});const n=a(Jh());class s extends n.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const f=Array.from(new Set(c)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${f})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:f,type:p}={}){let v="";p==="plain"?v="pl":p==="phrase"?v="ph":p==="websearch"&&(v="w");const x=f===void 0?"":`(${f})`;return this.url.searchParams.append(l,`${v}fts${x}.${c}`),this}match(l){return Object.entries(l).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(l,c,f){return this.url.searchParams.append(l,`not.${c}.${f}`),this}or(l,{foreignTable:c,referencedTable:f=c}={}){const p=f?`${f}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,c,f){return this.url.searchParams.append(l,`${c}.${f}`),this}}return In.default=s,In}var sh;function Gh(){if(sh)return $n;sh=1;var a=$n&&$n.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty($n,"__esModule",{value:!0});const n=a(Hl());class s{constructor(l,{headers:c={},schema:f,fetch:p}){this.url=l,this.headers=c,this.schema=f,this.fetch=p}select(l,{head:c=!1,count:f}={}){const p=c?"HEAD":"GET";let v=!1;const x=(l??"*").split("").map(k=>/\s/.test(k)&&!v?"":(k==='"'&&(v=!v),k)).join("");return this.url.searchParams.set("select",x),f&&(this.headers.Prefer=`count=${f}`),new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:c,defaultToNull:f=!0}={}){const p="POST",v=[];if(this.headers.Prefer&&v.push(this.headers.Prefer),c&&v.push(`count=${c}`),f||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(l)){const x=l.reduce((k,j)=>k.concat(Object.keys(j)),[]);if(x.length>0){const k=[...new Set(x)].map(j=>`"${j}"`);this.url.searchParams.set("columns",k.join(","))}}return new n.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:c,ignoreDuplicates:f=!1,count:p,defaultToNull:v=!0}={}){const x="POST",k=[`resolution=${f?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&k.push(this.headers.Prefer),p&&k.push(`count=${p}`),v||k.push("missing=default"),this.headers.Prefer=k.join(","),Array.isArray(l)){const j=l.reduce((R,I)=>R.concat(Object.keys(I)),[]);if(j.length>0){const R=[...new Set(j)].map(I=>`"${I}"`);this.url.searchParams.set("columns",R.join(","))}}return new n.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:c}={}){const f="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),this.headers.Prefer=p.join(","),new n.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const c="DELETE",f=[];return l&&f.push(`count=${l}`),this.headers.Prefer&&f.unshift(this.headers.Prefer),this.headers.Prefer=f.join(","),new n.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return $n.default=s,$n}var $s={},Is={},oh;function eg(){return oh||(oh=1,Object.defineProperty(Is,"__esModule",{value:!0}),Is.version=void 0,Is.version="0.0.0-automated"),Is}var ih;function tg(){if(ih)return $s;ih=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.DEFAULT_HEADERS=void 0;const a=eg();return $s.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${a.version}`},$s}var ah;function rg(){if(ah)return Mn;ah=1;var a=Mn&&Mn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Mn,"__esModule",{value:!0});const n=a(Gh()),s=a(Hl()),i=tg();class l{constructor(f,{headers:p={},schema:v,fetch:x}={}){this.url=f,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),p),this.schemaName=v,this.fetch=x}from(f){const p=new URL(`${this.url}/${f}`);return new n.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(f){return new l(this.url,{headers:this.headers,schema:f,fetch:this.fetch})}rpc(f,p={},{head:v=!1,get:x=!1,count:k}={}){let j;const R=new URL(`${this.url}/rpc/${f}`);let I;v||x?(j=v?"HEAD":"GET",Object.entries(p).filter(([U,M])=>M!==void 0).map(([U,M])=>[U,Array.isArray(M)?`{${M.join(",")}}`:`${M}`]).forEach(([U,M])=>{R.searchParams.append(U,M)})):(j="POST",I=p);const W=Object.assign({},this.headers);return k&&(W.Prefer=`count=${k}`),new s.default({method:j,url:R,headers:W,schema:this.schemaName,body:I,fetch:this.fetch,allowEmpty:!1})}}return Mn.default=l,Mn}var lh;function ng(){if(lh)return pt;lh=1;var a=pt&&pt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(pt,"__esModule",{value:!0}),pt.PostgrestError=pt.PostgrestBuilder=pt.PostgrestTransformBuilder=pt.PostgrestFilterBuilder=pt.PostgrestQueryBuilder=pt.PostgrestClient=void 0;const n=a(rg());pt.PostgrestClient=n.default;const s=a(Gh());pt.PostgrestQueryBuilder=s.default;const i=a(Hl());pt.PostgrestFilterBuilder=i.default;const l=a(Jh());pt.PostgrestTransformBuilder=l.default;const c=a(Qh());pt.PostgrestBuilder=c.default;const f=a(Kh());return pt.PostgrestError=f.default,pt.default={PostgrestClient:n.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:c.default,PostgrestError:f.default},pt}var sg=ng();const og=Dl(sg),{PostgrestClient:ig,PostgrestQueryBuilder:Ry,PostgrestFilterBuilder:Py,PostgrestTransformBuilder:Oy,PostgrestBuilder:Ty,PostgrestError:Ay}=og;let Rl;typeof window>"u"?Rl=require("ws"):Rl=window.WebSocket;const ag="2.11.10",lg={"X-Client-Info":`realtime-js/${ag}`},ug="1.0.0",Zh=1e4,cg=1e3;var Wn;(function(a){a[a.connecting=0]="connecting",a[a.open=1]="open",a[a.closing=2]="closing",a[a.closed=3]="closed"})(Wn||(Wn={}));var Nt;(function(a){a.closed="closed",a.errored="errored",a.joined="joined",a.joining="joining",a.leaving="leaving"})(Nt||(Nt={}));var Xt;(function(a){a.close="phx_close",a.error="phx_error",a.join="phx_join",a.reply="phx_reply",a.leave="phx_leave",a.access_token="access_token"})(Xt||(Xt={}));var Pl;(function(a){a.websocket="websocket"})(Pl||(Pl={}));var ln;(function(a){a.Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed"})(ln||(ln={}));class dg{constructor(){this.HEADER_LENGTH=1}decode(n,s){return n.constructor===ArrayBuffer?s(this._binaryDecode(n)):s(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){const s=new DataView(n),i=new TextDecoder;return this._decodeBroadcast(n,s,i)}_decodeBroadcast(n,s,i){const l=s.getUint8(1),c=s.getUint8(2);let f=this.HEADER_LENGTH+2;const p=i.decode(n.slice(f,f+l));f=f+l;const v=i.decode(n.slice(f,f+c));f=f+c;const x=JSON.parse(i.decode(n.slice(f,n.byteLength)));return{ref:null,topic:p,event:v,payload:x}}}class Yh{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ke;(function(a){a.abstime="abstime",a.bool="bool",a.date="date",a.daterange="daterange",a.float4="float4",a.float8="float8",a.int2="int2",a.int4="int4",a.int4range="int4range",a.int8="int8",a.int8range="int8range",a.json="json",a.jsonb="jsonb",a.money="money",a.numeric="numeric",a.oid="oid",a.reltime="reltime",a.text="text",a.time="time",a.timestamp="timestamp",a.timestamptz="timestamptz",a.timetz="timetz",a.tsrange="tsrange",a.tstzrange="tstzrange"})(Ke||(Ke={}));const uh=(a,n,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(n).reduce((c,f)=>(c[f]=hg(f,a,n,l),c),{})},hg=(a,n,s,i)=>{const l=n.find(p=>p.name===a),c=l==null?void 0:l.type,f=s[a];return c&&!i.includes(c)?Xh(c,f):Ol(f)},Xh=(a,n)=>{if(a.charAt(0)==="_"){const s=a.slice(1,a.length);return gg(n,s)}switch(a){case Ke.bool:return fg(n);case Ke.float4:case Ke.float8:case Ke.int2:case Ke.int4:case Ke.int8:case Ke.numeric:case Ke.oid:return pg(n);case Ke.json:case Ke.jsonb:return mg(n);case Ke.timestamp:return vg(n);case Ke.abstime:case Ke.date:case Ke.daterange:case Ke.int4range:case Ke.int8range:case Ke.money:case Ke.reltime:case Ke.text:case Ke.time:case Ke.timestamptz:case Ke.timetz:case Ke.tsrange:case Ke.tstzrange:return Ol(n);default:return Ol(n)}},Ol=a=>a,fg=a=>{switch(a){case"t":return!0;case"f":return!1;default:return a}},pg=a=>{if(typeof a=="string"){const n=parseFloat(a);if(!Number.isNaN(n))return n}return a},mg=a=>{if(typeof a=="string")try{return JSON.parse(a)}catch(n){return console.log(`JSON parse error: ${n}`),a}return a},gg=(a,n)=>{if(typeof a!="string")return a;const s=a.length-1,i=a[s];if(a[0]==="{"&&i==="}"){let c;const f=a.slice(1,s);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(p=>Xh(n,p))}return a},vg=a=>typeof a=="string"?a.replace(" ","T"):a,ef=a=>{let n=a;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class ml{constructor(n,s,i={},l=Zh){this.channel=n,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var i;return this._hasReceived(n)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ch;(function(a){a.SYNC="sync",a.JOIN="join",a.LEAVE="leave"})(ch||(ch={}));class Bs{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bs.syncState(this.state,l,c,f),this.pendingDiffs.forEach(v=>{this.state=Bs.syncDiff(this.state,v,c,f)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:f,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Bs.syncDiff(this.state,l,c,f),p())}),this.onJoin((l,c,f)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:f})}),this.onLeave((l,c,f)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,i,l){const c=this.cloneDeep(n),f=this.transformState(s),p={},v={};return this.map(c,(x,k)=>{f[x]||(v[x]=k)}),this.map(f,(x,k)=>{const j=c[x];if(j){const R=k.map(M=>M.presence_ref),I=j.map(M=>M.presence_ref),W=k.filter(M=>I.indexOf(M.presence_ref)<0),U=j.filter(M=>R.indexOf(M.presence_ref)<0);W.length>0&&(p[x]=W),U.length>0&&(v[x]=U)}else p[x]=k}),this.syncDiff(c,{joins:p,leaves:v},i,l)}static syncDiff(n,s,i,l){const{joins:c,leaves:f}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(p,v)=>{var x;const k=(x=n[p])!==null&&x!==void 0?x:[];if(n[p]=this.cloneDeep(v),k.length>0){const j=n[p].map(I=>I.presence_ref),R=k.filter(I=>j.indexOf(I.presence_ref)<0);n[p].unshift(...R)}i(p,k,v)}),this.map(f,(p,v)=>{let x=n[p];if(!x)return;const k=v.map(j=>j.presence_ref);x=x.filter(j=>k.indexOf(j.presence_ref)<0),n[p]=x,l(p,x,v),x.length===0&&delete n[p]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(i=>s(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,i)=>{const l=n[i];return"metas"in l?s[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=l,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dh;(function(a){a.ALL="*",a.INSERT="INSERT",a.UPDATE="UPDATE",a.DELETE="DELETE"})(dh||(dh={}));var hh;(function(a){a.BROADCAST="broadcast",a.PRESENCE="presence",a.POSTGRES_CHANGES="postgres_changes",a.SYSTEM="system"})(hh||(hh={}));var mr;(function(a){a.SUBSCRIBED="SUBSCRIBED",a.TIMED_OUT="TIMED_OUT",a.CLOSED="CLOSED",a.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class Wl{constructor(n,s={config:{}},i){this.topic=n,this.params=s,this.socket=i,this.bindings={},this.state=Nt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ml(this,Xt.join,this.params,this.timeout),this.rejoinTimer=new Yh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Nt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Nt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Nt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xt.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Bs(this),this.broadcastEndpointURL=ef(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,s=this.timeout){var i,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:c,presence:f,private:p}}=this.params;this._onError(k=>n==null?void 0:n(mr.CHANNEL_ERROR,k)),this._onClose(()=>n==null?void 0:n(mr.CLOSED));const v={},x={broadcast:c,presence:f,postgres_changes:(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(k=>k.filter))!==null&&l!==void 0?l:[],private:p};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:x},v)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:k})=>{var j;if(this.socket.setAuth(),k===void 0){n==null||n(mr.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,I=(j=R==null?void 0:R.length)!==null&&j!==void 0?j:0,W=[];for(let U=0;U<I;U++){const M=R[U],{filter:{event:te,schema:le,table:H,filter:oe}}=M,ge=k&&k[U];if(ge&&ge.event===te&&ge.schema===le&&ge.table===H&&ge.filter===oe)W.push(Object.assign(Object.assign({},M),{id:ge.id}));else{this.unsubscribe(),this.state=Nt.errored,n==null||n(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=W,n&&n(mr.SUBSCRIBED);return}}).receive("error",k=>{this.state=Nt.errored,n==null||n(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,i){return this._on(n,s,i)}async send(n,s={}){var i,l;if(!this._canPush()&&n.type==="broadcast"){const{event:c,payload:f}=n,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=x.body)===null||l===void 0?void 0:l.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,p,v;const x=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((v=(p=(f=this.params)===null||f===void 0?void 0:f.config)===null||p===void 0?void 0:p.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),x.receive("ok",()=>c("ok")),x.receive("error",()=>c("error")),x.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Nt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xt.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(i=>{const l=new ml(this,Xt.leave,{},n);l.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(n,s,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),f=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),f}_push(n,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new ml(this,n,s,i);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(n,s,i){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,i){var l,c;const f=n.toLocaleLowerCase(),{close:p,error:v,leave:x,join:k}=Xt;if(i&&[p,v,x,k].indexOf(f)>=0&&i!==this._joinRef())return;let R=this._onMessage(f,s,i);if(s&&!R)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(I=>{var W,U,M;return((W=I.filter)===null||W===void 0?void 0:W.event)==="*"||((M=(U=I.filter)===null||U===void 0?void 0:U.event)===null||M===void 0?void 0:M.toLocaleLowerCase())===f}).map(I=>I.callback(R,i)):(c=this.bindings[f])===null||c===void 0||c.filter(I=>{var W,U,M,te,le,H;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in I){const oe=I.id,ge=(W=I.filter)===null||W===void 0?void 0:W.event;return oe&&((U=s.ids)===null||U===void 0?void 0:U.includes(oe))&&(ge==="*"||(ge==null?void 0:ge.toLocaleLowerCase())===((M=s.data)===null||M===void 0?void 0:M.type.toLocaleLowerCase()))}else{const oe=(le=(te=I==null?void 0:I.filter)===null||te===void 0?void 0:te.event)===null||le===void 0?void 0:le.toLocaleLowerCase();return oe==="*"||oe===((H=s==null?void 0:s.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===f}).map(I=>{if(typeof R=="object"&&"ids"in R){const W=R.data,{schema:U,table:M,commit_timestamp:te,type:le,errors:H}=W;R=Object.assign(Object.assign({},{schema:U,table:M,commit_timestamp:te,eventType:le,new:{},old:{},errors:H}),this._getPayloadRecords(W))}I.callback(R,i)})}_isClosed(){return this.state===Nt.closed}_isJoined(){return this.state===Nt.joined}_isJoining(){return this.state===Nt.joining}_isLeaving(){return this.state===Nt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,i){const l=n.toLocaleLowerCase(),c={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(n,s){const i=n.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Wl.isEqual(l.filter,s))}),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const i in n)if(n[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Xt.close,{},n)}_onError(n){this._on(Xt.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Nt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=uh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=uh(n.columns,n.old_record)),s}}const fh=()=>{},yg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wg{constructor(n,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=lg,this.params={},this.timeout=Zh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fh,this.ref=0,this.logger=fh,this.conn=null,this.sendBuffer=[],this.serializer=new dg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let f;return c?f=c:typeof fetch>"u"?f=(...p)=>Gs(async()=>{const{default:v}=await Promise.resolve().then(()=>Yn);return{default:v}},void 0).then(({default:v})=>v(...p)):f=fetch,(...p)=>f(...p)},this.endPoint=`${n}/${Pl.websocket}`,this.httpEndpoint=ef(n),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const l=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,f)=>f(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Yh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Rl),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new xg(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ug}))}disconnect(n,s){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels=this.channels.filter(i=>i._joinRef!==n._joinRef),this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,i){this.logger(n,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return ln.Connecting;case Wn.open:return ln.Open;case Wn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(n,s={config:{}}){const i=`realtime:${n}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new Wl(`realtime:${n}`,s,this);return this.channels.push(c),c}}push(n){const{topic:s,event:i,payload:l,ref:c}=n,f=()=>{this.encode(n,p=>{var v;(v=this.conn)===null||v===void 0||v.send(p)})};this.log("push",`${s} ${i} (${c})`,l),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){let s=n||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s,version:this.headers&&this.headers["X-Client-Info"]}),i.joinedOnce&&i._isJoined()&&i._push(Xt.access_token,{access_token:s})}))}async sendHeartbeat(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(cg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,s=>{let{topic:i,event:l,payload:c,ref:f}=s;i==="phoenix"&&l==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${i} ${l} ${f&&"("+f+")"||""}`,c),Array.from(this.channels).filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,f)),this.stateChangeCallbacks.message.forEach(p=>p(s))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Xt.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const i=n.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${n}${i}${l}`}_workerObjectUrl(n){let s;if(n)s=n;else{const i=new Blob([yg],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class xg{constructor(n,s,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Wn.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=i.close}}class Vl extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function mt(a){return typeof a=="object"&&a!==null&&"__isStorageError"in a}class _g extends Vl{constructor(n,s){super(n),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tl extends Vl{constructor(n,s){super(n),this.name="StorageUnknownError",this.originalError=s}}var bg=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};const tf=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Yn);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},kg=()=>bg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gs(()=>Promise.resolve().then(()=>Yn),void 0)).Response:Response}),Al=a=>{if(Array.isArray(a))return a.map(s=>Al(s));if(typeof a=="function"||a!==Object(a))return a;const n={};return Object.entries(a).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[l]=Al(i)}),n};var cn=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};const gl=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),jg=(a,n,s)=>cn(void 0,void 0,void 0,function*(){const i=yield kg();a instanceof i&&!(s!=null&&s.noResolveJson)?a.json().then(l=>{n(new _g(gl(l),a.status||500))}).catch(l=>{n(new Tl(gl(l),l))}):n(new Tl(gl(a),a))}),Sg=(a,n,s,i)=>{const l={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},n==null?void 0:n.headers),i&&(l.body=JSON.stringify(i)),Object.assign(Object.assign({},l),s))};function Zs(a,n,s,i,l,c){return cn(this,void 0,void 0,function*(){return new Promise((f,p)=>{a(s,Sg(n,i,l,c)).then(v=>{if(!v.ok)throw v;return i!=null&&i.noResolveJson?v:v.json()}).then(v=>f(v)).catch(v=>jg(v,p,i))})})}function yi(a,n,s,i){return cn(this,void 0,void 0,function*(){return Zs(a,"GET",n,s,i)})}function Ir(a,n,s,i,l){return cn(this,void 0,void 0,function*(){return Zs(a,"POST",n,i,l,s)})}function Cg(a,n,s,i,l){return cn(this,void 0,void 0,function*(){return Zs(a,"PUT",n,i,l,s)})}function Ng(a,n,s,i){return cn(this,void 0,void 0,function*(){return Zs(a,"HEAD",n,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function rf(a,n,s,i,l){return cn(this,void 0,void 0,function*(){return Zs(a,"DELETE",n,i,l,s)})}var Lt=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};const Eg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ph={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rg{constructor(n,s={},i,l){this.url=n,this.headers=s,this.bucketId=i,this.fetch=tf(l)}uploadOrUpdate(n,s,i,l){return Lt(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},ph),l);let p=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const v=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",f.cacheControl),v&&c.append("metadata",this.encodeMetadata(v))):(c=i,p["cache-control"]=`max-age=${f.cacheControl}`,p["content-type"]=f.contentType,v&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const x=this._removeEmptyFolders(s),k=this._getFinalPath(x),j=yield this.fetch(`${this.url}/object/${k}`,Object.assign({method:n,body:c,headers:p},f!=null&&f.duplex?{duplex:f.duplex}:{})),R=yield j.json();return j.ok?{data:{path:x,id:R.Id,fullPath:R.Key},error:null}:{data:null,error:R}}catch(c){if(mt(c))return{data:null,error:c};throw c}})}upload(n,s,i){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,s,i)})}uploadToSignedUrl(n,s,i,l){return Lt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(n),f=this._getFinalPath(c),p=new URL(this.url+`/object/upload/sign/${f}`);p.searchParams.set("token",s);try{let v;const x=Object.assign({upsert:ph.upsert},l),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&i instanceof Blob?(v=new FormData,v.append("cacheControl",x.cacheControl),v.append("",i)):typeof FormData<"u"&&i instanceof FormData?(v=i,v.append("cacheControl",x.cacheControl)):(v=i,k["cache-control"]=`max-age=${x.cacheControl}`,k["content-type"]=x.contentType);const j=yield this.fetch(p.toString(),{method:"PUT",body:v,headers:k}),R=yield j.json();return j.ok?{data:{path:c,fullPath:R.Key},error:null}:{data:null,error:R}}catch(v){if(mt(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(n,s){return Lt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const c=yield Ir(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),f=new URL(this.url+c.url),p=f.searchParams.get("token");if(!p)throw new Vl("No token returned by API");return{data:{signedUrl:f.toString(),path:n,token:p},error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}update(n,s,i){return Lt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,s,i)})}move(n,s,i){return Lt(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}copy(n,s,i){return Lt(this,void 0,void 0,function*(){try{return{data:{path:(yield Ir(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}createSignedUrl(n,s,i){return Lt(this,void 0,void 0,function*(){try{let l=this._getFinalPath(n),c=yield Ir(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}createSignedUrls(n,s,i){return Lt(this,void 0,void 0,function*(){try{const l=yield Ir(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:n},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}download(n,s){return Lt(this,void 0,void 0,function*(){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),f=c?`?${c}`:"";try{const p=this._getFinalPath(n);return{data:yield(yield yi(this.fetch,`${this.url}/${l}/${p}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(mt(p))return{data:null,error:p};throw p}})}info(n){return Lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{const i=yield yi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Al(i),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}exists(n){return Lt(this,void 0,void 0,function*(){const s=this._getFinalPath(n);try{return yield Ng(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(mt(i)&&i instanceof Tl){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,s){const i=this._getFinalPath(n),l=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&l.push(c);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});v!==""&&l.push(v);let x=l.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${x}`)}}}remove(n){return Lt(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}list(n,s,i){return Lt(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Eg),s),{prefix:n||""});return{data:yield Ir(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(mt(l))return{data:null,error:l};throw l}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}}const Pg="2.7.1",Og={"X-Client-Info":`storage-js/${Pg}`};var zn=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};class Tg{constructor(n,s={},i){this.url=n,this.headers=Object.assign(Object.assign({},Og),s),this.fetch=tf(i)}listBuckets(){return zn(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}})}getBucket(n){return zn(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}createBucket(n,s={public:!1}){return zn(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}updateBucket(n,s){return zn(this,void 0,void 0,function*(){try{return{data:yield Cg(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(mt(i))return{data:null,error:i};throw i}})}emptyBucket(n){return zn(this,void 0,void 0,function*(){try{return{data:yield Ir(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}deleteBucket(n){return zn(this,void 0,void 0,function*(){try{return{data:yield rf(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(s){if(mt(s))return{data:null,error:s};throw s}})}}class Ag extends Tg{constructor(n,s={},i){super(n,s,i)}from(n){return new Rg(this.url,this.headers,n,this.fetch)}}const Lg="2.50.0";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const Mg={"X-Client-Info":`supabase-js-${Us}/${Lg}`},$g={headers:Mg},Ig={schema:"public"},Dg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ug={};var zg=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};const Bg=a=>{let n;return a?n=a:typeof fetch>"u"?n=Wh:n=fetch,(...s)=>n(...s)},Fg=()=>typeof Headers>"u"?Vh:Headers,qg=(a,n,s)=>{const i=Bg(s),l=Fg();return(c,f)=>zg(void 0,void 0,void 0,function*(){var p;const v=(p=yield n())!==null&&p!==void 0?p:a;let x=new l(f==null?void 0:f.headers);return x.has("apikey")||x.set("apikey",a),x.has("Authorization")||x.set("Authorization",`Bearer ${v}`),i(c,Object.assign(Object.assign({},f),{headers:x}))})};var Hg=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};function Wg(a){return a.endsWith("/")?a:a+"/"}function Vg(a,n){var s,i;const{db:l,auth:c,realtime:f,global:p}=a,{db:v,auth:x,realtime:k,global:j}=n,R={db:Object.assign(Object.assign({},v),l),auth:Object.assign(Object.assign({},x),c),realtime:Object.assign(Object.assign({},k),f),global:Object.assign(Object.assign(Object.assign({},j),p),{headers:Object.assign(Object.assign({},(s=j==null?void 0:j.headers)!==null&&s!==void 0?s:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Hg(this,void 0,void 0,function*(){return""})};return a.accessToken?R.accessToken=a.accessToken:delete R.accessToken,R}const nf="2.70.0",Hn=30*1e3,Ll=3,vl=Ll*Hn,Kg="http://localhost:9999",Qg="supabase.auth.token",Jg={"X-Client-Info":`gotrue-js/${nf}`},Ml="X-Supabase-Api-Version",sf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Zg=6e5;class Kl extends Error{constructor(n,s,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Oe(a){return typeof a=="object"&&a!==null&&"__isAuthError"in a}class Yg extends Kl{constructor(n,s,i){super(n,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Xg(a){return Oe(a)&&a.name==="AuthApiError"}class of extends Kl{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class qr extends Kl{constructor(n,s,i,l){super(n,i,l),this.name=s,this.status=i}}class Mr extends qr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ev(a){return Oe(a)&&a.name==="AuthSessionMissingError"}class li extends qr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ui extends qr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ci extends qr{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tv(a){return Oe(a)&&a.name==="AuthImplicitGrantRedirectError"}class mh extends qr{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $l extends qr{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function yl(a){return Oe(a)&&a.name==="AuthRetryableFetchError"}class gh extends qr{constructor(n,s,i){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Fs extends qr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),rv=(()=>{const a=new Array(128);for(let n=0;n<a.length;n+=1)a[n]=-1;for(let n=0;n<vh.length;n+=1)a[vh[n].charCodeAt(0)]=-2;for(let n=0;n<wi.length;n+=1)a[wi[n].charCodeAt(0)]=n;return a})();function yh(a,n,s){if(a!==null)for(n.queue=n.queue<<8|a,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(wi[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;s(wi[i]),n.queuedBits-=6}}function af(a,n,s){const i=rv[a];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(a)}"`)}}function wh(a){const n=[],s=f=>{n.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=f=>{ov(f,i,s)};for(let f=0;f<a.length;f+=1)af(a.charCodeAt(f),l,c);return n.join("")}function nv(a,n){if(a<=127){n(a);return}else if(a<=2047){n(192|a>>6),n(128|a&63);return}else if(a<=65535){n(224|a>>12),n(128|a>>6&63),n(128|a&63);return}else if(a<=1114111){n(240|a>>18),n(128|a>>12&63),n(128|a>>6&63),n(128|a&63);return}throw new Error(`Unrecognized Unicode codepoint: ${a.toString(16)}`)}function sv(a,n){for(let s=0;s<a.length;s+=1){let i=a.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(a.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}nv(i,n)}}function ov(a,n,s){if(n.utf8seq===0){if(a<=127){s(a);return}for(let i=1;i<6;i+=1)if((a>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=a&31;else if(n.utf8seq===3)n.codepoint=a&15;else if(n.utf8seq===4)n.codepoint=a&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(a<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|a&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function iv(a){const n=[],s={queue:0,queuedBits:0},i=l=>{n.push(l)};for(let l=0;l<a.length;l+=1)af(a.charCodeAt(l),s,i);return new Uint8Array(n)}function av(a){const n=[];return sv(a,s=>n.push(s)),new Uint8Array(n)}function lv(a){const n=[],s={queue:0,queuedBits:0},i=l=>{n.push(l)};return a.forEach(l=>yh(l,s,i)),yh(null,s,i),n.join("")}function uv(a){return Math.round(Date.now()/1e3)+a}function cv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){const n=Math.random()*16|0;return(a=="x"?n:n&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",sn={tested:!1,writable:!1},qs=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sn.tested)return sn.writable;const a=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(a,a),globalThis.localStorage.removeItem(a),sn.tested=!0,sn.writable=!0}catch{sn.tested=!0,sn.writable=!1}return sn.writable};function dv(a){const n={},s=new URL(a);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{n[c]=l})}catch{}return s.searchParams.forEach((i,l)=>{n[l]=i}),n}const lf=a=>{let n;return a?n=a:typeof fetch>"u"?n=(...s)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Yn);return{default:i}},void 0).then(({default:i})=>i(...s)):n=fetch,(...s)=>n(...s)},hv=a=>typeof a=="object"&&a!==null&&"status"in a&&"ok"in a&&"json"in a&&typeof a.json=="function",uf=async(a,n,s)=>{await a.setItem(n,JSON.stringify(s))},di=async(a,n)=>{const s=await a.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},hi=async(a,n)=>{await a.removeItem(n)};class _i{constructor(){this.promise=new _i.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}_i.promiseConstructor=Promise;function wl(a){const n=a.split(".");if(n.length!==3)throw new Fs("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!Gg.test(n[i]))throw new Fs("JWT not in base64url format");return{header:JSON.parse(wh(n[0])),payload:JSON.parse(wh(n[1])),signature:iv(n[2]),raw:{header:n[0],payload:n[1]}}}async function fv(a){return await new Promise(n=>{setTimeout(()=>n(null),a)})}function pv(a,n){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await a(c);if(!n(c,null,f)){i(f);return}}catch(f){if(!n(c,f)){l(f);return}}})()})}function mv(a){return("0"+a.toString(16)).substr(-2)}function gv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(n),Array.from(n,mv).join("")}async function vv(a){const s=new TextEncoder().encode(a),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function yv(a){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),a;const s=await vv(a);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bn(a,n,s=!1){const i=gv();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await uf(a,`${n}-code-verifier`,l);const c=await yv(i);return[c,i===c?"plain":"s256"]}const wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xv(a){const n=a.headers.get(Ml);if(!n||!n.match(wv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function _v(a){if(!a)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(a<=n)throw new Error("JWT has expired")}function bv(a){switch(a){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fn(a){if(!kv.test(a))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var jv=function(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(s[i[l]]=a[i[l]]);return s};const on=a=>a.msg||a.message||a.error_description||a.error||JSON.stringify(a),Sv=[502,503,504];async function xh(a){var n;if(!hv(a))throw new $l(on(a),0);if(Sv.includes(a.status))throw new $l(on(a),a.status);let s;try{s=await a.json()}catch(c){throw new of(on(c),c)}let i;const l=xv(a);if(l&&l.getTime()>=sf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new gh(on(s),a.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new Mr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new gh(on(s),a.status,s.weak_password.reasons);throw new Yg(on(s),a.status||500,i)}const Cv=(a,n,s,i)=>{const l={method:a,headers:(n==null?void 0:n.headers)||{}};return a==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function Me(a,n,s,i){var l;const c=Object.assign({},i==null?void 0:i.headers);c[Ml]||(c[Ml]=sf["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const f=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const p=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",v=await Nv(a,n,s+p,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(v):{data:Object.assign({},v),error:null}}async function Nv(a,n,s,i,l,c){const f=Cv(n,i,l,c);let p;try{p=await a(s,Object.assign({},f))}catch(v){throw console.error(v),new $l(on(v),0)}if(p.ok||await xh(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(v){await xh(v)}}function pr(a){var n;let s=null;Ov(a)&&(s=Object.assign({},a),a.expires_at||(s.expires_at=uv(a.expires_in)));const i=(n=a.user)!==null&&n!==void 0?n:a;return{data:{session:s,user:i},error:null}}function _h(a){const n=pr(a);return!n.error&&a.weak_password&&typeof a.weak_password=="object"&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.message&&typeof a.weak_password.message=="string"&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(n.data.weak_password=a.weak_password),n}function Dr(a){var n;return{data:{user:(n=a.user)!==null&&n!==void 0?n:a},error:null}}function Ev(a){return{data:a,error:null}}function Rv(a){const{action_link:n,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c}=a,f=jv(a,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:n,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c},v=Object.assign({},f);return{data:{properties:p,user:v},error:null}}function Pv(a){return a}function Ov(a){return a.access_token&&a.refresh_token&&a.expires_in}const xl=["global","local","others"];var Tv=function(a,n){var s={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&n.indexOf(i)<0&&(s[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(a);l<i.length;l++)n.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(a,i[l])&&(s[i[l]]=a[i[l]]);return s};class Av{constructor({url:n="",headers:s={},fetch:i}){this.url=n,this.headers=s,this.fetch=lf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(n,s=xl[0]){if(xl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xl.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,s={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dr})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:s}=n,i=Tv(n,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Rv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Oe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Dr})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,i,l,c,f,p,v;try{const x={nextPage:null,lastPage:0,total:0},k=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=n==null?void 0:n.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Pv});if(k.error)throw k.error;const j=await k.json(),R=(f=k.headers.get("x-total-count"))!==null&&f!==void 0?f:0,I=(v=(p=k.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&v!==void 0?v:[];return I.length>0&&(I.forEach(W=>{const U=parseInt(W.split(";")[0].split("=")[1].substring(0,1)),M=JSON.parse(W.split(";")[1].split("=")[1]);x[`${M}Page`]=U}),x.total=parseInt(R)),{data:Object.assign(Object.assign({},j),x),error:null}}catch(x){if(Oe(x))return{data:{users:[]},error:x};throw x}}async getUserById(n){Fn(n);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Dr})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){Fn(n);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:Dr})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,s=!1){Fn(n);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dr})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){Fn(n.userId);try{const{data:s,error:i}=await Me(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async _deleteFactor(n){Fn(n.userId),Fn(n.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}}const Lv={getItem:a=>qs()?globalThis.localStorage.getItem(a):null,setItem:(a,n)=>{qs()&&globalThis.localStorage.setItem(a,n)},removeItem:a=>{qs()&&globalThis.localStorage.removeItem(a)}};function bh(a={}){return{getItem:n=>a[n]||null,setItem:(n,s)=>{a[n]=s},removeItem:n=>{delete a[n]}}}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qn={debug:!!(globalThis&&qs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cf extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class $v extends cf{}async function Iv(a,n,s){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",a,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",a)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(a,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",a,l.name);try{return await s()}finally{qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",a,l.name)}}else{if(n===0)throw qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",a),new $v(`Acquiring an exclusive Navigator LockManager lock "${a}" immediately failed`);if(qn.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Mv();const Dv={url:Kg,storageKey:Qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kh(a,n,s){return await s()}class Ks{constructor(n){var s,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Dv),n);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Av({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=lf(l.fetch),this.lock=l.lock||kh,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Yt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Iv:this.lock=kh,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:qs()?this.storage=Lv:(this.memoryStorage={},this.storage=bh(this.memoryStorage)):(this.memoryStorage={},this.storage=bh(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nf}) ${new Date().toISOString()}`,...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{const s=dv(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),Yt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),tv(c)){const v=(n=c.details)===null||n===void 0?void 0:n.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",f,"redirect type",p),await this._saveSession(f),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Oe(s)?{error:s}:{error:new of("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,i,l;try{const c=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=n==null?void 0:n.options)===null||l===void 0?void 0:l.captchaToken}},xform:pr}),{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const v=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(c){if(Oe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(n){var s,i,l;try{let c;if("email"in n){const{email:k,password:j,options:R}=n;let I=null,W=null;this.flowType==="pkce"&&([I,W]=await Bn(this.storage,this.storageKey)),c=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:R==null?void 0:R.emailRedirectTo,body:{email:k,password:j,data:(s=R==null?void 0:R.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:R==null?void 0:R.captchaToken},code_challenge:I,code_challenge_method:W},xform:pr})}else if("phone"in n){const{phone:k,password:j,options:R}=n;c=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:k,password:j,data:(i=R==null?void 0:R.data)!==null&&i!==void 0?i:{},channel:(l=R==null?void 0:R.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:R==null?void 0:R.captchaToken}},xform:pr})}else throw new ui("You must provide either an email or phone number and a password");const{data:f,error:p}=c;if(p||!f)return{data:{user:null,session:null},error:p};const v=f.session,x=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(c){if(Oe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(n){try{let s;if("email"in n){const{email:c,password:f,options:p}=n;s=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_h})}else if("phone"in n){const{phone:c,password:f,options:p}=n;s=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:_h})}else throw new ui("You must provide either an email or phone number and a password");const{data:i,error:l}=s;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new li}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(n){var s,i,l,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;if(s==="solana")return await this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(n){var s,i,l,c,f,p,v,x,k,j,R,I;let W,U;if("message"in n)W=n.message,U=n.signature;else{const{chain:M,wallet:te,statement:le,options:H}=n;let oe;if(Yt())if(typeof te=="object")oe=te;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))oe=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof te!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");oe=te}const ge=new URL((s=H==null?void 0:H.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in oe&&oe.signIn){const J=await oe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),le?{statement:le}:null));let ue;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ue=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ue=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)W=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),U=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in oe)||typeof oe.signMessage!="function"||!("publicKey"in oe)||typeof oe!="object"||!oe.publicKey||!("toBase58"in oe.publicKey)||typeof oe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");W=[`${ge.host} wants you to sign in with your Solana account:`,oe.publicKey.toBase58(),...le?["",le,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(l=(i=H==null?void 0:H.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=H==null?void 0:H.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((p=H==null?void 0:H.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((v=H==null?void 0:H.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((x=H==null?void 0:H.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((j=(k=H==null?void 0:H.signInWithSolana)===null||k===void 0?void 0:k.resources)===null||j===void 0)&&j.length?["Resources",...H.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);const J=await oe.signMessage(new TextEncoder().encode(W),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=J}}try{const{data:M,error:te}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:W,signature:lv(U)},!((R=n.options)===null||R===void 0)&&R.captchaToken?{gotrue_meta_security:{captcha_token:(I=n.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:pr});if(te)throw te;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new li}:(M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:te})}catch(M){if(Oe(M))return{data:{user:null,session:null},error:M};throw M}}async _exchangeCodeForSession(n){const s=await di(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:c,error:f}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:pr});if(await hi(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new li}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:f})}catch(c){if(Oe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(n){try{const{options:s,provider:i,token:l,access_token:c,nonce:f}=n,p=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:pr}),{data:v,error:x}=p;return x?{data:{user:null,session:null},error:x}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new li}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:x})}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(n){var s,i,l,c,f;try{if("email"in n){const{email:p,options:v}=n;let x=null,k=null;this.flowType==="pkce"&&([x,k]=await Bn(this.storage,this.storageKey));const{error:j}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=v==null?void 0:v.data)!==null&&s!==void 0?s:{},create_user:(i=v==null?void 0:v.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:k},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:j}}if("phone"in n){const{phone:p,options:v}=n,{data:x,error:k}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=v==null?void 0:v.data)!==null&&l!==void 0?l:{},create_user:(c=v==null?void 0:v.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(f=v==null?void 0:v.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:k}}throw new ui("You must provide either an email or phone number.")}catch(p){if(Oe(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(n){var s,i;try{let l,c;"options"in n&&(l=(s=n.options)===null||s===void 0?void 0:s.redirectTo,c=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:p}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:pr});if(p)throw p;if(!f)throw new Error("An error occurred on token verification.");const v=f.session,x=f.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:x,session:v},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(n){var s,i,l;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await Bn(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=n==null?void 0:n.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:Ev})}catch(c){if(Oe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)throw i;if(!s)throw new Mr;const{error:l}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:i,type:l,options:c}=n,{error:f}=await Me(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in n){const{phone:i,type:l,options:c}=n,{data:f,error:p}=await Me(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:p}}throw new ui("You must provide either an email or phone number and a type")}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await di(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<vl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let f=this.suppressGetSessionWarning;n=new Proxy(n,{get:(v,x,k)=>(!f&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,x,k))})}return{data:{session:n},error:null}}const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{session:null},error:c}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Dr}):await this._useSession(async s=>{var i,l,c;const{data:f,error:p}=s;if(p)throw p;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mr}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Dr})})}catch(s){if(Oe(s))return ev(s)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new Mr;const f=l.session;let p=null,v=null;this.flowType==="pkce"&&n.email!=null&&([p,v]=await Bn(this.storage,this.storageKey));const{data:x,error:k}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:p,code_challenge_method:v}),jwt:f.access_token,xform:Dr});if(k)throw k;return f.user=x.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mr;const s=Date.now()/1e3;let i=s,l=!0,c=null;const{payload:f}=wl(n.access_token);if(f.exp&&(i=f.exp,l=i<=s),l){const{session:p,error:v}=await this._callRefreshToken(n.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:v}=await this._getUser(n.access_token);if(v)throw v;c={access_token:n.access_token,refresh_token:n.refresh_token,user:p.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(Oe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var i;if(!n){const{data:f,error:p}=s;if(p)throw p;n=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(n!=null&&n.refresh_token))throw new Mr;const{session:l,error:c}=await this._callRefreshToken(n.refresh_token);return c?{data:{user:null,session:null},error:c}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(n,s){try{if(!Yt())throw new ci("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ci(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new mh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ci("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new mh("No code detected.");const{data:le,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const oe=new URL(window.location.href);return oe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",oe.toString()),{data:{session:le.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:f,expires_in:p,expires_at:v,token_type:x}=n;if(!c||!p||!f||!x)throw new ci("No session defined in URL");const k=Math.round(Date.now()/1e3),j=parseInt(p);let R=k+j;v&&(R=parseInt(v));const I=R-k;I*1e3<=Hn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${j}s`);const W=R-j;k-W>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",W,R,k):k-W<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",W,R,k);const{data:U,error:M}=await this._getUser(c);if(M)throw M;const te={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:j,expires_at:R,refresh_token:f,token_type:x,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:te,redirectType:n.type},error:null}}catch(i){if(Oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await di(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return{error:c};const f=(i=l.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:p}=await this.admin.signOut(f,n);if(p&&!(Xg(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return n!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(n){const s=cv(),i={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async s=>{var i,l;try{const{data:{session:c},error:f}=s;if(f)throw f;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Bn(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(Oe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var n;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async linkIdentity(n){var s;try{const{data:i,error:l}=await this._useSession(async c=>{var f,p,v,x,k;const{data:j,error:R}=c;if(R)throw R;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(p=n.options)===null||p===void 0?void 0:p.scopes,queryParams:(v=n.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",I,{headers:this.headers,jwt:(k=(x=j.session)===null||x===void 0?void 0:x.access_token)!==null&&k!==void 0?k:void 0})});if(l)throw l;return Yt()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:n.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Oe(i))return{data:{provider:n.provider,url:null},error:i};throw i}}async unlinkIdentity(n){try{return await this._useSession(async s=>{var i,l;const{data:c,error:f}=s;if(f)throw f;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await pv(async l=>(l>0&&await fv(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:pr})),(l,c)=>{const f=200*Math.pow(2,l);return c&&yl(c)&&Date.now()+f-i<Hn})}catch(i){if(this._debug(s,"error",i),Oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",i),Yt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await di(this.storage,this.storageKey);if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const l=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vl;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${vl}s`),l){if(this.autoRefreshToken&&i.refresh_token){const{error:c}=await this._callRefreshToken(i.refresh_token);c&&(console.error(c),yl(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(n){var s,i;if(!n)throw new Mr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new _i;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Mr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={session:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),Oe(c)){const f={session:null,error:c};return yl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(n,s,i=!0){const l=`#_notifyAllSubscribers(${n})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:s});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(n,s)}catch(v){c.push(v)}});if(await Promise.all(f),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await uf(this.storage,this.storageKey,n)}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Hn);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-n)/Hn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Hn}ms, refresh threshold is ${Ll} ticks`),l<=Ll&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof cf)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,f]=await Bn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});l.push(p.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${l.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?{data:null,error:c}:await Me(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async _enroll(n){try{return await this._useSession(async s=>{var i,l;const{data:c,error:f}=s;if(f)return{data:null,error:f};const p=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:v,error:x}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return x?{data:null,error:x}:(n.factorType==="totp"&&(!((l=v==null?void 0:v.totp)===null||l===void 0)&&l.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return{data:null,error:c};const{data:f,error:p}=await Me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:p})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?{data:null,error:c}:await Me(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Oe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(n){const{data:s,error:i}=await this._challenge({factorId:n.factorId});return i?{data:null,error:i}:await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(n==null?void 0:n.factors)||[],l=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),c=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:l,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async n=>{var s,i;const{data:{session:l},error:c}=n;if(c)return{data:null,error:c};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=wl(l.access_token);let p=null;f.aal&&(p=f.aal);let v=p;((i=(s=l.user.factors)===null||s===void 0?void 0:s.filter(j=>j.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(v="aal2");const k=f.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:k},error:null}}))}async fetchJwk(n,s={keys:[]}){let i=s.keys.find(f=>f.kid===n);if(i||(i=this.jwks.keys.find(f=>f.kid===n),i&&this.jwks_cached_at+Zg>Date.now()))return i;const{data:l,error:c}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;if(!l.keys||l.keys.length===0)throw new Fs("JWKS is empty");if(this.jwks=l,this.jwks_cached_at=Date.now(),i=l.keys.find(f=>f.kid===n),!i)throw new Fs("No matching signing key found in JWKS");return i}async getClaims(n,s={keys:[]}){try{let i=n;if(!i){const{data:I,error:W}=await this.getSession();if(W||!I.session)return{data:null,error:W};i=I.session.access_token}const{header:l,payload:c,signature:f,raw:{header:p,payload:v}}=wl(i);if(_v(c.exp),!l.kid||l.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:I}=await this.getUser(i);if(I)throw I;return{data:{claims:c,header:l,signature:f},error:null}}const x=bv(l.alg),k=await this.fetchJwk(l.kid,s),j=await crypto.subtle.importKey("jwk",k,x,!0,["verify"]);if(!await crypto.subtle.verify(x,j,f,av(`${p}.${v}`)))throw new Fs("Invalid JWT signature");return{data:{claims:c,header:l,signature:f},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}Ks.nextInstanceID=0;const Uv=Ks;class zv extends Uv{constructor(n){super(n)}}var Bv=function(a,n,s,i){function l(c){return c instanceof s?c:new s(function(f){f(c)})}return new(s||(s=Promise))(function(c,f){function p(k){try{x(i.next(k))}catch(j){f(j)}}function v(k){try{x(i.throw(k))}catch(j){f(j)}}function x(k){k.done?c(k.value):l(k.value).then(p,v)}x((i=i.apply(a,n||[])).next())})};class Fv{constructor(n,s,i){var l,c,f;if(this.supabaseUrl=n,this.supabaseKey=s,!n)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=Wg(n),v=new URL(p);this.realtimeUrl=new URL("realtime/v1",v),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",v),this.storageUrl=new URL("storage/v1",v),this.functionsUrl=new URL("functions/v1",v);const x=`sb-${v.hostname.split(".")[0]}-auth-token`,k={db:Ig,realtime:Ug,auth:Object.assign(Object.assign({},Dg),{storageKey:x}),global:$g},j=Vg(i??{},k);this.storageKey=(l=j.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=j.global.headers)!==null&&c!==void 0?c:{},j.accessToken?(this.accessToken=j.accessToken,this.auth=new Proxy({},{get:(R,I)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(I)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=j.auth)!==null&&f!==void 0?f:{},this.headers,j.global.fetch),this.fetch=qg(s,this._getAccessToken.bind(this),j.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},j.realtime)),this.rest=new ig(new URL("rest/v1",v).href,{headers:this.headers,schema:j.db.schema,fetch:this.fetch}),j.accessToken||this._listenForAuthEvents()}get functions(){return new Q0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ag(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},i={}){return this.rest.rpc(n,s,i)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,s;return Bv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:l,storageKey:c,flowType:f,lock:p,debug:v},x,k){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zv({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),x),storageKey:c,autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:l,flowType:f,lock:p,debug:v,fetch:k,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new wg(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(n,s,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qv=(a,n,s)=>new Fv(a,n,s),df="https://zokjhcngvaicebufcoqi.supabase.co",Hv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inpva2poY25ndmFpY2VidWZjb3FpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0OTMzNjksImV4cCI6MjA2NTA2OTM2OX0.iQsrf5fdkDwUs0m8a2u2BM6pF-ZbZLZ08CxPTP4MkS4",Il=df.includes("supabase.co");Il||console.warn("Supabase environment variables not found or invalid. Please connect to Supabase to enable full functionality.");const Ie=qv(Il?df:"https://placeholder.supabase.co",Il?Hv:"placeholder-key",{auth:{persistSession:!1,autoRefreshToken:!1}});let fi;const Wv=new Uint8Array(16);function Vv(){if(!fi&&(fi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!fi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return fi(Wv)}const wt=[];for(let a=0;a<256;++a)wt.push((a+256).toString(16).slice(1));function Kv(a,n=0){return wt[a[n+0]]+wt[a[n+1]]+wt[a[n+2]]+wt[a[n+3]]+"-"+wt[a[n+4]]+wt[a[n+5]]+"-"+wt[a[n+6]]+wt[a[n+7]]+"-"+wt[a[n+8]]+wt[a[n+9]]+"-"+wt[a[n+10]]+wt[a[n+11]]+wt[a[n+12]]+wt[a[n+13]]+wt[a[n+14]]+wt[a[n+15]]}const Qv=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jh={randomUUID:Qv};function Jv(a,n,s){if(jh.randomUUID&&!a)return jh.randomUUID();a=a||{};const i=a.random||(a.rng||Vv)();return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Kv(i)}const Gv=()=>Jv()+"-"+Date.now().toString(36)+"-"+Math.random().toString(36).substr(2,9),rt=a=>a.toLowerCase().replace(/\s+/g,"").trim(),Sh=a=>{if(a>=1e18)return"10,000,000";const n=a/Math.pow(10,18);return n>=1e6?`${(n/1e6).toFixed(1)}M`:n>=1e3?`${(n/1e3).toFixed(1)}K`:n.toLocaleString()},Ql=async a=>{try{const n=rt(a),{data:s,error:i}=await Ie.from("user_profiles").select("user_id").eq("user_id",n).single();if(i&&i.code==="PGRST116")return!0;if(i)throw console.error("Error checking username availability:",i),new Error("Failed to check username availability");return!1}catch(n){throw console.error("Error in checkUsernameAvailability:",n),n}},Zv=async a=>{const n=rt(a),s=[],i=[`${n}${Math.floor(Math.random()*100)}`,`${n}${Math.floor(Math.random()*1e3)}`,`${n}_${Math.floor(Math.random()*100)}`,`the_${n}`,`${n}_pro`,`${n}_${new Date().getFullYear()}`,`${n}x`,`${n}_official`];for(const l of i)try{await Ql(l)&&s.push(l)}catch(c){console.error("Error checking suggestion:",l,c)}return s.slice(0,5)},Yv=async a=>{try{const n=rt(a),{data:s,error:i}=await Ie.from("user_profiles").select("user_id").eq("user_id",n).single();if(i&&i.code==="PGRST116")return!1;if(i)throw console.error("Error checking if user exists:",i),new Error("Failed to check if user exists");return!0}catch(n){throw console.error("Error in checkUserExists:",n),n}},hf=async a=>{const s=new TextEncoder().encode(a+"ziproom_salt_2024"),i=await crypto.subtle.digest("SHA-256",s);return Array.from(new Uint8Array(i)).map(f=>f.toString(16).padStart(2,"0")).join("")},Xv=async(a,n)=>await hf(a)===n,ey=async(a,n,s,i,l="")=>{try{console.log("🔐 Starting user registration for:",a);const c=rt(a);if(!await Ql(c))throw new Error("Username is already taken");const p=c==="anton",v=p?1e7:0,x=p?1e18:0,k=await hf(i);console.log("🏗️ Creating user profile with data:",{user_id:c,display_name:n,email:s.toLowerCase(),is_owner:p,tokens_earned:v,wallet_balance:x});const{data:j,error:R}=await Ie.from("user_profiles").insert({user_id:c,display_name:n,email:s.toLowerCase(),bio:l,is_owner:p,tokens_earned:v,wallet_balance:x,password_hash:k}).select().single();if(R)throw console.error("❌ Error creating user profile:",R),new Error("Failed to create user profile: "+R.message);return console.log("✅ User profile created successfully:",j),j&&await Ie.from("activity_logs").insert({user_id:c,activity_type:"user_registered",points_earned:p?1e3:100,metadata:{display_name:n,is_owner:p}}),j}catch(c){throw console.error("❌ Error in registerUser:",c),c}},Ch=async(a,n)=>{try{console.log("🔐 Starting login for username:",a);const s=rt(a),{data:i,error:l}=await Ie.from("user_profiles").select("*").eq("user_id",s).single();if(l||!i)throw console.error("❌ User not found:",l),new Error("User not found. Please check your username or create an account.");if(console.log("👤 Found user profile:",i.display_name),!await Xv(n,i.password_hash))throw console.error("❌ Password verification failed"),new Error("Incorrect password. Please try again.");console.log("✅ Password verified successfully");const f=Gv(),p=new Date;p.setDate(p.getDate()+30),console.log("🎫 Creating session with token:",f.substring(0,20)+"...");const{data:v,error:x}=await Ie.from("user_sessions").insert({user_id:s,session_token:f,expires_at:p.toISOString()}).select().single();if(x)throw console.error("❌ Error creating session:",x),new Error("Failed to create session: "+x.message);return console.log("✅ Session created successfully"),await Ie.from("user_profiles").update({last_active:new Date().toISOString()}).eq("user_id",s),await Ie.from("activity_logs").insert({user_id:s,activity_type:"user_login",points_earned:5,metadata:{login_time:new Date().toISOString()}}),console.log("🎉 Login completed successfully for:",i.display_name),{profile:i,session:v}}catch(s){throw console.error("❌ Error in loginUser:",s),s}},ty=async a=>{try{console.log("🔍 Validating session token:",a.substring(0,20)+"...");const{data:n,error:s}=await Ie.from("user_sessions").select("*").eq("session_token",a).gt("expires_at",new Date().toISOString()).single();if(s)return console.log("❌ Session validation error:",s.message),null;if(!n)return console.log("❌ No valid session found"),null;console.log("✅ Valid session found for user:",n.user_id);const{data:i,error:l}=await Ie.from("user_profiles").select("*").eq("user_id",n.user_id).single();return l||!i?(console.log("❌ Profile not found for session user:",n.user_id),null):(console.log("✅ Profile found:",i.display_name),i)}catch(n){return console.error("❌ Error validating session:",n),null}},ry=async a=>{try{console.log("👋 Logging out user with session:",a.substring(0,20)+"..."),await Ie.from("user_sessions").delete().eq("session_token",a),console.log("✅ Session invalidated successfully")}catch(n){throw console.error("❌ Error logging out user:",n),n}},ny=async(a,n)=>{try{console.log("📝 Updating profile for user:",a),console.log("📝 Update data:",n);const{data:s,error:i}=await Ie.from("user_profiles").update({...n,last_active:new Date().toISOString()}).eq("user_id",a).select();if(i)throw console.error("❌ Error updating user profile:",i),new Error("Failed to update profile");return!s||s.length===0?(console.error("❌ No profile found for user:",a),null):(console.log("✅ Profile updated successfully:",s[0]),s[0])}catch(s){throw console.error("❌ Error updating user profile:",s),s}},ff=async(a,n,s=1,i={})=>{try{await Ie.from("activity_logs").insert({user_id:a,activity_type:n,points_earned:s,metadata:i});const{data:l,error:c}=await Ie.from("user_profiles").select("activity_score, total_messages, rooms_created").eq("user_id",a).single();if(c){console.error("Error fetching current profile:",c);return}const f={activity_score:l.activity_score+s,last_active:new Date().toISOString()};n==="message"?f.total_messages=l.total_messages+1:n==="room_created"&&(f.rooms_created=l.rooms_created+1),await Ie.from("user_profiles").update(f).eq("user_id",a)}catch(l){console.error("Error updating user activity:",l)}},sy=({isOpen:a,onClose:n,onLogin:s})=>{const[i,l]=q.useState("login"),[c,f]=q.useState({username:"",displayName:"",email:"",password:"",confirmPassword:"",bio:""}),[p,v]=q.useState(!1),[x,k]=q.useState(""),[j,R]=q.useState(null),[I,W]=q.useState([]),[U,M]=q.useState(!1),te=async J=>{if(!J||J.length<3){R(null),W([]);return}M(!0);try{const ue=await Ql(J);if(R(ue),ue)W([]);else{const Pe=await Zv(J);W(Pe)}}catch(ue){console.error("Error checking username:",ue)}finally{M(!1)}},le=J=>{const ue=rt(J);f(Pe=>({...Pe,username:ue})),!c.displayName&&ue&&f(Pe=>({...Pe,displayName:ue})),i==="register"&&setTimeout(()=>te(ue),500)},H=async J=>{if(J.preventDefault(),!p){console.log("🔐 AuthModal: Starting authentication process"),console.log("🔐 AuthModal: Mode:",i),console.log("🔐 AuthModal: Username:",c.username),v(!0),k("");try{if(i==="register"){if(console.log("📝 AuthModal: Starting registration process"),!j)throw new Error("Please choose an available username");if(c.password!==c.confirmPassword)throw new Error("Passwords do not match");if(c.password.length<6)throw new Error("Password must be at least 6 characters long");console.log("📝 AuthModal: Calling registerUser...");const ue=await ey(c.username,c.displayName||c.username,c.email,c.password,c.bio);console.log("✅ AuthModal: Registration successful, auto-logging in...");const{session:Pe}=await Ch(c.username,c.password);console.log("✅ AuthModal: Auto-login successful, calling onLogin callback"),s(ue,Pe.session_token)}else{if(console.log("🔐 AuthModal: Starting login process"),!await Yv(c.username))throw new Error("User not found. Please check your username or create an account.");console.log("🔐 AuthModal: User exists, attempting login...");const{profile:Pe,session:qe}=await Ch(c.username,c.password);console.log("✅ AuthModal: Login successful, calling onLogin callback"),s(Pe,qe.session_token)}console.log("✅ AuthModal: Authentication completed successfully")}catch(ue){console.error("❌ AuthModal: Authentication error:",ue);let Pe=ue.message||"Authentication failed";Pe.includes("User not found")?Pe=`Username "${c.username}" not found. Please check your username or create an account.`:Pe.includes("Incorrect password")||Pe.includes("Invalid login credentials")?Pe="Incorrect password or unconfirmed email. Please check your credentials or confirm your email address.":Pe.includes("Supabase not configured")&&(Pe="Database connection not available. Please try again later."),k(Pe)}finally{v(!1)}}},oe=J=>{le(J)},ge=()=>{l("register"),k(""),R(null),W([]);const J=c.username;f({username:J,displayName:J,email:"",password:"",confirmPassword:"",bio:""}),J&&setTimeout(()=>te(J),500)};return a?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[d.jsx(Nl,{className:"h-6 w-6 text-purple-400"}),d.jsx("span",{children:i==="login"?"Welcome Back":"Join ZipRoom"})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Vs,{className:"h-6 w-6"})})]}),x&&d.jsxs("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 mb-6 flex items-start space-x-3",children:[d.jsx(E0,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-red-400 text-sm",children:x}),i==="login"&&x.includes("not found")&&d.jsx("button",{onClick:ge,className:"text-purple-400 hover:text-purple-300 text-sm underline mt-2",children:"Create an account instead"})]})]}),d.jsxs("form",{onSubmit:H,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Vn,{className:"inline h-4 w-4 mr-1"}),"Username"]}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:c.username,onChange:J=>le(J.target.value),placeholder:"Choose your username...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent pr-10",required:!0,minLength:3,maxLength:20}),i==="register"&&d.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:U?d.jsx(Sl,{className:"h-4 w-4 text-gray-400 animate-spin"}):j===!0?d.jsx($r,{className:"h-4 w-4 text-green-400"}):j===!1?d.jsx(Vs,{className:"h-4 w-4 text-red-400"}):null})]}),i==="register"&&I.length>0&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Suggestions:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:I.slice(0,4).map(J=>d.jsx("button",{type:"button",onClick:()=>oe(J),className:"text-xs bg-purple-600/20 hover:bg-purple-600/30 text-purple-300 px-2 py-1 rounded-lg transition-colors",children:J},J))})]}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"3-20 characters, lowercase letters and numbers only"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Cl,{className:"inline h-4 w-4 mr-1"}),"Password"]}),d.jsx("input",{type:"password",value:c.password,onChange:J=>f(ue=>({...ue,password:J.target.value})),placeholder:"Enter your password...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",required:!0,minLength:6}),i==="register"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum 6 characters"})]}),i==="register"&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Cl,{className:"inline h-4 w-4 mr-1"}),"Confirm Password"]}),d.jsx("input",{type:"password",value:c.confirmPassword,onChange:J=>f(ue=>({...ue,confirmPassword:J.target.value})),placeholder:"Confirm your password...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",required:!0})]}),i==="register"&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Nl,{className:"inline h-4 w-4 mr-1"}),"Display Name"]}),d.jsx("input",{type:"text",value:c.displayName,onChange:J=>f(ue=>({...ue,displayName:J.target.value})),placeholder:"Your display name (can include emojis)...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",maxLength:50}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This is how others will see your name (emojis allowed!)"})]}),i==="register"&&d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(L0,{className:"inline h-4 w-4 mr-1"}),"Email"]}),d.jsx("input",{type:"email",value:c.email,onChange:J=>f(ue=>({...ue,email:J.target.value})),placeholder:"your@email.com",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",required:!0})]}),i==="register"&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio (Optional)"}),d.jsx("textarea",{value:c.bio,onChange:J=>f(ue=>({...ue,bio:J.target.value})),placeholder:"Tell us about yourself...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent resize-none",rows:3,maxLength:200}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c.bio.length,"/200 characters"]})]}),d.jsx("button",{type:"submit",disabled:p||i==="register"&&!j,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:p?d.jsxs(d.Fragment,{children:[d.jsx(Sl,{className:"h-5 w-5 animate-spin"}),d.jsx("span",{children:i==="login"?"Signing In...":"Creating Account..."})]}):d.jsxs(d.Fragment,{children:[i==="login"?d.jsx(Vn,{className:"h-5 w-5"}):d.jsx(zr,{className:"h-5 w-5"}),d.jsx("span",{children:i==="login"?"Sign In":"Create Account"})]})})]}),d.jsxs("div",{className:"mt-6 text-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:i==="login"?"Don't have an account?":"Already have an account?"}),d.jsx("button",{onClick:()=>{l(i==="login"?"register":"login"),k(""),R(null),W([]),f({username:"",displayName:"",email:"",password:"",confirmPassword:"",bio:""})},className:"text-purple-400 hover:text-purple-300 font-medium transition-colors mt-1",children:i==="login"?"Create one here":"Sign in instead"})]}),i==="register"&&d.jsxs("div",{className:"mt-6 p-4 bg-yellow-600/10 border border-yellow-500/30 rounded-xl",children:[d.jsx("h4",{className:"text-yellow-400 font-medium mb-2",children:"Special Username"}),d.jsx("div",{className:"text-sm text-yellow-300",children:d.jsxs("div",{children:["If you register with username ",d.jsx("strong",{children:'"anton"'}),", you'll automatically become the platform owner with special privileges and 10M ZRM tokens!"]})})]})]})}):null},oy=({isOpen:a,onClose:n,profile:s,onProfileUpdate:i})=>{const[l,c]=q.useState(!1),[f,p]=q.useState({display_name:s.display_name,bio:s.bio}),[v,x]=q.useState(!1),[k,j]=q.useState(!1),[R,I]=q.useState(null),[W,U]=q.useState(!1),M=async()=>{x(!0),I(null);try{console.log("Updating profile for user:",s.user_id),console.log("Update data:",f);const J=await ny(s.user_id,f);J?(console.log("Profile updated successfully:",J),i(J),c(!1),U(!0),setTimeout(()=>U(!1),3e3)):(I("Profile not found. Please try logging in again."),console.error("Profile update returned null - user not found:",s.user_id))}catch(J){console.error("Error updating profile:",J),I("Failed to update profile. Please try again.")}finally{x(!1)}},te=()=>{navigator.clipboard.writeText(s.user_id),j(!0),setTimeout(()=>j(!1),2e3)},le=s.user_id==="anton"?1:Math.max(2,Math.floor(Math.random()*100)+2),oe=parseFloat(Sh(s.wallet_balance).replace(/,/g,""))*.25,ge=()=>s.user_id==="anton"?"🚀 Founder & CEO of ZipRoom | Building the future of ephemeral communication 💬 | Crypto innovator passionate about privacy-first solutions 🔐 | Leading the revolution in disposable chat technology ⚡ | 10M+ ZRM holder & platform architect 👑":s.bio;return a?d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center space-x-2",children:[d.jsx(Vn,{className:"h-6 w-6 text-purple-400"}),d.jsx("span",{children:"Profile"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!l&&d.jsx("button",{onClick:()=>{c(!0),I(null),U(!1),s.user_id==="anton"&&!s.bio&&p(J=>({...J,bio:ge()}))},className:"text-gray-400 hover:text-purple-400 transition-colors",title:"Edit Profile",children:d.jsx(M0,{className:"h-5 w-5"})}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Vs,{className:"h-6 w-6"})})]})]}),W&&d.jsxs("div",{className:"mb-4 p-4 bg-green-500/20 border border-green-500/30 rounded-xl flex items-center space-x-3",children:[d.jsx(O0,{className:"h-5 w-5 text-green-400 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-green-400 font-medium",children:"Profile Updated Successfully!"}),d.jsx("p",{className:"text-green-300 text-sm",children:"Your changes have been saved."})]})]}),R&&d.jsx("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-lg text-red-300 text-sm",children:R}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:`w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center text-2xl font-bold relative ${s.is_owner?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-yellow-500/25":"bg-gradient-to-r from-purple-600 to-pink-600 text-white"}`,children:[s.is_owner?d.jsx(zr,{className:"h-8 w-8"}):s.display_name.charAt(0).toUpperCase(),s.is_owner&&d.jsx("div",{className:"absolute -top-2 -right-2 bg-yellow-400 rounded-full p-1",children:d.jsx(Zd,{className:"h-4 w-4 text-yellow-900"})})]}),l?d.jsx("input",{type:"text",value:f.display_name,onChange:J=>p(ue=>({...ue,display_name:J.target.value})),className:"text-xl font-bold text-white bg-gray-900/50 border border-purple-500/30 rounded-lg px-3 py-1 text-center focus:outline-none focus:ring-2 focus:ring-purple-500/50",maxLength:50}):d.jsxs("h3",{className:"text-xl font-bold text-white flex items-center justify-center space-x-2",children:[d.jsx("span",{children:s.display_name}),s.is_owner&&d.jsx(zr,{className:"h-5 w-5 text-yellow-400"})]}),d.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-2",children:[d.jsxs("span",{className:"text-gray-400 font-mono text-sm",children:["@",s.user_id]}),d.jsx("button",{onClick:te,className:"text-gray-400 hover:text-white transition-colors",title:"Copy User ID",children:k?d.jsx($r,{className:"h-4 w-4 text-green-400"}):d.jsx(jl,{className:"h-4 w-4"})})]}),d.jsxs("div",{className:"mt-4 inline-flex items-center space-x-2 bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30 rounded-full px-4 py-2",children:[d.jsx(vi,{className:"h-5 w-5 text-yellow-400"}),d.jsxs("span",{className:"text-yellow-300 font-bold",children:["#",le," ",le===1?"TOP RANK":"RANKED"]}),le===1&&d.jsx(zr,{className:"h-4 w-4 text-yellow-400"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Bio"}),l?d.jsxs("div",{className:"space-y-2",children:[d.jsx("textarea",{value:f.bio,onChange:J=>p(ue=>({...ue,bio:J.target.value})),className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent resize-none",rows:4,maxLength:200,placeholder:"Tell us about yourself..."}),s.user_id==="anton"&&!f.bio&&d.jsx("button",{onClick:()=>p(J=>({...J,bio:ge()})),className:"text-xs bg-yellow-600/20 hover:bg-yellow-600/30 text-yellow-300 px-3 py-1 rounded-lg transition-colors",children:"Use suggested bio for founder"}),d.jsxs("div",{className:"text-xs text-gray-500 text-right",children:[f.bio.length,"/200 characters"]})]}):d.jsx("p",{className:"text-gray-300 bg-gray-900/30 rounded-xl p-4 min-h-[80px] leading-relaxed",children:s.bio||"No bio yet..."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 rounded-xl p-4 text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:d.jsx(vi,{className:"h-5 w-5 text-yellow-400"})}),d.jsxs("div",{className:"text-2xl font-bold text-white",children:["#",le]}),d.jsx("div",{className:"text-xs text-gray-400",children:"Global Rank"})]}),d.jsxs("div",{className:"bg-gradient-to-r from-cyan-600/20 to-blue-600/20 border border-cyan-500/30 rounded-xl p-4 text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:d.jsx(Qn,{className:"h-5 w-5 text-cyan-400"})}),d.jsx("div",{className:"text-2xl font-bold text-white",children:s.activity_score.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-400",children:"Activity Score"})]}),d.jsxs("div",{className:"bg-gradient-to-r from-green-600/20 to-teal-600/20 border border-green-500/30 rounded-xl p-4 text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:d.jsx(gi,{className:"h-5 w-5 text-green-400"})}),d.jsx("div",{className:"text-2xl font-bold text-white",children:s.total_messages.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-400",children:"Messages"})]}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-600/20 to-red-600/20 border border-orange-500/30 rounded-xl p-4 text-center",children:[d.jsx("div",{className:"flex items-center justify-center mb-2",children:d.jsx(Vn,{className:"h-5 w-5 text-orange-400"})}),d.jsx("div",{className:"text-2xl font-bold text-white",children:s.rooms_created.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-400",children:"Rooms Created"})]})]}),d.jsxs("div",{className:"relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-900/40 via-cyan-900/40 to-purple-900/40 rounded-2xl animate-pulse"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/10 via-transparent to-cyan-600/10 rounded-2xl"}),d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-500 via-cyan-400 to-purple-500 rounded-t-2xl animate-pulse"}),d.jsxs("div",{className:"relative bg-gradient-to-br from-purple-800/30 via-gray-800/50 to-cyan-800/30 border border-purple-500/40 rounded-2xl p-6 backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h4",{className:"text-xl font-bold text-white flex items-center space-x-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(z0,{className:"h-6 w-6 text-purple-400"}),d.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"})]}),d.jsx("span",{className:"bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"ZRM Wallet"}),d.jsx(Nl,{className:"h-5 w-5 text-yellow-400 animate-pulse"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full border border-green-500/30",children:[d.jsx(zs,{className:"h-3 w-3"}),d.jsx("span",{children:"Secured"})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded-full border border-blue-500/30",children:[d.jsx(Cl,{className:"h-3 w-3"}),d.jsx("span",{children:"Self-Custody"})]})]})]}),d.jsxs("div",{className:"text-center mb-6",children:[d.jsxs("div",{className:"relative inline-block",children:[d.jsx("div",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-purple-400 via-cyan-400 to-purple-400 bg-clip-text text-transparent animate-pulse",children:Sh(s.wallet_balance)}),d.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-purple-600/20 to-cyan-600/20 blur-xl rounded-full animate-pulse"})]}),d.jsx("div",{className:"text-lg font-semibold text-gray-300 mb-4",children:"ZRM Tokens"}),d.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 border border-gray-700/50",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[d.jsxs("span",{className:"text-2xl font-bold text-green-400",children:["$",oe.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),d.jsxs("div",{className:"flex items-center space-x-1 bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs",children:[d.jsx(R0,{className:"h-3 w-3"}),d.jsx("span",{children:"+24.5%"})]})]}),d.jsx("div",{className:"text-xs text-gray-400",children:"USD Value (24h)"})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-purple-400",children:s.tokens_earned.toLocaleString()}),d.jsx("div",{className:"text-xs text-gray-400",children:"Earned"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-cyan-400",children:"$0.25"}),d.jsx("div",{className:"text-xs text-gray-400",children:"Price"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-lg font-bold text-green-400",children:"+15.2%"}),d.jsx("div",{className:"text-xs text-gray-400",children:"7d Change"})]})]}),s.is_owner&&d.jsxs("div",{className:"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30 rounded-xl p-4 mb-4",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[d.jsx(zr,{className:"h-5 w-5 text-yellow-400"}),d.jsx("span",{className:"text-yellow-300 font-semibold",children:"Owner Privileges"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-300",children:[d.jsx(Qn,{className:"h-3 w-3"}),d.jsx("span",{children:"Unlimited Tokens"})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-300",children:[d.jsx(zs,{className:"h-3 w-3"}),d.jsx("span",{children:"Admin Access"})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-300",children:[d.jsx(Zd,{className:"h-3 w-3"}),d.jsx("span",{children:"Priority Support"})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-300",children:[d.jsx(Yd,{className:"h-3 w-3"}),d.jsx("span",{children:"Analytics Access"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("button",{className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[d.jsx(T0,{className:"h-4 w-4"}),d.jsx("span",{children:"Stake"})]}),d.jsxs("button",{className:"bg-gradient-to-r from-cyan-600 to-cyan-700 hover:from-cyan-500 hover:to-cyan-600 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2",children:[d.jsx(Yd,{className:"h-4 w-4"}),d.jsx("span",{children:"Trade"})]})]}),d.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700/50",children:d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(zs,{className:"h-3 w-3 text-green-400"}),d.jsx("span",{children:"256-bit Encryption"})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Live Prices"})]})]})})]})]}),l&&d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("button",{onClick:()=>{c(!1),I(null),U(!1),p({display_name:s.display_name,bio:s.bio})},className:"flex-1 bg-gray-600 hover:bg-gray-500 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-300",children:"Cancel"}),d.jsx("button",{onClick:M,disabled:v,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-gray-600 disabled:to-gray-700 text-white px-4 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2",children:v?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),d.jsx("span",{children:"Saving..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(I0,{className:"h-4 w-4"}),d.jsx("span",{children:"Save Changes"})]})})]})]})]})}):null},pf=({currentUser:a,onShowAuth:n})=>{const[s,i]=q.useState(""),l=Js(),c=()=>{if(!a&&n){n();return}l("/create")},f=()=>{s.trim()&&l(`/join/${s.toUpperCase()}`)};return d.jsxs("div",{className:"container mx-auto px-4 py-12",children:[d.jsxs("div",{className:"text-center mb-16",children:[d.jsxs("div",{className:"relative inline-block mb-6",children:[d.jsx("h1",{className:"text-6xl md:text-8xl font-bold bg-gradient-to-r from-purple-400 via-pink-400 to-cyan-400 bg-clip-text text-transparent",children:"ZipRoom"}),d.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-purple-400/20 to-cyan-400/20 blur-xl rounded-full animate-pulse"})]}),d.jsxs("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 max-w-2xl mx-auto",children:["Disposable chatrooms for ",d.jsx("span",{className:"text-purple-400 font-semibold",children:"real-life moments"})]}),d.jsx("p",{className:"text-gray-400 mb-12 max-w-xl mx-auto",children:"Create instant, temporary chatrooms that vanish after 24 hours. Perfect for events, meetups, and spontaneous conversations."}),a&&d.jsx("div",{className:`mb-8 p-4 rounded-xl border ${a.is_owner?"bg-gradient-to-r from-yellow-600/10 to-orange-600/10 border-yellow-500/30":"bg-gradient-to-r from-purple-600/10 to-pink-600/10 border-purple-500/30"}`,children:d.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[a.is_owner&&d.jsx(zr,{className:"h-6 w-6 text-yellow-400"}),d.jsxs("span",{className:"text-white font-medium",children:["Welcome back, ",a.display_name,"!"]}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(vi,{className:"h-4 w-4 text-yellow-400"}),d.jsxs("span",{children:[a.activity_score.toLocaleString()," pts"]})]}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(gi,{className:"h-4 w-4 text-cyan-400"}),d.jsxs("span",{children:[a.total_messages.toLocaleString()," messages"]})]})]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-center items-center max-w-2xl mx-auto",children:[d.jsxs("button",{onClick:c,className:"group relative bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 w-full md:w-auto",children:[d.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[d.jsx(Hh,{className:"h-6 w-6"}),d.jsx("span",{children:"Create Room"})]}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/50 to-pink-600/50 rounded-xl blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10"})]}),d.jsxs("div",{className:"flex items-center space-x-4 w-full md:w-auto",children:[d.jsx("input",{type:"text",placeholder:"Enter Room ID",value:s,onChange:p=>i(p.target.value.toUpperCase()),className:"bg-gray-800/50 border border-purple-500/30 rounded-xl px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent backdrop-blur-sm flex-1",maxLength:6}),d.jsx("button",{onClick:f,disabled:!s.trim(),className:"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed",children:d.jsx(Kn,{className:"h-6 w-6"})})]})]}),!a&&d.jsxs("div",{className:"mt-8 bg-gradient-to-r from-purple-600/10 to-pink-600/10 border border-purple-500/30 rounded-xl p-6 max-w-2xl mx-auto",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Ready to create your first room?"}),d.jsx("p",{className:"text-gray-300 mb-4",children:"Sign in to create rooms, earn ZRM tokens, and track your activity across the platform."}),d.jsx("button",{onClick:n,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",children:"Sign In to Get Started"})]})]}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16",children:[d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-6 hover:border-purple-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-purple-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx(Fl,{className:"h-6 w-6 text-purple-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Auto-Expiry"}),d.jsx("p",{className:"text-gray-400",children:"Rooms automatically delete after 24 hours. No permanent data storage."})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-cyan-500/20 rounded-2xl p-6 hover:border-cyan-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-cyan-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx($0,{className:"h-6 w-6 text-cyan-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"QR Code Sharing"}),d.jsx("p",{className:"text-gray-400",children:"Share rooms instantly with generated QR codes. Perfect for events."})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-pink-500/20 rounded-2xl p-6 hover:border-pink-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-pink-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx(zs,{className:"h-6 w-6 text-pink-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Token Gating"}),d.jsx("p",{className:"text-gray-400",children:"Optional ZRM token requirements for exclusive access control."})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-green-500/20 rounded-2xl p-6 hover:border-green-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-green-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx(Qn,{className:"h-6 w-6 text-green-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Instant Access"}),d.jsx("p",{className:"text-gray-400",children:"Sign in once and join any room instantly. Build your reputation."})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-orange-500/20 rounded-2xl p-6 hover:border-orange-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-orange-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx(gi,{className:"h-6 w-6 text-orange-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Real-time Chat"}),d.jsx("p",{className:"text-gray-400",children:"Lightning-fast messaging with reactions, replies, and emoji support."})]}),d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-blue-500/20 rounded-2xl p-6 hover:border-blue-500/40 transition-all duration-300",children:[d.jsx("div",{className:"bg-blue-500/20 w-12 h-12 rounded-xl flex items-center justify-center mb-4",children:d.jsx(vi,{className:"h-6 w-6 text-blue-400"})}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Earn & Rank"}),d.jsx("p",{className:"text-gray-400",children:"Build your profile, earn ZRM tokens, and climb the leaderboards."})]})]}),d.jsx("div",{className:"bg-gradient-to-r from-purple-800/20 to-cyan-800/20 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-8 mb-16",children:d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"ZipRoom Token (ZRM)"}),d.jsx("p",{className:"text-gray-300 mb-6 max-w-2xl mx-auto",children:"The native token powering exclusive access, room creation rewards, and governance in the ZipRoom ecosystem."}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-2",children:"50M"}),d.jsx("div",{className:"text-gray-400",children:"Total Supply"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-cyan-400 mb-2",children:"Self-Custody"}),d.jsx("div",{className:"text-gray-400",children:"Wallet Integration"})]}),d.jsxs("div",{children:[d.jsx("div",{className:"text-2xl font-bold text-pink-400 mb-2",children:"Activity"}),d.jsx("div",{className:"text-gray-400",children:"Based Rewards"})]})]})]})}),d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-12",children:"How It Works"}),d.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-xl",children:"1"}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Sign Up"}),d.jsx("p",{className:"text-gray-400",children:"Create your unique profile with custom username and bio"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"bg-gradient-to-r from-cyan-600 to-blue-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-xl",children:"2"}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Create"}),d.jsx("p",{className:"text-gray-400",children:"Generate rooms with custom expiry and share via QR codes"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-xl",children:"3"}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Chat"}),d.jsx("p",{className:"text-gray-400",children:"Join conversations with reactions, replies, and real-time updates"})]}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"bg-gradient-to-r from-yellow-600 to-orange-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-white font-bold text-xl",children:"4"}),d.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Earn"}),d.jsx("p",{className:"text-gray-400",children:"Build reputation and earn ZRM tokens through activity"})]})]})]})]})},iy=()=>{const a="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let n="";for(let s=0;s<6;s++)n+=a.charAt(Math.floor(Math.random()*a.length));return n},ay=async(a,n=24,s,i="anonymous")=>{const l=iy(),c=new Date(Date.now()+n*60*60*1e3).toISOString();console.log("🏗️ createRoom: Creating room with data:",{room_id:l,name:a,creator_id:i,expires_at:c,token_requirement:s,is_active:!0});const{data:f,error:p}=await Ie.from("rooms").insert({room_id:l,name:a,creator_id:i,expires_at:c,token_requirement:s,is_active:!0}).select().single();if(p)throw console.error("❌ createRoom: Error creating room:",p),p;return console.log("✅ createRoom: Room created successfully:",f),f},ly=async(a,n)=>{try{if(console.log("🚪 joinRoom: Starting join process for room:",a,"username:",n),!a)throw console.error("❌ joinRoom: No room ID provided"),new Error("Room ID is required");if(!n)throw console.error("❌ joinRoom: No username provided"),new Error("Username is required");console.log("🔍 joinRoom: Querying room from database...");const{data:s,error:i}=await Ie.from("rooms").select("*").eq("room_id",a).eq("is_active",!0).single();if(console.log("🔍 joinRoom: Room query result:",{room:s,error:i}),i)throw console.error("❌ joinRoom: Room query error:",i),i.code==="PGRST116"?new Error("Room not found or expired"):new Error("Failed to find room: "+i.message);if(!s)throw console.error("❌ joinRoom: Room not found in database"),new Error("Room not found or expired");console.log("✅ joinRoom: Room found:",{id:s.id,room_id:s.room_id,name:s.name,creator_id:s.creator_id,expires_at:s.expires_at,is_active:s.is_active});const l=new Date,c=new Date(s.expires_at);if(console.log("⏰ joinRoom: Checking expiry - Now:",l.toISOString(),"Expires:",c.toISOString()),c<l)throw console.error("❌ joinRoom: Room has expired"),new Error("Room has expired");const f=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log("🆔 joinRoom: Generated user ID:",f),console.log("👤 joinRoom: Adding user to room with INSERT..."),await Ie.from("room_users").delete().eq("room_id",a).eq("user_id",f);const{data:p,error:v}=await Ie.from("room_users").insert({room_id:a,user_id:f,username:n,is_admin:!1}).select().single();if(console.log("👤 joinRoom: User insert result:",{userData:p,error:v}),v)throw console.error("❌ joinRoom: Error adding user to room:",v),new Error("Failed to join room: "+v.message);if(!p)throw console.error("❌ joinRoom: No user data returned from insert"),new Error("Failed to create user session");console.log("✅ joinRoom: User added to room successfully:",{id:p.id,room_id:p.room_id,user_id:p.user_id,username:p.username,is_admin:p.is_admin,joined_at:p.joined_at}),console.log("⏳ joinRoom: Waiting for database consistency..."),await new Promise(j=>setTimeout(j,1e3)),console.log("🔍 joinRoom: Verifying user was added...");const{data:x,error:k}=await Ie.from("room_users").select("*").eq("room_id",a).eq("user_id",f).single();if(k||!x)throw console.error("❌ joinRoom: User verification failed:",k),new Error("Failed to verify user was added to room");return console.log("✅ joinRoom: User verified in database:",x),console.log("🎉 joinRoom: Join process completed successfully"),console.log("🎉 joinRoom: Returning data:",{room:{id:s.id,room_id:s.room_id,name:s.name},user:{id:p.id,user_id:p.user_id,username:p.username}}),{room:s,user:p}}catch(s){throw console.error("❌ joinRoom: Join room error:",s),s}},uy=async(a,n,s,i,l,c,f)=>{try{if(console.log("💬 sendMessage: Starting message send process"),console.log("💬 sendMessage: Parameters:",{roomId:a,userId:n,username:s,content:i.substring(0,50)+"...",hasReply:!!l}),!a)throw console.error("❌ sendMessage: No room ID provided"),new Error("Room ID is required");if(!n)throw console.error("❌ sendMessage: No user ID provided"),new Error("User ID is required");if(!s)throw console.error("❌ sendMessage: No username provided"),new Error("Username is required");if(!i||!i.trim())throw console.error("❌ sendMessage: No message content provided"),new Error("Message content is required");const p={room_id:a,user_id:n,username:s,content:i.trim()};l&&c&&f&&(p.reply_to_id=l,p.reply_to_username=c,p.reply_to_content=f.length>50?f.substring(0,50)+"...":f,console.log("💬 sendMessage: Adding reply data to message")),console.log("💬 sendMessage: Inserting message into database with data:",p);const{data:v,error:x}=await Ie.from("messages").insert(p).select().single();if(x)throw console.error("❌ sendMessage: Database error:",x),new Error("Failed to send message: "+x.message);if(!v)throw console.error("❌ sendMessage: No data returned from insert"),new Error("Failed to send message: No data returned");return console.log("✅ sendMessage: Message sent successfully:",v),v}catch(p){throw console.error("❌ sendMessage: Send message error:",p),p}},cy=async a=>{try{if(console.log("📨 getRoomMessages: Fetching messages for room:",a),!a)throw console.error("❌ getRoomMessages: No room ID provided"),new Error("Room ID is required");const{data:n,error:s}=await Ie.from("messages").select("*").eq("room_id",a).order("created_at",{ascending:!0});if(s)throw console.error("❌ getRoomMessages: Error fetching messages:",s),new Error("Failed to fetch messages: "+s.message);return console.log("✅ getRoomMessages: Messages fetched successfully:",(n==null?void 0:n.length)||0,"messages"),n||[]}catch(n){throw console.error("❌ getRoomMessages: Get messages error:",n),n}},dy=async(a,n,s)=>{try{console.log("😀 addReaction: Adding reaction:",{messageId:a,userId:n,emojiId:s});const{data:i,error:l}=await Ie.from("message_reactions").upsert({message_id:a,user_id:n,emoji_id:s},{onConflict:"message_id,user_id,emoji_id"}).select().single();if(l)throw console.error("❌ addReaction: Error adding reaction:",l),new Error("Failed to add reaction: "+l.message);return console.log("✅ addReaction: Reaction added successfully:",i),i}catch(i){throw console.error("❌ addReaction: Add reaction error:",i),i}},hy=async(a,n,s)=>{try{console.log("😞 removeReaction: Removing reaction:",{messageId:a,userId:n,emojiId:s});const{error:i}=await Ie.from("message_reactions").delete().eq("message_id",a).eq("user_id",n).eq("emoji_id",s);if(i)throw console.error("❌ removeReaction: Error removing reaction:",i),new Error("Failed to remove reaction: "+i.message);console.log("✅ removeReaction: Reaction removed successfully")}catch(i){throw console.error("❌ removeReaction: Remove reaction error:",i),i}},fy=async a=>{try{console.log("😊 getMessageReactions: Fetching reactions for messages:",a.length);const{data:n,error:s}=await Ie.from("message_reactions").select("*").in("message_id",a);if(s)throw console.error("❌ getMessageReactions: Error fetching reactions:",s),new Error("Failed to fetch reactions: "+s.message);return console.log("✅ getMessageReactions: Reactions fetched successfully:",(n==null?void 0:n.length)||0),n||[]}catch(n){throw console.error("❌ getMessageReactions: Get reactions error:",n),n}};var pi={exports:{}},py=pi.exports,Nh;function my(){return Nh||(Nh=1,function(a,n){(function(s,i){a.exports=i()})(py,()=>(()=>{var s={873:(f,p)=>{var v,x,k=function(){var j=function(K,Q){var L=K,w=te[Q],m=null,b=0,_=null,g=[],S={},B=function(P,z){m=function(T){for(var F=new Array(T),G=0;G<T;G+=1){F[G]=new Array(T);for(var he=0;he<T;he+=1)F[G][he]=null}return F}(b=4*L+17),D(0,0),D(b-7,0),D(0,b-7),Z(),ne(),X(P,z),L>=7&&ie(P),_==null&&(_=xe(L,w,g)),ae(_,z)},D=function(P,z){for(var T=-1;T<=7;T+=1)if(!(P+T<=-1||b<=P+T))for(var F=-1;F<=7;F+=1)z+F<=-1||b<=z+F||(m[P+T][z+F]=0<=T&&T<=6&&(F==0||F==6)||0<=F&&F<=6&&(T==0||T==6)||2<=T&&T<=4&&2<=F&&F<=4)},ne=function(){for(var P=8;P<b-8;P+=1)m[P][6]==null&&(m[P][6]=P%2==0);for(var z=8;z<b-8;z+=1)m[6][z]==null&&(m[6][z]=z%2==0)},Z=function(){for(var P=le.getPatternPosition(L),z=0;z<P.length;z+=1)for(var T=0;T<P.length;T+=1){var F=P[z],G=P[T];if(m[F][G]==null)for(var he=-2;he<=2;he+=1)for(var Se=-2;Se<=2;Se+=1)m[F+he][G+Se]=he==-2||he==2||Se==-2||Se==2||he==0&&Se==0}},ie=function(P){for(var z=le.getBCHTypeNumber(L),T=0;T<18;T+=1){var F=!P&&(z>>T&1)==1;m[Math.floor(T/3)][T%3+b-8-3]=F}for(T=0;T<18;T+=1)F=!P&&(z>>T&1)==1,m[T%3+b-8-3][Math.floor(T/3)]=F},X=function(P,z){for(var T=w<<3|z,F=le.getBCHTypeInfo(T),G=0;G<15;G+=1){var he=!P&&(F>>G&1)==1;G<6?m[G][8]=he:G<8?m[G+1][8]=he:m[b-15+G][8]=he}for(G=0;G<15;G+=1)he=!P&&(F>>G&1)==1,G<8?m[8][b-G-1]=he:G<9?m[8][15-G-1+1]=he:m[8][15-G-1]=he;m[b-8][8]=!P},ae=function(P,z){for(var T=-1,F=b-1,G=7,he=0,Se=le.getMaskFunction(z),Ce=b-1;Ce>0;Ce-=2)for(Ce==6&&(Ce-=1);;){for(var Te=0;Te<2;Te+=1)if(m[F][Ce-Te]==null){var V=!1;he<P.length&&(V=(P[he]>>>G&1)==1),Se(F,Ce-Te)&&(V=!V),m[F][Ce-Te]=V,(G-=1)==-1&&(he+=1,G=7)}if((F+=T)<0||b<=F){F-=T,T=-T;break}}},xe=function(P,z,T){for(var F=ge.getRSBlocks(P,z),G=J(),he=0;he<T.length;he+=1){var Se=T[he];G.put(Se.getMode(),4),G.put(Se.getLength(),le.getLengthInBits(Se.getMode(),P)),Se.write(G)}var Ce=0;for(he=0;he<F.length;he+=1)Ce+=F[he].dataCount;if(G.getLengthInBits()>8*Ce)throw"code length overflow. ("+G.getLengthInBits()+">"+8*Ce+")";for(G.getLengthInBits()+4<=8*Ce&&G.put(0,4);G.getLengthInBits()%8!=0;)G.putBit(!1);for(;!(G.getLengthInBits()>=8*Ce||(G.put(236,8),G.getLengthInBits()>=8*Ce));)G.put(17,8);return function(Te,V){for(var fe=0,Ee=0,Le=0,$e=new Array(V.length),Re=new Array(V.length),_e=0;_e<V.length;_e+=1){var ve=V[_e].dataCount,De=V[_e].totalCount-ve;Ee=Math.max(Ee,ve),Le=Math.max(Le,De),$e[_e]=new Array(ve);for(var ye=0;ye<$e[_e].length;ye+=1)$e[_e][ye]=255&Te.getBuffer()[ye+fe];fe+=ve;var We=le.getErrorCorrectPolynomial(De),nt=oe($e[_e],We.getLength()-1).mod(We);for(Re[_e]=new Array(We.getLength()-1),ye=0;ye<Re[_e].length;ye+=1){var et=ye+nt.getLength()-Re[_e].length;Re[_e][ye]=et>=0?nt.getAt(et):0}}var or=0;for(ye=0;ye<V.length;ye+=1)or+=V[ye].totalCount;var Hr=new Array(or),jt=0;for(ye=0;ye<Ee;ye+=1)for(_e=0;_e<V.length;_e+=1)ye<$e[_e].length&&(Hr[jt]=$e[_e][ye],jt+=1);for(ye=0;ye<Le;ye+=1)for(_e=0;_e<V.length;_e+=1)ye<Re[_e].length&&(Hr[jt]=Re[_e][ye],jt+=1);return Hr}(G,F)};S.addData=function(P,z){var T=null;switch(z=z||"Byte"){case"Numeric":T=ue(P);break;case"Alphanumeric":T=Pe(P);break;case"Byte":T=qe(P);break;case"Kanji":T=Ze(P);break;default:throw"mode:"+z}g.push(T),_=null},S.isDark=function(P,z){if(P<0||b<=P||z<0||b<=z)throw P+","+z;return m[P][z]},S.getModuleCount=function(){return b},S.make=function(){if(L<1){for(var P=1;P<40;P++){for(var z=ge.getRSBlocks(P,w),T=J(),F=0;F<g.length;F++){var G=g[F];T.put(G.getMode(),4),T.put(G.getLength(),le.getLengthInBits(G.getMode(),P)),G.write(T)}var he=0;for(F=0;F<z.length;F++)he+=z[F].dataCount;if(T.getLengthInBits()<=8*he)break}L=P}B(!1,function(){for(var Se=0,Ce=0,Te=0;Te<8;Te+=1){B(!0,Te);var V=le.getLostPoint(S);(Te==0||Se>V)&&(Se=V,Ce=Te)}return Ce}())},S.createTableTag=function(P,z){P=P||2;var T="";T+='<table style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: "+(z=z===void 0?4*P:z)+"px;",T+='">',T+="<tbody>";for(var F=0;F<S.getModuleCount();F+=1){T+="<tr>";for(var G=0;G<S.getModuleCount();G+=1)T+='<td style="',T+=" border-width: 0px; border-style: none;",T+=" border-collapse: collapse;",T+=" padding: 0px; margin: 0px;",T+=" width: "+P+"px;",T+=" height: "+P+"px;",T+=" background-color: ",T+=S.isDark(F,G)?"#000000":"#ffffff",T+=";",T+='"/>';T+="</tr>"}return(T+="</tbody>")+"</table>"},S.createSvgTag=function(P,z,T,F){var G={};typeof arguments[0]=="object"&&(P=(G=arguments[0]).cellSize,z=G.margin,T=G.alt,F=G.title),P=P||2,z=z===void 0?4*P:z,(T=typeof T=="string"?{text:T}:T||{}).text=T.text||null,T.id=T.text?T.id||"qrcode-description":null,(F=typeof F=="string"?{text:F}:F||{}).text=F.text||null,F.id=F.text?F.id||"qrcode-title":null;var he,Se,Ce,Te,V=S.getModuleCount()*P+2*z,fe="";for(Te="l"+P+",0 0,"+P+" -"+P+",0 0,-"+P+"z ",fe+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',fe+=G.scalable?"":' width="'+V+'px" height="'+V+'px"',fe+=' viewBox="0 0 '+V+" "+V+'" ',fe+=' preserveAspectRatio="xMinYMin meet"',fe+=F.text||T.text?' role="img" aria-labelledby="'+be([F.id,T.id].join(" ").trim())+'"':"",fe+=">",fe+=F.text?'<title id="'+be(F.id)+'">'+be(F.text)+"</title>":"",fe+=T.text?'<description id="'+be(T.id)+'">'+be(T.text)+"</description>":"",fe+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',fe+='<path d="',Se=0;Se<S.getModuleCount();Se+=1)for(Ce=Se*P+z,he=0;he<S.getModuleCount();he+=1)S.isDark(Se,he)&&(fe+="M"+(he*P+z)+","+Ce+Te);return(fe+='" stroke="transparent" fill="black"/>')+"</svg>"},S.createDataURL=function(P,z){P=P||2,z=z===void 0?4*P:z;var T=S.getModuleCount()*P+2*z,F=z,G=T-z;return He(T,T,function(he,Se){if(F<=he&&he<G&&F<=Se&&Se<G){var Ce=Math.floor((he-F)/P),Te=Math.floor((Se-F)/P);return S.isDark(Te,Ce)?0:1}return 1})},S.createImgTag=function(P,z,T){P=P||2,z=z===void 0?4*P:z;var F=S.getModuleCount()*P+2*z,G="";return G+="<img",G+=' src="',G+=S.createDataURL(P,z),G+='"',G+=' width="',G+=F,G+='"',G+=' height="',G+=F,G+='"',T&&(G+=' alt="',G+=be(T),G+='"'),G+"/>"};var be=function(P){for(var z="",T=0;T<P.length;T+=1){var F=P.charAt(T);switch(F){case"<":z+="&lt;";break;case">":z+="&gt;";break;case"&":z+="&amp;";break;case'"':z+="&quot;";break;default:z+=F}}return z};return S.createASCII=function(P,z){if((P=P||1)<2)return function($e){$e=$e===void 0?2:$e;var Re,_e,ve,De,ye,We=1*S.getModuleCount()+2*$e,nt=$e,et=We-$e,or={"██":"█","█ ":"▀"," █":"▄","  ":" "},Hr={"██":"▀","█ ":"▀"," █":" ","  ":" "},jt="";for(Re=0;Re<We;Re+=2){for(ve=Math.floor((Re-nt)/1),De=Math.floor((Re+1-nt)/1),_e=0;_e<We;_e+=1)ye="█",nt<=_e&&_e<et&&nt<=Re&&Re<et&&S.isDark(ve,Math.floor((_e-nt)/1))&&(ye=" "),nt<=_e&&_e<et&&nt<=Re+1&&Re+1<et&&S.isDark(De,Math.floor((_e-nt)/1))?ye+=" ":ye+="█",jt+=$e<1&&Re+1>=et?Hr[ye]:or[ye];jt+=`
`}return We%2&&$e>0?jt.substring(0,jt.length-We-1)+Array(We+1).join("▀"):jt.substring(0,jt.length-1)}(z);P-=1,z=z===void 0?2*P:z;var T,F,G,he,Se=S.getModuleCount()*P+2*z,Ce=z,Te=Se-z,V=Array(P+1).join("██"),fe=Array(P+1).join("  "),Ee="",Le="";for(T=0;T<Se;T+=1){for(G=Math.floor((T-Ce)/P),Le="",F=0;F<Se;F+=1)he=1,Ce<=F&&F<Te&&Ce<=T&&T<Te&&S.isDark(G,Math.floor((F-Ce)/P))&&(he=0),Le+=he?V:fe;for(G=0;G<P;G+=1)Ee+=Le+`
`}return Ee.substring(0,Ee.length-1)},S.renderTo2dContext=function(P,z){z=z||2;for(var T=S.getModuleCount(),F=0;F<T;F++)for(var G=0;G<T;G++)P.fillStyle=S.isDark(F,G)?"black":"white",P.fillRect(F*z,G*z,z,z)},S};j.stringToBytes=(j.stringToBytesFuncs={default:function(K){for(var Q=[],L=0;L<K.length;L+=1){var w=K.charCodeAt(L);Q.push(255&w)}return Q}}).default,j.createStringToBytes=function(K,Q){var L=function(){for(var m=lt(K),b=function(){var ne=m.read();if(ne==-1)throw"eof";return ne},_=0,g={};;){var S=m.read();if(S==-1)break;var B=b(),D=b()<<8|b();g[String.fromCharCode(S<<8|B)]=D,_+=1}if(_!=Q)throw _+" != "+Q;return g}(),w=63;return function(m){for(var b=[],_=0;_<m.length;_+=1){var g=m.charCodeAt(_);if(g<128)b.push(g);else{var S=L[m.charAt(_)];typeof S=="number"?(255&S)==S?b.push(S):(b.push(S>>>8),b.push(255&S)):b.push(w)}}return b}};var R,I,W,U,M,te={L:1,M:0,Q:3,H:2},le=(R=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],I=1335,W=7973,M=function(K){for(var Q=0;K!=0;)Q+=1,K>>>=1;return Q},(U={}).getBCHTypeInfo=function(K){for(var Q=K<<10;M(Q)-M(I)>=0;)Q^=I<<M(Q)-M(I);return 21522^(K<<10|Q)},U.getBCHTypeNumber=function(K){for(var Q=K<<12;M(Q)-M(W)>=0;)Q^=W<<M(Q)-M(W);return K<<12|Q},U.getPatternPosition=function(K){return R[K-1]},U.getMaskFunction=function(K){switch(K){case 0:return function(Q,L){return(Q+L)%2==0};case 1:return function(Q,L){return Q%2==0};case 2:return function(Q,L){return L%3==0};case 3:return function(Q,L){return(Q+L)%3==0};case 4:return function(Q,L){return(Math.floor(Q/2)+Math.floor(L/3))%2==0};case 5:return function(Q,L){return Q*L%2+Q*L%3==0};case 6:return function(Q,L){return(Q*L%2+Q*L%3)%2==0};case 7:return function(Q,L){return(Q*L%3+(Q+L)%2)%2==0};default:throw"bad maskPattern:"+K}},U.getErrorCorrectPolynomial=function(K){for(var Q=oe([1],0),L=0;L<K;L+=1)Q=Q.multiply(oe([1,H.gexp(L)],0));return Q},U.getLengthInBits=function(K,Q){if(1<=Q&&Q<10)switch(K){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+K}else if(Q<27)switch(K){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+K}else{if(!(Q<41))throw"type:"+Q;switch(K){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+K}}},U.getLostPoint=function(K){for(var Q=K.getModuleCount(),L=0,w=0;w<Q;w+=1)for(var m=0;m<Q;m+=1){for(var b=0,_=K.isDark(w,m),g=-1;g<=1;g+=1)if(!(w+g<0||Q<=w+g))for(var S=-1;S<=1;S+=1)m+S<0||Q<=m+S||g==0&&S==0||_==K.isDark(w+g,m+S)&&(b+=1);b>5&&(L+=3+b-5)}for(w=0;w<Q-1;w+=1)for(m=0;m<Q-1;m+=1){var B=0;K.isDark(w,m)&&(B+=1),K.isDark(w+1,m)&&(B+=1),K.isDark(w,m+1)&&(B+=1),K.isDark(w+1,m+1)&&(B+=1),B!=0&&B!=4||(L+=3)}for(w=0;w<Q;w+=1)for(m=0;m<Q-6;m+=1)K.isDark(w,m)&&!K.isDark(w,m+1)&&K.isDark(w,m+2)&&K.isDark(w,m+3)&&K.isDark(w,m+4)&&!K.isDark(w,m+5)&&K.isDark(w,m+6)&&(L+=40);for(m=0;m<Q;m+=1)for(w=0;w<Q-6;w+=1)K.isDark(w,m)&&!K.isDark(w+1,m)&&K.isDark(w+2,m)&&K.isDark(w+3,m)&&K.isDark(w+4,m)&&!K.isDark(w+5,m)&&K.isDark(w+6,m)&&(L+=40);var D=0;for(m=0;m<Q;m+=1)for(w=0;w<Q;w+=1)K.isDark(w,m)&&(D+=1);return L+Math.abs(100*D/Q/Q-50)/5*10},U),H=function(){for(var K=new Array(256),Q=new Array(256),L=0;L<8;L+=1)K[L]=1<<L;for(L=8;L<256;L+=1)K[L]=K[L-4]^K[L-5]^K[L-6]^K[L-8];for(L=0;L<255;L+=1)Q[K[L]]=L;return{glog:function(w){if(w<1)throw"glog("+w+")";return Q[w]},gexp:function(w){for(;w<0;)w+=255;for(;w>=256;)w-=255;return K[w]}}}();function oe(K,Q){if(K.length===void 0)throw K.length+"/"+Q;var L=function(){for(var m=0;m<K.length&&K[m]==0;)m+=1;for(var b=new Array(K.length-m+Q),_=0;_<K.length-m;_+=1)b[_]=K[_+m];return b}(),w={getAt:function(m){return L[m]},getLength:function(){return L.length},multiply:function(m){for(var b=new Array(w.getLength()+m.getLength()-1),_=0;_<w.getLength();_+=1)for(var g=0;g<m.getLength();g+=1)b[_+g]^=H.gexp(H.glog(w.getAt(_))+H.glog(m.getAt(g)));return oe(b,0)},mod:function(m){if(w.getLength()-m.getLength()<0)return w;for(var b=H.glog(w.getAt(0))-H.glog(m.getAt(0)),_=new Array(w.getLength()),g=0;g<w.getLength();g+=1)_[g]=w.getAt(g);for(g=0;g<m.getLength();g+=1)_[g]^=H.gexp(H.glog(m.getAt(g))+b);return oe(_,0).mod(m)}};return w}var ge=function(){var K=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Q=function(w,m){var b={};return b.totalCount=w,b.dataCount=m,b},L={getRSBlocks:function(w,m){var b=function(ie,X){switch(X){case te.L:return K[4*(ie-1)+0];case te.M:return K[4*(ie-1)+1];case te.Q:return K[4*(ie-1)+2];case te.H:return K[4*(ie-1)+3];default:return}}(w,m);if(b===void 0)throw"bad rs block @ typeNumber:"+w+"/errorCorrectionLevel:"+m;for(var _=b.length/3,g=[],S=0;S<_;S+=1)for(var B=b[3*S+0],D=b[3*S+1],ne=b[3*S+2],Z=0;Z<B;Z+=1)g.push(Q(D,ne));return g}};return L}(),J=function(){var K=[],Q=0,L={getBuffer:function(){return K},getAt:function(w){var m=Math.floor(w/8);return(K[m]>>>7-w%8&1)==1},put:function(w,m){for(var b=0;b<m;b+=1)L.putBit((w>>>m-b-1&1)==1)},getLengthInBits:function(){return Q},putBit:function(w){var m=Math.floor(Q/8);K.length<=m&&K.push(0),w&&(K[m]|=128>>>Q%8),Q+=1}};return L},ue=function(K){var Q=K,L={getMode:function(){return 1},getLength:function(b){return Q.length},write:function(b){for(var _=Q,g=0;g+2<_.length;)b.put(w(_.substring(g,g+3)),10),g+=3;g<_.length&&(_.length-g==1?b.put(w(_.substring(g,g+1)),4):_.length-g==2&&b.put(w(_.substring(g,g+2)),7))}},w=function(b){for(var _=0,g=0;g<b.length;g+=1)_=10*_+m(b.charAt(g));return _},m=function(b){if("0"<=b&&b<="9")return b.charCodeAt(0)-48;throw"illegal char :"+b};return L},Pe=function(K){var Q=K,L={getMode:function(){return 2},getLength:function(m){return Q.length},write:function(m){for(var b=Q,_=0;_+1<b.length;)m.put(45*w(b.charAt(_))+w(b.charAt(_+1)),11),_+=2;_<b.length&&m.put(w(b.charAt(_)),6)}},w=function(m){if("0"<=m&&m<="9")return m.charCodeAt(0)-48;if("A"<=m&&m<="Z")return m.charCodeAt(0)-65+10;switch(m){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+m}};return L},qe=function(K){var Q=j.stringToBytes(K);return{getMode:function(){return 4},getLength:function(L){return Q.length},write:function(L){for(var w=0;w<Q.length;w+=1)L.put(Q[w],8)}}},Ze=function(K){var Q=j.stringToBytesFuncs.SJIS;if(!Q)throw"sjis not supported.";(function(){var m=Q("友");if(m.length!=2||(m[0]<<8|m[1])!=38726)throw"sjis not supported."})();var L=Q(K),w={getMode:function(){return 8},getLength:function(m){return~~(L.length/2)},write:function(m){for(var b=L,_=0;_+1<b.length;){var g=(255&b[_])<<8|255&b[_+1];if(33088<=g&&g<=40956)g-=33088;else{if(!(57408<=g&&g<=60351))throw"illegal char at "+(_+1)+"/"+g;g-=49472}g=192*(g>>>8&255)+(255&g),m.put(g,13),_+=2}if(_<b.length)throw"illegal char at "+(_+1)}};return w},gt=function(){var K=[],Q={writeByte:function(L){K.push(255&L)},writeShort:function(L){Q.writeByte(L),Q.writeByte(L>>>8)},writeBytes:function(L,w,m){w=w||0,m=m||L.length;for(var b=0;b<m;b+=1)Q.writeByte(L[b+w])},writeString:function(L){for(var w=0;w<L.length;w+=1)Q.writeByte(L.charCodeAt(w))},toByteArray:function(){return K},toString:function(){var L="";L+="[";for(var w=0;w<K.length;w+=1)w>0&&(L+=","),L+=K[w];return L+"]"}};return Q},lt=function(K){var Q=K,L=0,w=0,m=0,b={read:function(){for(;m<8;){if(L>=Q.length){if(m==0)return-1;throw"unexpected end of file./"+m}var g=Q.charAt(L);if(L+=1,g=="=")return m=0,-1;g.match(/^\s$/)||(w=w<<6|_(g.charCodeAt(0)),m+=6)}var S=w>>>m-8&255;return m-=8,S}},_=function(g){if(65<=g&&g<=90)return g-65;if(97<=g&&g<=122)return g-97+26;if(48<=g&&g<=57)return g-48+52;if(g==43)return 62;if(g==47)return 63;throw"c:"+g};return b},He=function(K,Q,L){for(var w=function(D,ne){var Z=D,ie=ne,X=new Array(D*ne),ae={setPixel:function(P,z,T){X[z*Z+P]=T},write:function(P){P.writeString("GIF87a"),P.writeShort(Z),P.writeShort(ie),P.writeByte(128),P.writeByte(0),P.writeByte(0),P.writeByte(0),P.writeByte(0),P.writeByte(0),P.writeByte(255),P.writeByte(255),P.writeByte(255),P.writeString(","),P.writeShort(0),P.writeShort(0),P.writeShort(Z),P.writeShort(ie),P.writeByte(0);var z=xe(2);P.writeByte(2);for(var T=0;z.length-T>255;)P.writeByte(255),P.writeBytes(z,T,255),T+=255;P.writeByte(z.length-T),P.writeBytes(z,T,z.length-T),P.writeByte(0),P.writeString(";")}},xe=function(P){for(var z=1<<P,T=1+(1<<P),F=P+1,G=be(),he=0;he<z;he+=1)G.add(String.fromCharCode(he));G.add(String.fromCharCode(z)),G.add(String.fromCharCode(T));var Se,Ce,Te,V=gt(),fe=(Se=V,Ce=0,Te=0,{write:function(Re,_e){if(Re>>>_e)throw"length over";for(;Ce+_e>=8;)Se.writeByte(255&(Re<<Ce|Te)),_e-=8-Ce,Re>>>=8-Ce,Te=0,Ce=0;Te|=Re<<Ce,Ce+=_e},flush:function(){Ce>0&&Se.writeByte(Te)}});fe.write(z,F);var Ee=0,Le=String.fromCharCode(X[Ee]);for(Ee+=1;Ee<X.length;){var $e=String.fromCharCode(X[Ee]);Ee+=1,G.contains(Le+$e)?Le+=$e:(fe.write(G.indexOf(Le),F),G.size()<4095&&(G.size()==1<<F&&(F+=1),G.add(Le+$e)),Le=$e)}return fe.write(G.indexOf(Le),F),fe.write(T,F),fe.flush(),V.toByteArray()},be=function(){var P={},z=0,T={add:function(F){if(T.contains(F))throw"dup key:"+F;P[F]=z,z+=1},size:function(){return z},indexOf:function(F){return P[F]},contains:function(F){return P[F]!==void 0}};return T};return ae}(K,Q),m=0;m<Q;m+=1)for(var b=0;b<K;b+=1)w.setPixel(b,m,L(b,m));var _=gt();w.write(_);for(var g=function(){var D=0,ne=0,Z=0,ie="",X={},ae=function(be){ie+=String.fromCharCode(xe(63&be))},xe=function(be){if(!(be<0)){if(be<26)return 65+be;if(be<52)return be-26+97;if(be<62)return be-52+48;if(be==62)return 43;if(be==63)return 47}throw"n:"+be};return X.writeByte=function(be){for(D=D<<8|255&be,ne+=8,Z+=1;ne>=6;)ae(D>>>ne-6),ne-=6},X.flush=function(){if(ne>0&&(ae(D<<6-ne),D=0,ne=0),Z%3!=0)for(var be=3-Z%3,P=0;P<be;P+=1)ie+="="},X.toString=function(){return ie},X}(),S=_.toByteArray(),B=0;B<S.length;B+=1)g.writeByte(S[B]);return g.flush(),"data:image/gif;base64,"+g};return j}();k.stringToBytesFuncs["UTF-8"]=function(j){return function(R){for(var I=[],W=0;W<R.length;W++){var U=R.charCodeAt(W);U<128?I.push(U):U<2048?I.push(192|U>>6,128|63&U):U<55296||U>=57344?I.push(224|U>>12,128|U>>6&63,128|63&U):(W++,U=65536+((1023&U)<<10|1023&R.charCodeAt(W)),I.push(240|U>>18,128|U>>12&63,128|U>>6&63,128|63&U))}return I}(j)},(x=typeof(v=function(){return k})=="function"?v.apply(p,[]):v)===void 0||(f.exports=x)}},i={};function l(f){var p=i[f];if(p!==void 0)return p.exports;var v=i[f]={exports:{}};return s[f](v,v.exports,l),v.exports}l.n=f=>{var p=f&&f.__esModule?()=>f.default:()=>f;return l.d(p,{a:p}),p},l.d=(f,p)=>{for(var v in p)l.o(p,v)&&!l.o(f,v)&&Object.defineProperty(f,v,{enumerable:!0,get:p[v]})},l.o=(f,p)=>Object.prototype.hasOwnProperty.call(f,p);var c={};return(()=>{l.d(c,{default:()=>Q});const f=L=>!!L&&typeof L=="object"&&!Array.isArray(L);function p(L,...w){if(!w.length)return L;const m=w.shift();return m!==void 0&&f(L)&&f(m)?(L=Object.assign({},L),Object.keys(m).forEach(b=>{const _=L[b],g=m[b];Array.isArray(_)&&Array.isArray(g)?L[b]=g:f(_)&&f(g)?L[b]=p(Object.assign({},_),g):L[b]=g}),p(L,...w)):L}function v(L,w){const m=document.createElement("a");m.download=w,m.href=L,document.body.appendChild(m),m.click(),document.body.removeChild(m)}const x={L:.07,M:.15,Q:.25,H:.3};class k{constructor({svg:w,type:m,window:b}){this._svg=w,this._type=m,this._window=b}draw(w,m,b,_){let g;switch(this._type){case"dots":g=this._drawDot;break;case"classy":g=this._drawClassy;break;case"classy-rounded":g=this._drawClassyRounded;break;case"rounded":g=this._drawRounded;break;case"extra-rounded":g=this._drawExtraRounded;break;default:g=this._drawSquare}g.call(this,{x:w,y:m,size:b,getNeighbor:_})}_rotateFigure({x:w,y:m,size:b,rotation:_=0,draw:g}){var S;const B=w+b/2,D=m+b/2;g(),(S=this._element)===null||S===void 0||S.setAttribute("transform",`rotate(${180*_/Math.PI},${B},${D})`)}_basicDot(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(b+m/2)),this._element.setAttribute("cy",String(_+m/2)),this._element.setAttribute("r",String(m/2))}}))}_basicSquare(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(b)),this._element.setAttribute("y",String(_)),this._element.setAttribute("width",String(m)),this._element.setAttribute("height",String(m))}}))}_basicSideRounded(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${b} ${_}v ${m}h `+m/2+`a ${m/2} ${m/2}, 0, 0, 0, 0 ${-m}`)}}))}_basicCornerRounded(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${b} ${_}v ${m}h ${m}v `+-m/2+`a ${m/2} ${m/2}, 0, 0, 0, ${-m/2} ${-m/2}`)}}))}_basicCornerExtraRounded(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${b} ${_}v ${m}h ${m}a ${m} ${m}, 0, 0, 0, ${-m} ${-m}`)}}))}_basicCornersRounded(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${b} ${_}v `+m/2+`a ${m/2} ${m/2}, 0, 0, 0, ${m/2} ${m/2}h `+m/2+"v "+-m/2+`a ${m/2} ${m/2}, 0, 0, 0, ${-m/2} ${-m/2}`)}}))}_drawDot({x:w,y:m,size:b}){this._basicDot({x:w,y:m,size:b,rotation:0})}_drawSquare({x:w,y:m,size:b}){this._basicSquare({x:w,y:m,size:b,rotation:0})}_drawRounded({x:w,y:m,size:b,getNeighbor:_}){const g=_?+_(-1,0):0,S=_?+_(1,0):0,B=_?+_(0,-1):0,D=_?+_(0,1):0,ne=g+S+B+D;if(ne!==0)if(ne>2||g&&S||B&&D)this._basicSquare({x:w,y:m,size:b,rotation:0});else{if(ne===2){let Z=0;return g&&B?Z=Math.PI/2:B&&S?Z=Math.PI:S&&D&&(Z=-Math.PI/2),void this._basicCornerRounded({x:w,y:m,size:b,rotation:Z})}if(ne===1){let Z=0;return B?Z=Math.PI/2:S?Z=Math.PI:D&&(Z=-Math.PI/2),void this._basicSideRounded({x:w,y:m,size:b,rotation:Z})}}else this._basicDot({x:w,y:m,size:b,rotation:0})}_drawExtraRounded({x:w,y:m,size:b,getNeighbor:_}){const g=_?+_(-1,0):0,S=_?+_(1,0):0,B=_?+_(0,-1):0,D=_?+_(0,1):0,ne=g+S+B+D;if(ne!==0)if(ne>2||g&&S||B&&D)this._basicSquare({x:w,y:m,size:b,rotation:0});else{if(ne===2){let Z=0;return g&&B?Z=Math.PI/2:B&&S?Z=Math.PI:S&&D&&(Z=-Math.PI/2),void this._basicCornerExtraRounded({x:w,y:m,size:b,rotation:Z})}if(ne===1){let Z=0;return B?Z=Math.PI/2:S?Z=Math.PI:D&&(Z=-Math.PI/2),void this._basicSideRounded({x:w,y:m,size:b,rotation:Z})}}else this._basicDot({x:w,y:m,size:b,rotation:0})}_drawClassy({x:w,y:m,size:b,getNeighbor:_}){const g=_?+_(-1,0):0,S=_?+_(1,0):0,B=_?+_(0,-1):0,D=_?+_(0,1):0;g+S+B+D!==0?g||B?S||D?this._basicSquare({x:w,y:m,size:b,rotation:0}):this._basicCornerRounded({x:w,y:m,size:b,rotation:Math.PI/2}):this._basicCornerRounded({x:w,y:m,size:b,rotation:-Math.PI/2}):this._basicCornersRounded({x:w,y:m,size:b,rotation:Math.PI/2})}_drawClassyRounded({x:w,y:m,size:b,getNeighbor:_}){const g=_?+_(-1,0):0,S=_?+_(1,0):0,B=_?+_(0,-1):0,D=_?+_(0,1):0;g+S+B+D!==0?g||B?S||D?this._basicSquare({x:w,y:m,size:b,rotation:0}):this._basicCornerExtraRounded({x:w,y:m,size:b,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:w,y:m,size:b,rotation:-Math.PI/2}):this._basicCornersRounded({x:w,y:m,size:b,rotation:Math.PI/2})}}const j={dot:"dot",square:"square",extraRounded:"extra-rounded"},R=Object.values(j);class I{constructor({svg:w,type:m,window:b}){this._svg=w,this._type=m,this._window=b}draw(w,m,b,_){let g;switch(this._type){case j.square:g=this._drawSquare;break;case j.extraRounded:g=this._drawExtraRounded;break;default:g=this._drawDot}g.call(this,{x:w,y:m,size:b,rotation:_})}_rotateFigure({x:w,y:m,size:b,rotation:_=0,draw:g}){var S;const B=w+b/2,D=m+b/2;g(),(S=this._element)===null||S===void 0||S.setAttribute("transform",`rotate(${180*_/Math.PI},${B},${D})`)}_basicDot(w){const{size:m,x:b,y:_}=w,g=m/7;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${b+m/2} ${_}a ${m/2} ${m/2} 0 1 0 0.1 0zm 0 ${g}a ${m/2-g} ${m/2-g} 0 1 1 -0.1 0Z`)}}))}_basicSquare(w){const{size:m,x:b,y:_}=w,g=m/7;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${b} ${_}v ${m}h ${m}v `+-m+`zM ${b+g} ${_+g}h `+(m-2*g)+"v "+(m-2*g)+"h "+(2*g-m)+"z")}}))}_basicExtraRounded(w){const{size:m,x:b,y:_}=w,g=m/7;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${b} ${_+2.5*g}v `+2*g+`a ${2.5*g} ${2.5*g}, 0, 0, 0, ${2.5*g} ${2.5*g}h `+2*g+`a ${2.5*g} ${2.5*g}, 0, 0, 0, ${2.5*g} ${2.5*-g}v `+-2*g+`a ${2.5*g} ${2.5*g}, 0, 0, 0, ${2.5*-g} ${2.5*-g}h `+-2*g+`a ${2.5*g} ${2.5*g}, 0, 0, 0, ${2.5*-g} ${2.5*g}M ${b+2.5*g} ${_+g}h `+2*g+`a ${1.5*g} ${1.5*g}, 0, 0, 1, ${1.5*g} ${1.5*g}v `+2*g+`a ${1.5*g} ${1.5*g}, 0, 0, 1, ${1.5*-g} ${1.5*g}h `+-2*g+`a ${1.5*g} ${1.5*g}, 0, 0, 1, ${1.5*-g} ${1.5*-g}v `+-2*g+`a ${1.5*g} ${1.5*g}, 0, 0, 1, ${1.5*g} ${1.5*-g}`)}}))}_drawDot({x:w,y:m,size:b,rotation:_}){this._basicDot({x:w,y:m,size:b,rotation:_})}_drawSquare({x:w,y:m,size:b,rotation:_}){this._basicSquare({x:w,y:m,size:b,rotation:_})}_drawExtraRounded({x:w,y:m,size:b,rotation:_}){this._basicExtraRounded({x:w,y:m,size:b,rotation:_})}}const W={dot:"dot",square:"square"},U=Object.values(W);class M{constructor({svg:w,type:m,window:b}){this._svg=w,this._type=m,this._window=b}draw(w,m,b,_){let g;g=this._type===W.square?this._drawSquare:this._drawDot,g.call(this,{x:w,y:m,size:b,rotation:_})}_rotateFigure({x:w,y:m,size:b,rotation:_=0,draw:g}){var S;const B=w+b/2,D=m+b/2;g(),(S=this._element)===null||S===void 0||S.setAttribute("transform",`rotate(${180*_/Math.PI},${B},${D})`)}_basicDot(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(b+m/2)),this._element.setAttribute("cy",String(_+m/2)),this._element.setAttribute("r",String(m/2))}}))}_basicSquare(w){const{size:m,x:b,y:_}=w;this._rotateFigure(Object.assign(Object.assign({},w),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(b)),this._element.setAttribute("y",String(_)),this._element.setAttribute("width",String(m)),this._element.setAttribute("height",String(m))}}))}_drawDot({x:w,y:m,size:b,rotation:_}){this._basicDot({x:w,y:m,size:b,rotation:_})}_drawSquare({x:w,y:m,size:b,rotation:_}){this._basicSquare({x:w,y:m,size:b,rotation:_})}}const te="circle",le=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],H=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class oe{constructor(w,m){this._roundSize=b=>this._options.dotsOptions.roundSize?Math.floor(b):b,this._window=m,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(w.width)),this._element.setAttribute("height",String(w.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),w.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${w.width} ${w.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=w.image,this._instanceId=oe.instanceCount++,this._options=w}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(w){const m=w.getModuleCount(),b=Math.min(this._options.width,this._options.height)-2*this._options.margin,_=this._options.shape===te?b/Math.sqrt(2):b,g=this._roundSize(_/m);let S={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=w,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:B,qrOptions:D}=this._options,ne=B.imageSize*x[D.errorCorrectionLevel],Z=Math.floor(ne*m*m);S=function({originalHeight:ie,originalWidth:X,maxHiddenDots:ae,maxHiddenAxisDots:xe,dotSize:be}){const P={x:0,y:0},z={x:0,y:0};if(ie<=0||X<=0||ae<=0||be<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const T=ie/X;return P.x=Math.floor(Math.sqrt(ae/T)),P.x<=0&&(P.x=1),xe&&xe<P.x&&(P.x=xe),P.x%2==0&&P.x--,z.x=P.x*be,P.y=1+2*Math.ceil((P.x*T-1)/2),z.y=Math.round(z.x*T),(P.y*P.x>ae||xe&&xe<P.y)&&(xe&&xe<P.y?(P.y=xe,P.y%2==0&&P.x--):P.y-=2,z.y=P.y*be,P.x=1+2*Math.ceil((P.y/T-1)/2),z.x=Math.round(z.y/T)),{height:z.y,width:z.x,hideYDots:P.y,hideXDots:P.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:Z,maxHiddenAxisDots:m-14,dotSize:g})}this.drawBackground(),this.drawDots((B,D)=>{var ne,Z,ie,X,ae,xe;return!(this._options.imageOptions.hideBackgroundDots&&B>=(m-S.hideYDots)/2&&B<(m+S.hideYDots)/2&&D>=(m-S.hideXDots)/2&&D<(m+S.hideXDots)/2||!((ne=le[B])===null||ne===void 0)&&ne[D]||!((Z=le[B-m+7])===null||Z===void 0)&&Z[D]||!((ie=le[B])===null||ie===void 0)&&ie[D-m+7]||!((X=H[B])===null||X===void 0)&&X[D]||!((ae=H[B-m+7])===null||ae===void 0)&&ae[D]||!((xe=H[B])===null||xe===void 0)&&xe[D-m+7])}),this.drawCorners(),this._options.image&&await this.drawImage({width:S.width,height:S.height,count:m,dotSize:g})}drawBackground(){var w,m,b;const _=this._element,g=this._options;if(_){const S=(w=g.backgroundOptions)===null||w===void 0?void 0:w.gradient,B=(m=g.backgroundOptions)===null||m===void 0?void 0:m.color;let D=g.height,ne=g.width;if(S||B){const Z=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((b=g.backgroundOptions)===null||b===void 0)&&b.round&&(D=ne=Math.min(g.width,g.height),Z.setAttribute("rx",String(D/2*g.backgroundOptions.round))),Z.setAttribute("x",String(this._roundSize((g.width-ne)/2))),Z.setAttribute("y",String(this._roundSize((g.height-D)/2))),Z.setAttribute("width",String(ne)),Z.setAttribute("height",String(D)),this._backgroundClipPath.appendChild(Z),this._createColor({options:S,color:B,additionalRotation:0,x:0,y:0,height:g.height,width:g.width,name:`background-color-${this._instanceId}`})}}}drawDots(w){var m,b;if(!this._qr)throw"QR code is not defined";const _=this._options,g=this._qr.getModuleCount();if(g>_.width||g>_.height)throw"The canvas is too small.";const S=Math.min(_.width,_.height)-2*_.margin,B=_.shape===te?S/Math.sqrt(2):S,D=this._roundSize(B/g),ne=this._roundSize((_.width-g*D)/2),Z=this._roundSize((_.height-g*D)/2),ie=new k({svg:this._element,type:_.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(m=_.dotsOptions)===null||m===void 0?void 0:m.gradient,color:_.dotsOptions.color,additionalRotation:0,x:0,y:0,height:_.height,width:_.width,name:`dot-color-${this._instanceId}`});for(let X=0;X<g;X++)for(let ae=0;ae<g;ae++)w&&!w(X,ae)||!((b=this._qr)===null||b===void 0)&&b.isDark(X,ae)&&(ie.draw(ne+ae*D,Z+X*D,D,(xe,be)=>!(ae+xe<0||X+be<0||ae+xe>=g||X+be>=g)&&!(w&&!w(X+be,ae+xe))&&!!this._qr&&this._qr.isDark(X+be,ae+xe)),ie._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(ie._element));if(_.shape===te){const X=this._roundSize((S/D-g)/2),ae=g+2*X,xe=ne-X*D,be=Z-X*D,P=[],z=this._roundSize(ae/2);for(let T=0;T<ae;T++){P[T]=[];for(let F=0;F<ae;F++)T>=X-1&&T<=ae-X&&F>=X-1&&F<=ae-X||Math.sqrt((T-z)*(T-z)+(F-z)*(F-z))>z?P[T][F]=0:P[T][F]=this._qr.isDark(F-2*X<0?F:F>=g?F-2*X:F-X,T-2*X<0?T:T>=g?T-2*X:T-X)?1:0}for(let T=0;T<ae;T++)for(let F=0;F<ae;F++)P[T][F]&&(ie.draw(xe+F*D,be+T*D,D,(G,he)=>{var Se;return!!(!((Se=P[T+he])===null||Se===void 0)&&Se[F+G])}),ie._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(ie._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const w=this._element,m=this._options;if(!w)throw"Element code is not defined";const b=this._qr.getModuleCount(),_=Math.min(m.width,m.height)-2*m.margin,g=m.shape===te?_/Math.sqrt(2):_,S=this._roundSize(g/b),B=7*S,D=3*S,ne=this._roundSize((m.width-b*S)/2),Z=this._roundSize((m.height-b*S)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([ie,X,ae])=>{var xe,be,P,z,T,F,G,he,Se,Ce,Te,V,fe,Ee;const Le=ne+ie*S*(b-7),$e=Z+X*S*(b-7);let Re=this._dotsClipPath,_e=this._dotsClipPath;if((!((xe=m.cornersSquareOptions)===null||xe===void 0)&&xe.gradient||!((be=m.cornersSquareOptions)===null||be===void 0)&&be.color)&&(Re=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),Re.setAttribute("id",`clip-path-corners-square-color-${ie}-${X}-${this._instanceId}`),this._defs.appendChild(Re),this._cornersSquareClipPath=this._cornersDotClipPath=_e=Re,this._createColor({options:(P=m.cornersSquareOptions)===null||P===void 0?void 0:P.gradient,color:(z=m.cornersSquareOptions)===null||z===void 0?void 0:z.color,additionalRotation:ae,x:Le,y:$e,height:B,width:B,name:`corners-square-color-${ie}-${X}-${this._instanceId}`})),((T=m.cornersSquareOptions)===null||T===void 0?void 0:T.type)&&R.includes(m.cornersSquareOptions.type)){const ve=new I({svg:this._element,type:m.cornersSquareOptions.type,window:this._window});ve.draw(Le,$e,B,ae),ve._element&&Re&&Re.appendChild(ve._element)}else{const ve=new k({svg:this._element,type:((F=m.cornersSquareOptions)===null||F===void 0?void 0:F.type)||m.dotsOptions.type,window:this._window});for(let De=0;De<le.length;De++)for(let ye=0;ye<le[De].length;ye++)!((G=le[De])===null||G===void 0)&&G[ye]&&(ve.draw(Le+ye*S,$e+De*S,S,(We,nt)=>{var et;return!!(!((et=le[De+nt])===null||et===void 0)&&et[ye+We])}),ve._element&&Re&&Re.appendChild(ve._element))}if((!((he=m.cornersDotOptions)===null||he===void 0)&&he.gradient||!((Se=m.cornersDotOptions)===null||Se===void 0)&&Se.color)&&(_e=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),_e.setAttribute("id",`clip-path-corners-dot-color-${ie}-${X}-${this._instanceId}`),this._defs.appendChild(_e),this._cornersDotClipPath=_e,this._createColor({options:(Ce=m.cornersDotOptions)===null||Ce===void 0?void 0:Ce.gradient,color:(Te=m.cornersDotOptions)===null||Te===void 0?void 0:Te.color,additionalRotation:ae,x:Le+2*S,y:$e+2*S,height:D,width:D,name:`corners-dot-color-${ie}-${X}-${this._instanceId}`})),((V=m.cornersDotOptions)===null||V===void 0?void 0:V.type)&&U.includes(m.cornersDotOptions.type)){const ve=new M({svg:this._element,type:m.cornersDotOptions.type,window:this._window});ve.draw(Le+2*S,$e+2*S,D,ae),ve._element&&_e&&_e.appendChild(ve._element)}else{const ve=new k({svg:this._element,type:((fe=m.cornersDotOptions)===null||fe===void 0?void 0:fe.type)||m.dotsOptions.type,window:this._window});for(let De=0;De<H.length;De++)for(let ye=0;ye<H[De].length;ye++)!((Ee=H[De])===null||Ee===void 0)&&Ee[ye]&&(ve.draw(Le+ye*S,$e+De*S,S,(We,nt)=>{var et;return!!(!((et=H[De+nt])===null||et===void 0)&&et[ye+We])}),ve._element&&_e&&_e.appendChild(ve._element))}})}loadImage(){return new Promise((w,m)=>{var b;const _=this._options;if(!_.image)return m("Image is not defined");if(!((b=_.nodeCanvas)===null||b===void 0)&&b.loadImage)_.nodeCanvas.loadImage(_.image).then(g=>{var S,B;if(this._image=g,this._options.imageOptions.saveAsBlob){const D=(S=_.nodeCanvas)===null||S===void 0?void 0:S.createCanvas(this._image.width,this._image.height);(B=D==null?void 0:D.getContext("2d"))===null||B===void 0||B.drawImage(g,0,0),this._imageUri=D==null?void 0:D.toDataURL()}w()}).catch(m);else{const g=new this._window.Image;typeof _.imageOptions.crossOrigin=="string"&&(g.crossOrigin=_.imageOptions.crossOrigin),this._image=g,g.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await async function(S,B){return new Promise(D=>{const ne=new B.XMLHttpRequest;ne.onload=function(){const Z=new B.FileReader;Z.onloadend=function(){D(Z.result)},Z.readAsDataURL(ne.response)},ne.open("GET",S),ne.responseType="blob",ne.send()})}(_.image||"",this._window)),w()},g.src=_.image}})}async drawImage({width:w,height:m,count:b,dotSize:_}){const g=this._options,S=this._roundSize((g.width-b*_)/2),B=this._roundSize((g.height-b*_)/2),D=S+this._roundSize(g.imageOptions.margin+(b*_-w)/2),ne=B+this._roundSize(g.imageOptions.margin+(b*_-m)/2),Z=w-2*g.imageOptions.margin,ie=m-2*g.imageOptions.margin,X=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");X.setAttribute("href",this._imageUri||""),X.setAttribute("xlink:href",this._imageUri||""),X.setAttribute("x",String(D)),X.setAttribute("y",String(ne)),X.setAttribute("width",`${Z}px`),X.setAttribute("height",`${ie}px`),this._element.appendChild(X)}_createColor({options:w,color:m,additionalRotation:b,x:_,y:g,height:S,width:B,name:D}){const ne=B>S?B:S,Z=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(Z.setAttribute("x",String(_)),Z.setAttribute("y",String(g)),Z.setAttribute("height",String(S)),Z.setAttribute("width",String(B)),Z.setAttribute("clip-path",`url('#clip-path-${D}')`),w){let ie;if(w.type==="radial")ie=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),ie.setAttribute("id",D),ie.setAttribute("gradientUnits","userSpaceOnUse"),ie.setAttribute("fx",String(_+B/2)),ie.setAttribute("fy",String(g+S/2)),ie.setAttribute("cx",String(_+B/2)),ie.setAttribute("cy",String(g+S/2)),ie.setAttribute("r",String(ne/2));else{const X=((w.rotation||0)+b)%(2*Math.PI),ae=(X+2*Math.PI)%(2*Math.PI);let xe=_+B/2,be=g+S/2,P=_+B/2,z=g+S/2;ae>=0&&ae<=.25*Math.PI||ae>1.75*Math.PI&&ae<=2*Math.PI?(xe-=B/2,be-=S/2*Math.tan(X),P+=B/2,z+=S/2*Math.tan(X)):ae>.25*Math.PI&&ae<=.75*Math.PI?(be-=S/2,xe-=B/2/Math.tan(X),z+=S/2,P+=B/2/Math.tan(X)):ae>.75*Math.PI&&ae<=1.25*Math.PI?(xe+=B/2,be+=S/2*Math.tan(X),P-=B/2,z-=S/2*Math.tan(X)):ae>1.25*Math.PI&&ae<=1.75*Math.PI&&(be+=S/2,xe+=B/2/Math.tan(X),z-=S/2,P-=B/2/Math.tan(X)),ie=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),ie.setAttribute("id",D),ie.setAttribute("gradientUnits","userSpaceOnUse"),ie.setAttribute("x1",String(Math.round(xe))),ie.setAttribute("y1",String(Math.round(be))),ie.setAttribute("x2",String(Math.round(P))),ie.setAttribute("y2",String(Math.round(z)))}w.colorStops.forEach(({offset:X,color:ae})=>{const xe=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");xe.setAttribute("offset",100*X+"%"),xe.setAttribute("stop-color",ae),ie.appendChild(xe)}),Z.setAttribute("fill",`url('#${D}')`),this._defs.appendChild(ie)}else m&&Z.setAttribute("fill",m);this._element.appendChild(Z)}}oe.instanceCount=0;const ge=oe,J="canvas",ue={};for(let L=0;L<=40;L++)ue[L]=L;const Pe={type:J,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:ue[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function qe(L){const w=Object.assign({},L);if(!w.colorStops||!w.colorStops.length)throw"Field 'colorStops' is required in gradient";return w.rotation?w.rotation=Number(w.rotation):w.rotation=0,w.colorStops=w.colorStops.map(m=>Object.assign(Object.assign({},m),{offset:Number(m.offset)})),w}function Ze(L){const w=Object.assign({},L);return w.width=Number(w.width),w.height=Number(w.height),w.margin=Number(w.margin),w.imageOptions=Object.assign(Object.assign({},w.imageOptions),{hideBackgroundDots:!!w.imageOptions.hideBackgroundDots,imageSize:Number(w.imageOptions.imageSize),margin:Number(w.imageOptions.margin)}),w.margin>Math.min(w.width,w.height)&&(w.margin=Math.min(w.width,w.height)),w.dotsOptions=Object.assign({},w.dotsOptions),w.dotsOptions.gradient&&(w.dotsOptions.gradient=qe(w.dotsOptions.gradient)),w.cornersSquareOptions&&(w.cornersSquareOptions=Object.assign({},w.cornersSquareOptions),w.cornersSquareOptions.gradient&&(w.cornersSquareOptions.gradient=qe(w.cornersSquareOptions.gradient))),w.cornersDotOptions&&(w.cornersDotOptions=Object.assign({},w.cornersDotOptions),w.cornersDotOptions.gradient&&(w.cornersDotOptions.gradient=qe(w.cornersDotOptions.gradient))),w.backgroundOptions&&(w.backgroundOptions=Object.assign({},w.backgroundOptions),w.backgroundOptions.gradient&&(w.backgroundOptions.gradient=qe(w.backgroundOptions.gradient))),w}var gt=l(873),lt=l.n(gt);function He(L){if(!L)throw new Error("Extension must be defined");L[0]==="."&&(L=L.substring(1));const w={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[L.toLowerCase()];if(!w)throw new Error(`Extension "${L}" is not supported`);return w}class K{constructor(w){w!=null&&w.jsdom?this._window=new w.jsdom("",{resources:"usable"}).window:this._window=window,this._options=w?Ze(p(Pe,w)):Pe,this.update()}static _clearContainer(w){w&&(w.innerHTML="")}_setupSvg(){if(!this._qr)return;const w=new ge(this._options,this._window);this._svg=w.getElement(),this._svgDrawingPromise=w.drawQR(this._qr).then(()=>{var m;this._svg&&((m=this._extension)===null||m===void 0||m.call(this,w.getElement(),this._options))})}_setupCanvas(){var w,m;this._qr&&(!((w=this._options.nodeCanvas)===null||w===void 0)&&w.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(m=this._svgDrawingPromise)===null||m===void 0?void 0:m.then(()=>{var b;if(!this._svg)return;const _=this._svg,g=new this._window.XMLSerializer().serializeToString(_),S=btoa(g),B=`data:${He("svg")};base64,${S}`;if(!((b=this._options.nodeCanvas)===null||b===void 0)&&b.loadImage)return this._options.nodeCanvas.loadImage(B).then(D=>{var ne,Z;D.width=this._options.width,D.height=this._options.height,(Z=(ne=this._nodeCanvas)===null||ne===void 0?void 0:ne.getContext("2d"))===null||Z===void 0||Z.drawImage(D,0,0)});{const D=new this._window.Image;return new Promise(ne=>{D.onload=()=>{var Z,ie;(ie=(Z=this._domCanvas)===null||Z===void 0?void 0:Z.getContext("2d"))===null||ie===void 0||ie.drawImage(D,0,0),ne()},D.src=B})}}))}async _getElement(w="png"){if(!this._qr)throw"QR code is empty";return w.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(w){K._clearContainer(this._container),this._options=w?Ze(p(this._options,w)):this._options,this._options.data&&(this._qr=lt()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(m){switch(!0){case/^[0-9]*$/.test(m):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(m):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===J?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(w){if(w){if(typeof w.appendChild!="function")throw"Container should be a single DOM node";this._options.type===J?this._domCanvas&&w.appendChild(this._domCanvas):this._svg&&w.appendChild(this._svg),this._container=w}}applyExtension(w){if(!w)throw"Extension function should be defined.";this._extension=w,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(w="png"){if(!this._qr)throw"QR code is empty";const m=await this._getElement(w),b=He(w);if(!m)return null;if(w.toLowerCase()==="svg"){const _=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(m)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(_):new Blob([_],{type:b})}return new Promise(_=>{const g=m;if("toBuffer"in g)if(b==="image/png")_(g.toBuffer(b));else if(b==="image/jpeg")_(g.toBuffer(b));else{if(b!=="application/pdf")throw Error("Unsupported extension");_(g.toBuffer(b))}else"toBlob"in g&&g.toBlob(_,b,1)})}async download(w){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let m="png",b="qr";typeof w=="string"?(m=w,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof w=="object"&&w!==null&&(w.name&&(b=w.name),w.extension&&(m=w.extension));const _=await this._getElement(m);if(_)if(m.toLowerCase()==="svg"){let g=new XMLSerializer().serializeToString(_);g=`<?xml version="1.0" standalone="no"?>\r
`+g,v(`data:${He(m)};charset=utf-8,${encodeURIComponent(g)}`,`${b}.svg`)}else v(_.toDataURL(He(m)),`${b}.${m}`)}}const Q=K})(),c.default})())}(pi)),pi.exports}var gy=my();const vy=Dl(gy),yy=a=>new Promise(n=>{new vy({width:200,height:200,data:`${window.location.origin}/join/${a}`,dotsOptions:{color:"#8B5CF6",type:"rounded"},backgroundOptions:{color:"#1F2937"},cornersSquareOptions:{color:"#06B6D4",type:"extra-rounded"},cornersDotOptions:{color:"#F59E0B"}}).getRawData("png").then(i=>{if(i){const l=URL.createObjectURL(i);n(l)}})}),mf=({currentUser:a,onShowAuth:n})=>{const[s,i]=q.useState(""),[l,c]=q.useState(24),[f,p]=q.useState(),[v,x]=q.useState(!1),[k,j]=q.useState(null),[R,I]=q.useState(""),[W,U]=q.useState(!1),[M,te]=q.useState(""),le=Js();q.useEffect(()=>{console.log("🏠 CreateRoom: Props updated:",{currentUser:a?{user_id:a.user_id,display_name:a.display_name,email:a.email,is_owner:a.is_owner}:null,onShowAuth:typeof n,hasOnShowAuth:!!n})},[a,n]);const H=async()=>{if(s.trim()){if(console.log("🚀 CreateRoom: Create room clicked"),console.log("👤 CreateRoom: Current user check:",a),!a){console.log("❌ CreateRoom: No current user, showing auth modal"),te("Please sign in to create a room."),n?(console.log("🔐 CreateRoom: Calling onShowAuth function"),n()):(console.log("❌ CreateRoom: onShowAuth function not available, trying window event"),window.dispatchEvent(new CustomEvent("show-auth-modal")));return}x(!0),te("");try{console.log("🏗️ CreateRoom: Creating room with user:",a.user_id);const J=await ay(s,l,f,a.user_id);j(J),await ff(a.user_id,"room_created",10,{room_id:J.room_id,room_name:s,expiry_hours:l});const ue=await yy(J.room_id);I(ue)}catch(J){console.error("❌ CreateRoom: Error creating room:",J),te(J.message||"Failed to create room. Please try again.")}finally{x(!1)}}},oe=()=>{const J=`${window.location.origin}/join/${k.room_id}`;navigator.clipboard.writeText(J),U(!0),setTimeout(()=>U(!1),2e3)},ge=async()=>{if(console.log("🚪 CreateRoom: Enter room clicked"),console.log("🏠 CreateRoom: Created room data:",k),console.log("👤 CreateRoom: Current user:",a),!k||!k.room_id){console.error("❌ CreateRoom: No room data available for navigation"),te("Room data not available. Please try creating the room again.");return}if(!a){console.error("❌ CreateRoom: No current user for room joining"),te("Please sign in to join the room.");return}try{console.log("🚪 CreateRoom: Starting room entry process...");const J=`user_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;console.log("🆔 CreateRoom: Generated consistent user ID:",J),console.log("🔍 CreateRoom: Verifying room exists in database...");const{data:ue,error:Pe}=await Ie.from("rooms").select("*").eq("room_id",k.room_id).single();if(Pe||!ue)throw console.error("❌ CreateRoom: Room not found in database:",Pe),new Error("Room not found in database. Please try creating the room again.");console.log("✅ CreateRoom: Room verified in database:",ue),console.log("👤 CreateRoom: Adding creator to room_users table...");const{data:qe,error:Ze}=await Ie.from("room_users").upsert({room_id:k.room_id,user_id:J,username:a.display_name,is_admin:!0},{onConflict:"room_id,user_id"}).select().single();if(Ze)throw console.error("❌ CreateRoom: Error adding creator to room_users:",Ze),new Error("Failed to join room: "+Ze.message);if(!qe)throw console.error("❌ CreateRoom: No user data returned from upsert"),new Error("Failed to create user session");console.log("✅ CreateRoom: Creator added to room successfully:",qe),console.log("🔍 CreateRoom: Verifying user was added to room...");const{data:gt,error:lt}=await Ie.from("room_users").select("*").eq("room_id",k.room_id).eq("user_id",J).single();if(lt||!gt)throw console.error("❌ CreateRoom: User verification failed:",lt),new Error("Failed to verify user was added to room");console.log("✅ CreateRoom: User verified in room_users table:",gt),await new Promise(He=>setTimeout(He,500)),console.log("🚪 CreateRoom: Navigating to chat room with state:",{room:k,user:qe}),le(`/room/${k.room_id}`,{state:{room:k,user:qe}})}catch(J){console.error("❌ CreateRoom: Error entering room:",J),te("Failed to enter room. Please try again.")}};return a?(console.log("✅ CreateRoom: User is logged in, showing create room form"),k?d.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-green-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx($r,{className:"h-8 w-8 text-green-400"})}),d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Room Created!"}),d.jsx("p",{className:"text-gray-400",children:"Your disposable chatroom is ready"})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("span",{className:"text-gray-400",children:"Room ID"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:"text-2xl font-mono font-bold text-purple-400",children:k.room_id}),d.jsx("button",{onClick:oe,className:"text-gray-400 hover:text-white transition-colors",children:W?d.jsx($r,{className:"h-5 w-5 text-green-400"}):d.jsx(jl,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[d.jsx("span",{className:"text-gray-400",children:"Created by"}),d.jsx("span",{className:"text-cyan-400 font-semibold",children:a.display_name})]}),d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-400",children:"Expires in"}),d.jsxs("span",{className:"text-cyan-400 font-semibold",children:[l," hours"]})]})]}),R&&d.jsxs("div",{className:"text-center",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Share QR Code"}),d.jsx("div",{className:"bg-white p-4 rounded-xl inline-block",children:d.jsx("img",{src:R,alt:"Room QR Code",className:"w-48 h-48"})})]}),M&&d.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 text-red-400 text-center",children:M}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsx("button",{onClick:ge,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105",children:"Enter Room"}),d.jsxs("button",{onClick:oe,className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 flex items-center justify-center space-x-2",children:[d.jsx(jl,{className:"h-5 w-5"}),d.jsx("span",{children:W?"Copied!":"Copy Link"})]})]})]})]})}):d.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create New Room"}),d.jsx("p",{className:"text-gray-400",children:"Set up your disposable chatroom"})]}),!1,M&&d.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 mb-6 text-red-400 text-center",children:M}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"bg-gradient-to-r from-purple-600/10 to-pink-600/10 border border-purple-500/30 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${a.is_owner?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white"}`,children:a.is_owner?"👑":a.display_name.charAt(0).toUpperCase()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-white font-medium",children:a.display_name}),d.jsxs("div",{className:"text-purple-400 text-sm",children:["Signed in • ",a.activity_score.toLocaleString()," pts"]})]}),d.jsx("div",{className:"text-xs text-gray-400 bg-gray-700/50 px-2 py-1 rounded-lg",children:"Creator"})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Room Name"}),d.jsx("input",{type:"text",value:s,onChange:J=>i(J.target.value),placeholder:"Enter room name (emojis allowed!)...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"You can use emojis in your room name! 🎉✨🚀"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Fl,{className:"inline h-4 w-4 mr-1"}),"Auto-Expiry"]}),d.jsxs("select",{value:l,onChange:J=>c(Number(J.target.value)),className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",children:[d.jsx("option",{value:1,children:"1 hour"}),d.jsx("option",{value:6,children:"6 hours"}),d.jsx("option",{value:12,children:"12 hours"}),d.jsx("option",{value:24,children:"24 hours (default)"}),d.jsx("option",{value:72,children:"3 days"}),d.jsx("option",{value:168,children:"1 week"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(zs,{className:"inline h-4 w-4 mr-1"}),"Token Requirement (Optional)"]}),d.jsx("input",{type:"number",value:f||"",onChange:J=>p(J.target.value?Number(J.target.value):void 0),placeholder:"Minimum ZRM tokens required to join",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for open access"})]}),d.jsx("button",{onClick:H,disabled:!s.trim()||v,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed",children:v?"Creating Room...":"Create Room"}),d.jsxs("div",{className:"bg-cyan-600/10 border border-cyan-500/30 rounded-xl p-4 text-center",children:[d.jsx("p",{className:"text-cyan-400 text-sm mb-2",children:"🎉 You'll earn 10 ZRM tokens for creating this room!"}),d.jsx("p",{className:"text-cyan-300 text-xs",children:"Plus additional tokens for each message and user interaction in your room."})]})]})]})})):(console.log("🚫 CreateRoom: Showing login required screen"),d.jsx("div",{className:"container mx-auto px-4 py-12 max-w-2xl",children:d.jsx("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-purple-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Jd,{className:"h-8 w-8 text-purple-400"})}),d.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Sign In Required"}),d.jsx("p",{className:"text-gray-400 mb-8",children:"You need to be signed in to create rooms. This helps us track your activity and reward you with ZRM tokens!"}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-600/10 to-pink-600/10 border border-purple-500/30 rounded-xl p-6 mb-8",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Benefits of Creating an Account"}),d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[d.jsx($r,{className:"h-4 w-4"}),d.jsx("span",{children:"Track your rooms and activity"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[d.jsx($r,{className:"h-4 w-4"}),d.jsx("span",{children:"Earn ZRM tokens for activity"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[d.jsx($r,{className:"h-4 w-4"}),d.jsx("span",{children:"Build your reputation score"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-purple-300",children:[d.jsx($r,{className:"h-4 w-4"}),d.jsx("span",{children:"Access exclusive features"})]})]})]}),d.jsxs("button",{onClick:()=>{console.log("🔐 CreateRoom: Sign in button clicked, calling onShowAuth"),n?n():(console.log("❌ CreateRoom: onShowAuth not available, trying window event"),window.dispatchEvent(new CustomEvent("show-auth-modal")))},className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-8 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2 mx-auto",children:[d.jsx(Jd,{className:"h-5 w-5"}),d.jsx("span",{children:"Sign In to Create Room"})]}),d.jsx("p",{className:"text-gray-500 text-sm mt-6",children:"Don't have an account? The sign-in modal also allows you to create a new account!"})]})})}))},gf=({currentUser:a})=>{const{roomId:n}=Dh(),[s,i]=q.useState(""),[l,c]=q.useState(!1),[f,p]=q.useState(""),v=Js();q.useEffect(()=>{console.log("🚪 JoinRoom: Component mounted/updated:",{roomId:n,currentUser:a?{user_id:a.user_id,display_name:a.display_name,email:a.email}:null,hasCurrentUser:!!a})},[n,a]);const x=async()=>{console.log("🚪 JoinRoom: Join room clicked");const k=a?a.display_name:s.trim();if(console.log("🚪 JoinRoom: Username to use:",k),console.log("🚪 JoinRoom: Room ID:",n),!k||!n){console.error("❌ JoinRoom: Missing username or room ID"),p("Missing required information to join room");return}c(!0),p("");try{console.log("🚪 JoinRoom: Calling joinRoom function...");const j=await ly(n,k);console.log("✅ JoinRoom: Successfully joined room:",j),console.log("🏠 JoinRoom: Room data:",j.room),console.log("👤 JoinRoom: User data:",j.user),console.log("🚪 JoinRoom: Navigating to chat room..."),v(`/room/${n}`,{state:{room:j.room,user:j.user}})}catch(j){console.error("❌ JoinRoom: Error joining room:",j),p(j.message||"Failed to join room")}finally{c(!1)}};return d.jsx("div",{className:"container mx-auto px-4 py-12 max-w-md",children:d.jsxs("div",{className:"bg-gray-800/30 backdrop-blur-sm border border-purple-500/20 rounded-2xl p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-cyan-500/20 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Kn,{className:"h-8 w-8 text-cyan-400"})}),d.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Room"}),n&&d.jsxs("div",{className:"bg-gray-900/50 rounded-xl p-4 mb-4",children:[d.jsx("span",{className:"text-gray-400 text-sm",children:"Room ID:"}),d.jsx("div",{className:"text-2xl font-mono font-bold text-purple-400",children:n})]}),d.jsx("p",{className:"text-gray-400",children:a?"Ready to join the conversation!":"Enter your username to start chatting"})]}),d.jsxs("div",{className:"space-y-6",children:[f&&d.jsx("div",{className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4 text-red-400 text-center",children:f}),a?d.jsx("div",{className:"bg-gradient-to-r from-cyan-600/10 to-blue-600/10 border border-cyan-500/30 rounded-xl p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${a.is_owner?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-cyan-600 to-blue-600 text-white"}`,children:a.is_owner?"👑":a.display_name.charAt(0).toUpperCase()}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"text-white font-medium",children:a.display_name}),d.jsxs("div",{className:"text-cyan-400 text-sm",children:["Signed in • ",a.activity_score.toLocaleString()," pts"]})]}),d.jsx("div",{className:"text-xs text-gray-400 bg-gray-700/50 px-2 py-1 rounded-lg",children:"Auto-filled"})]})}):d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[d.jsx(Vn,{className:"inline h-4 w-4 mr-1"}),"Username"]}),d.jsx("input",{type:"text",value:s,onChange:k=>i(k.target.value),placeholder:"Enter your username...",className:"w-full bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",onKeyPress:k=>k.key==="Enter"&&s.trim()&&x(),maxLength:20}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This will be your display name in the chat"})]}),d.jsx("button",{onClick:x,disabled:(a?!1:!s.trim())||l,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 disabled:from-gray-600 disabled:to-gray-700 text-white px-6 py-4 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:l?d.jsxs(d.Fragment,{children:[d.jsx(Sl,{className:"h-5 w-5 animate-spin"}),d.jsx("span",{children:"Joining..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Kn,{className:"h-5 w-5"}),d.jsx("span",{children:"Join Room"})]})}),!a&&d.jsxs("div",{className:"bg-purple-600/10 border border-purple-500/30 rounded-xl p-4 text-center",children:[d.jsx("p",{className:"text-purple-400 text-sm mb-2",children:"Want to keep your identity across rooms?"}),d.jsx("p",{className:"text-purple-300 text-xs",children:"Sign up for a free account to maintain your username, earn tokens, and track your activity!"})]})]})]})})},wy=()=>d.jsx("div",{className:"relative h-4 w-4",children:d.jsxs("svg",{viewBox:"0 0 24 24",className:"h-full w-full",children:[d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:"ziproom-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[d.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),d.jsx("stop",{offset:"50%",stopColor:"#A855F7"}),d.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),d.jsxs("filter",{id:"glow",children:[d.jsx("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),d.jsxs("feMerge",{children:[d.jsx("feMergeNode",{in:"coloredBlur"}),d.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),d.jsx("path",{d:"M13 2L3 14h6l-2 8 10-12h-6l2-8z",fill:"url(#ziproom-gradient)",filter:"url(#glow)",className:"animate-pulse"})]})}),xy=()=>d.jsxs("div",{className:"relative h-4 w-4",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-500 via-orange-500 to-yellow-400 rounded-full animate-pulse"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-red-600 via-orange-600 to-yellow-500 rounded-full animate-ping opacity-75"}),d.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-1 h-2 bg-yellow-300 rounded-full animate-bounce"})]}),_y=()=>d.jsxs("div",{className:"relative h-4 w-4",children:[d.jsx(P0,{className:"h-4 w-4 text-cyan-400"}),d.jsx(Qn,{className:"h-2 w-2 text-yellow-400 absolute -top-1 -right-1 animate-pulse"})]}),by=()=>d.jsx(A0,{className:"h-4 w-4 text-blue-400 animate-bounce"}),ky=()=>d.jsxs("div",{className:"flex items-center space-x-0.5",children:[d.jsx(Hh,{className:"h-3 w-3 text-emerald-400"}),d.jsx("span",{className:"text-xs text-emerald-400 font-bold",children:"1"})]}),an=[{id:"ziproom-lightning",emoji:d.jsx(wy,{}),name:"ZipRoom",category:"custom"},{id:"brain-lightning",emoji:d.jsx(_y,{}),name:"Mind Blown",category:"custom"},{id:"fire",emoji:d.jsx(xy,{}),name:"Fire",category:"custom"},{id:"wave",emoji:d.jsx(by,{}),name:"Wave",category:"custom"},{id:"plus-one",emoji:d.jsx(ky,{}),name:"+1",category:"custom"},{id:"grinning",emoji:"😀",name:"Grinning",category:"faces"},{id:"joy",emoji:"😂",name:"Joy",category:"faces"},{id:"rofl",emoji:"🤣",name:"ROFL",category:"faces"},{id:"smile",emoji:"😊",name:"Smile",category:"faces"},{id:"heart-eyes",emoji:"😍",name:"Heart Eyes",category:"faces"},{id:"wink",emoji:"😉",name:"Wink",category:"faces"},{id:"thinking",emoji:"🤔",name:"Thinking",category:"faces"},{id:"neutral",emoji:"😐",name:"Neutral",category:"faces"},{id:"confused",emoji:"😕",name:"Confused",category:"faces"},{id:"worried",emoji:"😟",name:"Worried",category:"faces"},{id:"sad",emoji:"😢",name:"Sad",category:"faces"},{id:"angry",emoji:"😠",name:"Angry",category:"faces"},{id:"rage",emoji:"😡",name:"Rage",category:"faces"},{id:"cry",emoji:"😭",name:"Crying",category:"faces"},{id:"shocked",emoji:"😱",name:"Shocked",category:"faces"},{id:"tired",emoji:"😴",name:"Tired",category:"faces"},{id:"sick",emoji:"🤒",name:"Sick",category:"faces"},{id:"cool",emoji:"😎",name:"Cool",category:"faces"},{id:"nerd",emoji:"🤓",name:"Nerd",category:"faces"},{id:"crazy",emoji:"🤪",name:"Crazy",category:"faces"},{id:"thumbs-up",emoji:"👍",name:"Thumbs Up",category:"gestures"},{id:"thumbs-down",emoji:"👎",name:"Thumbs Down",category:"gestures"},{id:"ok-hand",emoji:"👌",name:"OK",category:"gestures"},{id:"peace",emoji:"✌️",name:"Peace",category:"gestures"},{id:"crossed-fingers",emoji:"🤞",name:"Crossed Fingers",category:"gestures"},{id:"rock-on",emoji:"🤘",name:"Rock On",category:"gestures"},{id:"call-me",emoji:"🤙",name:"Call Me",category:"gestures"},{id:"point-up",emoji:"☝️",name:"Point Up",category:"gestures"},{id:"point-right",emoji:"👉",name:"Point Right",category:"gestures"},{id:"point-down",emoji:"👇",name:"Point Down",category:"gestures"},{id:"point-left",emoji:"👈",name:"Point Left",category:"gestures"},{id:"raised-hand",emoji:"✋",name:"Raised Hand",category:"gestures"},{id:"high-five",emoji:"🙏",name:"High Five",category:"gestures"},{id:"clap",emoji:"👏",name:"Clap",category:"gestures"},{id:"muscle",emoji:"💪",name:"Muscle",category:"gestures"},{id:"red-heart",emoji:"❤️",name:"Red Heart",category:"hearts"},{id:"orange-heart",emoji:"🧡",name:"Orange Heart",category:"hearts"},{id:"yellow-heart",emoji:"💛",name:"Yellow Heart",category:"hearts"},{id:"green-heart",emoji:"💚",name:"Green Heart",category:"hearts"},{id:"blue-heart",emoji:"💙",name:"Blue Heart",category:"hearts"},{id:"purple-heart",emoji:"💜",name:"Purple Heart",category:"hearts"},{id:"black-heart",emoji:"🖤",name:"Black Heart",category:"hearts"},{id:"white-heart",emoji:"🤍",name:"White Heart",category:"hearts"},{id:"broken-heart",emoji:"💔",name:"Broken Heart",category:"hearts"},{id:"sparkling-heart",emoji:"💖",name:"Sparkling Heart",category:"hearts"},{id:"star",emoji:"⭐",name:"Star",category:"objects"},{id:"sparkles",emoji:"✨",name:"Sparkles",category:"objects"},{id:"boom",emoji:"💥",name:"Boom",category:"objects"},{id:"lightning-bolt",emoji:"⚡",name:"Lightning",category:"objects"},{id:"party",emoji:"🎉",name:"Party",category:"objects"},{id:"rocket",emoji:"🚀",name:"Rocket",category:"objects"},{id:"trophy",emoji:"🏆",name:"Trophy",category:"objects"},{id:"medal",emoji:"🏅",name:"Medal",category:"objects"},{id:"crown",emoji:"👑",name:"Crown",category:"objects"},{id:"gem",emoji:"💎",name:"Gem",category:"objects"},{id:"money",emoji:"💰",name:"Money",category:"objects"},{id:"check",emoji:"✅",name:"Check",category:"objects"},{id:"x",emoji:"❌",name:"X",category:"objects"},{id:"warning",emoji:"⚠️",name:"Warning",category:"objects"},{id:"question",emoji:"❓",name:"Question",category:"objects"},{id:"exclamation",emoji:"❗",name:"Exclamation",category:"objects"},{id:"hundred",emoji:"💯",name:"100",category:"objects"}],jy=({messageId:a,reactions:n,onReact:s,onShowPicker:i,showPicker:l})=>{const c=[{id:"custom",name:"ZipRoom",emojis:an.filter(f=>f.category==="custom")},{id:"faces",name:"Faces",emojis:an.filter(f=>f.category==="faces")},{id:"gestures",name:"Gestures",emojis:an.filter(f=>f.category==="gestures")},{id:"hearts",name:"Hearts",emojis:an.filter(f=>f.category==="hearts")},{id:"objects",name:"Objects",emojis:an.filter(f=>f.category==="objects")}];return d.jsxs("div",{className:"relative",children:[n.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:n.map(f=>d.jsxs("button",{onClick:()=>s(a,f.id),className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs transition-all duration-200 hover:scale-105 ${f.userReacted?"bg-purple-600/50 border border-purple-400/50 text-white shadow-lg shadow-purple-500/25":"bg-gray-700/50 border border-gray-600/50 text-gray-300 hover:bg-gray-600/50"}`,children:[d.jsx("span",{className:"text-sm",children:f.emoji}),d.jsx("span",{className:"font-medium",children:f.count})]},f.id))}),l&&d.jsxs("div",{className:"absolute bottom-full left-0 mb-2 bg-gray-800/95 backdrop-blur-sm border border-purple-500/30 rounded-xl shadow-2xl z-50 max-w-xs",children:[d.jsx("div",{className:"max-h-80 overflow-y-auto",children:c.map(f=>d.jsxs("div",{className:"p-3 border-b border-gray-700/50 last:border-b-0",children:[d.jsx("h4",{className:"text-xs font-medium text-gray-400 mb-2 uppercase tracking-wide",children:f.name}),d.jsx("div",{className:"grid grid-cols-6 gap-1",children:f.emojis.map(p=>d.jsx("button",{onClick:()=>{s(a,p.id),i(a)},className:"flex items-center justify-center p-2 rounded-lg hover:bg-gray-700/50 transition-all duration-200 hover:scale-110",title:p.name,children:d.jsx("span",{className:"text-lg",children:p.emoji})},p.id))})]},f.id))}),d.jsxs("div",{className:"p-2 bg-gray-900/50 rounded-b-xl border-t border-gray-700/50",children:[d.jsx("div",{className:"text-xs text-gray-500 text-center mb-1",children:"Quick Reactions"}),d.jsx("div",{className:"flex justify-center space-x-1",children:["ziproom-lightning","thumbs-up","red-heart","joy","fire"].map(f=>{const p=an.find(v=>v.id===f);return p?d.jsx("button",{onClick:()=>{s(a,f),i(a)},className:"p-1 rounded hover:bg-gray-700/50 transition-colors",title:p.name,children:d.jsx("span",{className:"text-lg",children:p.emoji})},f):null})})]})]})]})},Sy=({isOpen:a,onClose:n,users:s,currentUserId:i})=>{if(!a)return null;const l=[...s].sort((x,k)=>rt(x.username)==="anton"?-1:rt(k.username)==="anton"?1:x.is_admin&&!k.is_admin?-1:!x.is_admin&&k.is_admin?1:new Date(x.joined_at).getTime()-new Date(k.joined_at).getTime()),c=x=>rt(x.username)==="anton"?"Anton 👑":x.username,f=x=>rt(x.username)==="anton"?"Owner":x.is_admin?"Admin":"Member",p=x=>rt(x.username)==="anton"?"text-yellow-400":x.is_admin?"text-purple-400":"text-gray-400",v=x=>rt(x.username)==="anton"?"border-yellow-500/30 bg-gradient-to-r from-yellow-600/10 to-orange-600/10":x.is_admin?"border-purple-500/30 bg-purple-600/10":"border-gray-600/30 bg-gray-700/10";return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-gray-800/95 backdrop-blur-sm border border-purple-500/30 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-white flex items-center space-x-2",children:[d.jsx(Kn,{className:"h-5 w-5 text-purple-400"}),d.jsxs("span",{children:["Online Users (",s.length,")"]})]}),d.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:d.jsx(Vs,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto",children:l.map(x=>d.jsxs("div",{className:`border rounded-xl p-4 transition-all duration-200 hover:scale-[1.02] ${v(x)}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold ${rt(x.username)==="anton"?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white shadow-lg shadow-yellow-500/25":x.is_admin?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gradient-to-r from-gray-600 to-gray-700 text-white"}`,children:rt(x.username)==="anton"?d.jsx(zr,{className:"h-5 w-5"}):x.username.charAt(0).toUpperCase()}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("span",{className:`font-medium ${x.user_id===i?"text-cyan-400":"text-white"}`,children:c(x)}),x.user_id===i&&d.jsx("span",{className:"text-xs bg-cyan-600/20 text-cyan-400 px-2 py-0.5 rounded-full",children:"You"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[d.jsx("span",{className:p(x),children:f(x)}),d.jsx("span",{className:"text-gray-500",children:"•"}),d.jsxs("span",{className:"text-gray-500",children:["Joined ",new Date(x.joined_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{className:"text-xs text-gray-400",children:"Online"})]})]}),rt(x.username)==="anton"&&d.jsx("div",{className:"mt-3 pt-3 border-t border-yellow-500/20",children:d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-400",children:[d.jsx(zr,{className:"h-3 w-3"}),d.jsx("span",{children:"Platform Owner"})]}),d.jsxs("div",{className:"flex items-center space-x-1 text-yellow-400",children:[d.jsx(Qn,{className:"h-3 w-3"}),d.jsx("span",{children:"5M ZRM"})]})]})})]},x.id))}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700/50",children:d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[d.jsx("span",{children:"Real-time updates"}),d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Live"})]})]})})]})})},Cy=({typingUsers:a})=>{if(a.length===0)return null;const n=()=>a.length===1?`${a[0].username} is typing`:a.length===2?`${a[0].username} and ${a[1].username} are typing`:`${a[0].username} and ${a.length-1} others are typing`;return d.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 text-gray-400 text-sm",children:[d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("div",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("div",{className:"w-2 h-2 bg-cyan-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),d.jsxs("span",{className:"italic",children:[n(),"..."]})]})},vf=({currentUser:a})=>{const{roomId:n}=Dh(),s=Zn(),i=Js(),l=q.useRef(null),c=q.useRef(null),f=q.useRef(null),[p,v]=q.useState([]),[x,k]=q.useState(""),[j,R]=q.useState(!1),[I,W]=q.useState(""),[U,M]=q.useState([]),[te,le]=q.useState(null),[H,oe]=q.useState([]),[ge,J]=q.useState(null),[ue,Pe]=q.useState([]),[qe,Ze]=q.useState(!1),[gt,lt]=q.useState(!0),[He,K]=q.useState(!0),[Q,L]=q.useState(!1),[w,m]=q.useState("connecting"),{room:b,user:_}=s.state||{};q.useEffect(()=>{console.log("💬 ChatRoom: Component mounted/updated with:",{roomId:n,room:b?{id:b.id,room_id:b.room_id,name:b.name,creator_id:b.creator_id}:null,user:_?{id:_.id,room_id:_.room_id,user_id:_.user_id,username:_.username,is_admin:_.is_admin}:null,currentUser:a?{user_id:a.user_id,display_name:a.display_name}:null,hasLocationState:!!s.state,connectionStatus:w,onlineUsersCount:U.length})},[n,b,_,a,s.state,w,U.length]);const g=()=>{if(!c.current)return!0;const V=c.current,Ee=V.scrollHeight-V.scrollTop-V.clientHeight<100;return lt(Ee),K(Ee),Ee},S=(V=!1)=>{var fe;(V||He)&&((fe=l.current)==null||fe.scrollIntoView({behavior:"smooth"}))},B=(V,fe)=>V===(_==null?void 0:_.user_id)?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":rt(fe)==="anton"?"bg-gradient-to-r from-yellow-600/80 to-orange-600/80 text-white border border-yellow-500/30 shadow-lg shadow-yellow-500/20":"bg-gray-800/50 text-gray-100",D=(V,fe)=>V===(_==null?void 0:_.user_id)?"text-purple-200":rt(fe)==="anton"?"text-yellow-300 font-bold":"text-gray-400",ne=(V,fe)=>V===(_==null?void 0:_.user_id)?"You":rt(fe)==="anton"?"Anton 👑":fe,Z=async()=>{if(!b||!_)return console.error("❌ ensureUserInRoom: Missing required data:",{hasRoom:!!b,hasUser:!!_}),!1;try{console.log("🔄 ensureUserInRoom: Ensuring user is in room_users table...");const{error:V}=await Ie.from("room_users").upsert({room_id:b.room_id,user_id:_.user_id,username:_.username,is_admin:_.is_admin||!1},{onConflict:"room_id,user_id"});return V?(console.error("❌ ensureUserInRoom: Error upserting user:",V),!1):(console.log("✅ ensureUserInRoom: User ensured in room_users table"),!0)}catch(V){return console.error("💥 ensureUserInRoom: Unexpected error:",V),!1}},ie=async()=>{if(!(b!=null&&b.room_id)){console.log("❌ loadOnlineUsers: No room ID provided");return}try{console.log("👥 loadOnlineUsers: Loading users for room:",b.room_id);const{data:V,error:fe}=await Ie.from("room_users").select("*").eq("room_id",b.room_id).order("joined_at",{ascending:!0});if(fe)throw console.error("❌ loadOnlineUsers: Error loading users:",fe),fe;const Ee=V||[];console.log("👥 loadOnlineUsers: Loaded users:",Ee.length),M(Ee)}catch(V){console.error("❌ loadOnlineUsers: Error loading users:",V)}};q.useEffect(()=>{if(!b||!_){console.log("❌ ChatRoom: Missing room or user data, redirecting to home"),i("/");return}console.log("🚀 ChatRoom: Starting initialization..."),(async()=>{try{if(m("connecting"),console.log("🔄 ChatRoom: Step 1 - Ensuring user is in room..."),!await Z()){console.error("❌ ChatRoom: Failed to ensure user in room"),m("error");return}console.log("🔄 ChatRoom: Step 2 - Loading initial data..."),await Promise.all([X(),ie()]),m("connected"),console.log("🎉 ChatRoom: Initialization completed successfully!")}catch(ve){console.error("💥 ChatRoom: Initialization failed:",ve),m("error")}})();const fe=Ie.channel(`room-messages-${b.room_id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`room_id=eq.${b.room_id}`},ve=>{console.log("💬 ChatRoom: New message received:",ve.new);const De=ve.new;v(ye=>{if(ye.find(nt=>nt.id===De.id))return ye;const We={...De,reactions:[]};return[...ye,We]})}).subscribe(ve=>{console.log("💬 ChatRoom: Messages subscription status:",ve)}),Ee=Ie.channel(`room-reactions-${b.room_id}`).on("postgres_changes",{event:"*",schema:"public",table:"message_reactions"},()=>{console.log("😀 ChatRoom: Reaction change detected, reloading reactions..."),ae()}).subscribe(ve=>{console.log("💬 ChatRoom: Reactions subscription status:",ve)}),Le=Ie.channel(`room-users-${b.room_id}`).on("postgres_changes",{event:"*",schema:"public",table:"room_users",filter:`room_id=eq.${b.room_id}`},ve=>{console.log("👥 ChatRoom: Room users change detected:",ve),setTimeout(()=>ie(),500)}).subscribe(ve=>{console.log("💬 ChatRoom: Users subscription status:",ve)}),$e=Ie.channel(`room-typing-${b.room_id}`).on("broadcast",{event:"typing"},ve=>{const{user_id:De,username:ye,is_typing:We}=ve.payload;De!==_.user_id&&Pe(nt=>{const et=nt.filter(or=>or.user_id!==De);return We?[...et,{user_id:De,username:ye,timestamp:Date.now()}]:et})}).subscribe(ve=>{console.log("💬 ChatRoom: Typing subscription status:",ve)}),Re=setInterval(he,1e3);he();const _e=setInterval(()=>{Pe(ve=>ve.filter(De=>Date.now()-De.timestamp<5e3))},1e3);return()=>{console.log("💬 ChatRoom: Cleaning up subscriptions"),fe.unsubscribe(),Ee.unsubscribe(),Le.unsubscribe(),$e.unsubscribe(),clearInterval(Re),clearInterval(_e),f.current&&clearTimeout(f.current)}},[b,_,i]),q.useEffect(()=>{S()},[p]),q.useEffect(()=>{ue.length>0&&He&&S()},[ue,He]),q.useEffect(()=>{p.length>0&&ae()},[p.length]);const X=async()=>{if(b!=null&&b.room_id)try{console.log("💬 loadMessages: Loading messages for room:",b.room_id);const V=await cy(b.room_id);console.log("💬 loadMessages: Loaded messages:",V.length);const fe=V.map(Ee=>({...Ee,reactions:[]}));v(fe),setTimeout(()=>S(!0),100)}catch(V){console.error("❌ loadMessages: Error loading messages:",V)}},ae=async()=>{if(p.length!==0)try{console.log("😀 loadReactions: Loading reactions for",p.length,"messages");const V=p.map(Ee=>Ee.id),fe=await fy(V);console.log("😀 loadReactions: Loaded",fe.length,"reactions"),oe(fe),v(Ee=>Ee.map(Le=>{const $e=fe.filter(ve=>ve.message_id===Le.id),Re={};$e.forEach(ve=>{Re[ve.emoji_id]||(Re[ve.emoji_id]={count:0,userReacted:!1}),Re[ve.emoji_id].count++,ve.user_id===(_==null?void 0:_.user_id)&&(Re[ve.emoji_id].userReacted=!0)});const _e=Object.entries(Re).map(([ve,De])=>{const ye=an.find(We=>We.id===ve);return{id:ve,emoji:(ye==null?void 0:ye.emoji)||ve,name:(ye==null?void 0:ye.name)||ve,count:De.count,userReacted:De.userReacted}});return{...Le,reactions:_e}}))}catch(V){console.error("❌ loadReactions: Error loading reactions:",V)}},xe=V=>{!(b!=null&&b.room_id)||!_||Ie.channel(`room-typing-${b.room_id}`).send({type:"broadcast",event:"typing",payload:{user_id:_.user_id,username:_.username,is_typing:V}})},be=V=>{k(V.target.value),!qe&&V.target.value.trim()&&(Ze(!0),xe(!0)),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{Ze(!1),xe(!1)},1e3),!V.target.value.trim()&&qe&&(Ze(!1),xe(!1))},P=async()=>{if(console.log("💬 handleSendMessage: Send message clicked"),!x.trim()){console.log("❌ handleSendMessage: Empty message, not sending");return}if(!(b!=null&&b.room_id)||!_){console.log("❌ handleSendMessage: Missing room ID or user data"),alert("Error: Missing room or user data");return}if(j){console.log("❌ handleSendMessage: Already loading, not sending");return}if(w!=="connected"){console.log("⚠️ handleSendMessage: Not connected"),alert("Please wait for connection to complete before sending messages.");return}qe&&(Ze(!1),xe(!1),f.current&&clearTimeout(f.current)),R(!0);try{console.log("💬 handleSendMessage: Sending message...");const V=await uy(b.room_id,_.user_id,_.username,x.trim(),te==null?void 0:te.id,te==null?void 0:te.username,te==null?void 0:te.content);console.log("✅ handleSendMessage: Message sent successfully:",V),a&&await ff(a.user_id,"message",1,{room_id:b.room_id,message_length:x.trim().length}),v(fe=>{if(fe.find(Le=>Le.id===V.id))return fe;const Ee={...V,reactions:[]};return[...fe,Ee]}),k(""),le(null),K(!0),setTimeout(()=>S(!0),100)}catch(V){console.error("❌ handleSendMessage: Error sending message:",V),alert("Failed to send message. Please try again.")}finally{R(!1)}},z=V=>{le(V)},T=()=>{le(null)},F=async(V,fe)=>{if(_)try{console.log("😀 handleReaction: Processing reaction:",{messageId:V,emojiId:fe,userId:_.user_id}),H.find(Le=>Le.message_id===V&&Le.user_id===_.user_id&&Le.emoji_id===fe)?(console.log("😞 handleReaction: Removing existing reaction"),await hy(V,_.user_id,fe)):(console.log("😀 handleReaction: Adding new reaction"),await dy(V,_.user_id,fe)),setTimeout(()=>ae(),100)}catch(Ee){console.error("❌ handleReaction: Error handling reaction:",Ee)}},G=V=>{J(ge===V?null:V)},he=()=>{if(!b)return;const V=new Date().getTime(),Ee=new Date(b.expires_at).getTime()-V;if(Ee<=0){W("Expired"),i("/");return}const Le=Math.floor(Ee/(1e3*60*60)),$e=Math.floor(Ee%(1e3*60*60)/(1e3*60)),Re=Math.floor(Ee%(1e3*60)/1e3);W(`${Le}h ${$e}m ${Re}s`)},Se=()=>{qe&&xe(!1),i("/")},Ce=V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),P())},Te=()=>{g()};return!b||!_?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsxs("div",{className:"text-white text-center",children:[d.jsx("p",{className:"text-xl mb-4",children:"Loading room..."}),d.jsx("p",{className:"text-gray-400",children:"If this persists, please return to the home page"})]})}):d.jsxs("div",{className:"min-h-screen flex flex-col",children:[d.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border-b border-purple-500/20 p-4",children:d.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-xl font-bold text-white",children:b.name}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[d.jsxs("button",{onClick:()=>L(!0),className:"flex items-center space-x-1 hover:text-purple-400 transition-colors cursor-pointer",children:[d.jsx(Kn,{className:"h-4 w-4"}),d.jsxs("span",{children:[U.length," ",U.length===1?"person":"people"," online"]})]}),d.jsxs("span",{className:"flex items-center space-x-1",children:[d.jsx(Fl,{className:"h-4 w-4"}),d.jsx("span",{children:I})]}),w==="connecting"&&d.jsxs("span",{className:"text-yellow-400 text-xs flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Connecting..."})]}),w==="error"&&d.jsxs("span",{className:"text-red-400 text-xs flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-red-400 rounded-full"}),d.jsx("span",{children:"Connection Error"})]}),w==="connected"&&d.jsxs("span",{className:"text-green-400 text-xs flex items-center space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Connected"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{onClick:()=>L(!0),className:"bg-gradient-to-r from-purple-600/20 to-cyan-600/20 border border-purple-500/30 rounded-full px-3 py-1 hover:from-purple-600/30 hover:to-cyan-600/30 transition-all duration-300",children:d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx("div",{className:`w-2 h-2 rounded-full animate-pulse ${w==="connected"?"bg-green-400":w==="connecting"?"bg-yellow-400":"bg-red-400"}`}),d.jsx("span",{className:"text-purple-300 font-medium",children:U.length}),d.jsx(Kn,{className:"h-4 w-4 text-cyan-400"})]})}),d.jsx("button",{onClick:Se,className:"text-gray-400 hover:text-red-400 transition-colors",children:d.jsx(qh,{className:"h-6 w-6"})})]})]})}),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsxs("div",{ref:c,className:"h-full overflow-y-auto p-4 space-y-4",onScroll:Te,children:[p.length===0?d.jsxs("div",{className:"text-center text-gray-400 py-8",children:[d.jsx(gi,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),d.jsx("p",{children:"No messages yet. Start the conversation!"})]}):p.map(V=>d.jsxs("div",{className:`max-w-xs lg:max-w-md ${V.user_id===_.user_id?"ml-auto":""}`,children:[d.jsxs("div",{className:`rounded-2xl p-3 relative group ${B(V.user_id,V.username)}`,children:[d.jsxs("div",{className:"absolute -right-2 top-2 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col space-y-1",children:[d.jsx("button",{onClick:()=>z(V),className:"bg-gray-700 hover:bg-gray-600 text-white p-1 rounded-full",title:"Reply",children:d.jsx(Gd,{className:"h-3 w-3"})}),d.jsx("button",{onClick:()=>G(V.id),className:"bg-gray-700 hover:bg-gray-600 text-white p-1 rounded-full",title:"React",children:d.jsx(U0,{className:"h-3 w-3"})})]}),d.jsx("div",{className:"text-xs mb-1",children:d.jsx("span",{className:`font-medium ${D(V.user_id,V.username)}`,children:ne(V.user_id,V.username)})}),V.reply_to_id&&d.jsxs("div",{className:`text-xs p-2 rounded-lg mb-2 border-l-2 ${V.user_id===_.user_id?"bg-purple-700/30 border-purple-300":rt(V.username)==="anton"?"bg-yellow-700/30 border-yellow-300":"bg-gray-700/50 border-gray-400"}`,children:[d.jsxs("div",{className:"font-medium opacity-80",children:["Replying to ",rt(V.reply_to_username||"")==="anton"?"Anton 👑":V.reply_to_username]}),d.jsx("div",{className:"opacity-70 truncate",children:V.reply_to_content})]}),d.jsx("div",{className:"break-words",children:V.content}),d.jsx("div",{className:"text-xs opacity-70 mt-1",children:new Date(V.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),d.jsx(jy,{messageId:V.id,reactions:V.reactions,onReact:F,onShowPicker:G,showPicker:ge===V.id})]},V.id)),d.jsx(Cy,{typingUsers:ue}),d.jsx("div",{ref:l})]})}),!gt&&d.jsx("div",{className:"absolute bottom-24 right-6 z-10",children:d.jsx("button",{onClick:()=>{K(!0),S(!0)},className:"bg-purple-600 hover:bg-purple-500 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105",title:"Scroll to bottom",children:d.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})})}),te&&d.jsx("div",{className:"bg-gray-800/70 backdrop-blur-sm border-t border-purple-500/20 p-3",children:d.jsx("div",{className:"container mx-auto",children:d.jsxs("div",{className:"flex items-start justify-between bg-gray-700/50 rounded-lg p-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[d.jsx(Gd,{className:"h-4 w-4 text-purple-400"}),d.jsxs("span",{className:"text-sm font-medium text-purple-400",children:["Replying to ",rt(te.username)==="anton"?"Anton 👑":te.username]})]}),d.jsx("div",{className:"text-sm text-gray-300 truncate",children:te.content})]}),d.jsx("button",{onClick:T,className:"text-gray-400 hover:text-white transition-colors ml-3",children:d.jsx(Vs,{className:"h-4 w-4"})})]})})}),d.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm border-t border-purple-500/20 p-4",children:d.jsxs("div",{className:"container mx-auto",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("input",{type:"text",value:x,onChange:be,placeholder:w==="connected"?te?`Reply to ${rt(te.username)==="anton"?"Anton 👑":te.username}...`:"Type a message...":"Connecting to room...",className:"flex-1 bg-gray-900/50 border border-purple-500/30 rounded-xl px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500/50 focus:border-transparent",onKeyPress:Ce,disabled:j||w!=="connected",maxLength:1e3}),d.jsx("button",{onClick:P,disabled:!x.trim()||j||w!=="connected",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 disabled:from-gray-600 disabled:to-gray-700 text-white p-3 rounded-xl transition-all duration-300 transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed",children:j?d.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"}):d.jsx(D0,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-2",children:[d.jsxs("div",{children:[w==="connecting"&&d.jsx("span",{className:"text-yellow-400",children:"Connecting to room..."}),w==="error"&&d.jsx("span",{className:"text-red-400",children:"Connection error - please refresh"}),w==="connected"&&d.jsxs("span",{className:"text-green-400",children:["Connected • ",U.length," online"]})]}),d.jsxs("div",{children:[x.length,"/1000"]})]})]})}),d.jsx(Sy,{isOpen:Q,onClose:()=>L(!1),users:U,currentUserId:_.user_id})]})},Ny=({children:a})=>{const[n,s]=q.useState(!1),[i,l]=q.useState(!1),[c,f]=q.useState(null),[p,v]=q.useState(null),[x,k]=q.useState(!0),[j,R]=q.useState(!1),I=Zn();q.useEffect(()=>{(async()=>{console.log("🔍 Layout: Starting session check...");const oe=localStorage.getItem("ziproom_session");if(oe){console.log("🎫 Layout: Found session token, validating...",oe.substring(0,20)+"...");try{const ge=await ty(oe);ge?(console.log("✅ Layout: Valid session found, setting user:",ge.display_name),f(ge),v(oe),console.log("✅ Layout: User state updated successfully")):(console.log("❌ Layout: Invalid session, removing token"),localStorage.removeItem("ziproom_session"),f(null),v(null))}catch(ge){console.error("💥 Layout: Session validation error:",ge),localStorage.removeItem("ziproom_session"),f(null),v(null)}}else console.log("🚫 Layout: No session token found in localStorage"),f(null),v(null);k(!1),R(!0),console.log("✅ Layout: Session check completed")})()},[]),q.useEffect(()=>{const H=()=>{console.log("📢 Layout: Custom auth modal event received"),s(!0)};return window.addEventListener("show-auth-modal",H),()=>window.removeEventListener("show-auth-modal",H)},[]);const W=(H,oe)=>{console.log("🎉 Layout: User logged in successfully:",H.display_name),console.log("🎉 Layout: Setting user state and storing session"),f(H),v(oe),localStorage.setItem("ziproom_session",oe),console.log("✅ Layout: Login state updated, user should now be authenticated"),s(!1),setTimeout(()=>{console.log("🔄 Layout: Forcing state refresh after login"),f(H)},100)},U=async()=>{console.log("👋 Layout: Starting logout process"),p&&(await ry(p),localStorage.removeItem("ziproom_session")),f(null),v(null),console.log("✅ Layout: Logout completed, user state cleared")},M=H=>{console.log("📝 Layout: Profile updated:",H.display_name),f(H)},te=()=>{console.log("🔐 Layout: Opening auth modal"),s(!0)};if(q.useEffect(()=>{console.log("🏗️ Layout: Current authentication state:",{currentUser:c?{user_id:c.user_id,display_name:c.display_name,is_owner:c.is_owner,email:c.email}:null,sessionToken:p?p.substring(0,20)+"...":null,loading:x,sessionChecked:j,hasSessionInStorage:!!localStorage.getItem("ziproom_session")})},[c,p,x,j]),x||!j)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900 flex items-center justify-center",children:d.jsxs("div",{className:"text-white text-center",children:[d.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-purple-400 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("p",{children:"Loading..."})]})});const le=()=>{const H=I.pathname;return H==="/"?d.jsx(pf,{currentUser:c,onShowAuth:te}):H==="/create"?d.jsx(mf,{currentUser:c,onShowAuth:te}):H.startsWith("/join/")?d.jsx(gf,{currentUser:c}):H.startsWith("/room/")?d.jsx(vf,{currentUser:c}):Eh.cloneElement(a,{currentUser:c,onShowAuth:te})};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-gray-900",children:[d.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(circle_at_25%_25%,_rgba(139,92,246,0.1)_0%,_transparent_50%)]"}),d.jsx("div",{className:"fixed inset-0 bg-[radial-gradient(circle_at_75%_75%,_rgba(6,182,212,0.1)_0%,_transparent_50%)]"}),d.jsx("header",{className:"relative z-10 border-b border-purple-500/20 bg-gray-900/50 backdrop-blur-sm",children:d.jsx("div",{className:"container mx-auto px-4 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(k0,{to:"/",className:"flex items-center space-x-2 group transition-all duration-300 hover:scale-105",children:[d.jsxs("div",{className:"relative",children:[d.jsx(Qn,{className:"h-8 w-8 text-purple-400 group-hover:text-purple-300 transition-colors"}),d.jsx("div",{className:"absolute inset-0 animate-pulse bg-purple-400/20 rounded-full blur-md group-hover:bg-purple-300/30 transition-colors"})]}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-400 to-cyan-400 bg-clip-text text-transparent group-hover:from-purple-300 group-hover:to-cyan-300 transition-all",children:"ZipRoom"}),d.jsx("p",{className:"text-xs text-gray-400 group-hover:text-gray-300 transition-colors",children:"Disposable Chat"})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[c?d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:()=>l(!0),className:`flex items-center space-x-2 px-3 py-2 rounded-xl transition-all duration-300 hover:scale-105 ${c.is_owner?"bg-gradient-to-r from-yellow-600/20 to-orange-600/20 border border-yellow-500/30 text-yellow-300":"bg-gradient-to-r from-purple-600/20 to-pink-600/20 border border-purple-500/30 text-purple-300"}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${c.is_owner?"bg-gradient-to-r from-yellow-400 to-orange-500 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 text-white"}`,children:c.is_owner?"👑":c.display_name.charAt(0).toUpperCase()}),d.jsxs("div",{className:"hidden md:block",children:[d.jsx("div",{className:"text-sm font-medium",children:c.display_name}),d.jsxs("div",{className:"text-xs opacity-75",children:[c.activity_score.toLocaleString()," pts"]})]})]}),d.jsx("button",{onClick:U,className:"text-gray-400 hover:text-red-400 transition-colors p-2",title:"Logout",children:d.jsx(qh,{className:"h-5 w-5"})})]}):d.jsxs("button",{onClick:te,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 flex items-center space-x-2",children:[d.jsx(Vn,{className:"h-4 w-4"}),d.jsx("span",{children:"Sign In"})]}),d.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-xs text-gray-400",children:[d.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),d.jsx("span",{children:"Live"})]})]})]})})}),d.jsx("main",{className:"relative z-10",children:le()}),d.jsx("footer",{className:"relative z-10 border-t border-purple-500/20 bg-gray-900/50 backdrop-blur-sm mt-20",children:d.jsx("div",{className:"container mx-auto px-4 py-8",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:"Powered by ZRM Token • Secure • Disposable • Anonymous"}),d.jsxs("div",{className:"mt-2 flex justify-center space-x-4 text-xs text-gray-500",children:[d.jsx("span",{children:"Privacy First"}),d.jsx("span",{children:"•"}),d.jsx("span",{children:"No Data Stored"}),d.jsx("span",{children:"•"}),d.jsx("span",{children:"Auto-Expiry"})]})]})})}),d.jsx(sy,{isOpen:n,onClose:()=>s(!1),onLogin:W}),c&&d.jsx(oy,{isOpen:i,onClose:()=>l(!1),profile:c,onProfileUpdate:M})]})};function Ey(){return console.log("🚀 App: Component rendered"),d.jsx(x0,{children:d.jsx(Ny,{children:d.jsxs(f0,{children:[d.jsx(Ds,{path:"/",element:d.jsx(pf,{})}),d.jsx(Ds,{path:"/create",element:d.jsx(mf,{})}),d.jsx(Ds,{path:"/join/:roomId",element:d.jsx(gf,{})}),d.jsx(Ds,{path:"/room/:roomId",element:d.jsx(vf,{})})]})})})}bm.createRoot(document.getElementById("root")).render(d.jsx(q.StrictMode,{children:d.jsx(Ey,{})}));
